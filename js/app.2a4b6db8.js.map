{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./package/designer/plugins/extension-moddle/camunda/index.js","webpack:///./package/designer/plugins/extension-moddle/activiti/index.js","webpack:///./package/designer/plugins/extension-moddle/flowable/flowableExtension.js","webpack:///./src/highlight/index.js","webpack:///./src/App.vue?58ee","webpack:///./src/translations.js","webpack:///./src/modules/custom-renderer/CustomRenderer.js","webpack:///./src/modules/custom-renderer/index.js","webpack:///./package/designer/plugins/content-pad/contentPadProvider.js","webpack:///./package/designer/plugins/content-pad/index.js","webpack:///./package/designer/plugins/palette/CustomPalette.js","webpack:///./package/designer/plugins/palette/index.js","webpack:///./src/utils/xml2json.js","webpack:///src/App.vue","webpack:///./src/App.vue?60d0","webpack:///./src/App.vue","webpack:///./package/designer/ProcessDesigner.vue?e276","webpack:///./package/designer/plugins/defaultEmpty.js","webpack:///./package/designer/plugins/translate/customTranslate.js","webpack:///./package/designer/plugins/translate/zh.js","webpack:///./src/utils/request.js","webpack:///./src/api/common.js","webpack:///package/designer/ProcessDesigner.vue","webpack:///./package/designer/ProcessDesigner.vue?0931","webpack:///./package/designer/ProcessDesigner.vue","webpack:///./package/designer/index.js","webpack:///./package/penal/PropertiesPanel.vue?9f8e","webpack:///./package/penal/base/ElementBaseInfo.vue?3a2e","webpack:///package/penal/base/ElementBaseInfo.vue","webpack:///./package/penal/base/ElementBaseInfo.vue?603c","webpack:///./package/penal/base/ElementBaseInfo.vue","webpack:///./package/penal/other/ElementOtherConfig.vue?c1d6","webpack:///package/penal/other/ElementOtherConfig.vue","webpack:///./package/penal/other/ElementOtherConfig.vue?af05","webpack:///./package/penal/other/ElementOtherConfig.vue","webpack:///./package/penal/task/ElementTask.vue?791c","webpack:///./package/penal/task/task-components/UserTask.vue?1ede","webpack:///package/penal/task/task-components/UserTask.vue","webpack:///./package/penal/task/task-components/UserTask.vue?0aa2","webpack:///./package/penal/task/task-components/UserTask.vue","webpack:///./package/penal/task/task-components/ScriptTask.vue?8105","webpack:///package/penal/task/task-components/ScriptTask.vue","webpack:///./package/penal/task/task-components/ScriptTask.vue?e906","webpack:///./package/penal/task/task-components/ScriptTask.vue","webpack:///./package/penal/task/task-components/ReceiveTask.vue?9a0f","webpack:///package/penal/task/task-components/ReceiveTask.vue","webpack:///./package/penal/task/task-components/ReceiveTask.vue?90ad","webpack:///./package/penal/task/task-components/ReceiveTask.vue","webpack:///package/penal/task/ElementTask.vue","webpack:///./package/penal/task/ElementTask.vue?e198","webpack:///./package/penal/task/ElementTask.vue","webpack:///./package/penal/task/ServiceTask.vue?ca4b","webpack:///package/penal/task/ServiceTask.vue","webpack:///./package/penal/task/ServiceTask.vue?b849","webpack:///./package/penal/task/ServiceTask.vue","webpack:///./package/penal/multi-instance/ElementMultiInstance.vue?3a98","webpack:///package/penal/multi-instance/ElementMultiInstance.vue","webpack:///./package/penal/multi-instance/ElementMultiInstance.vue?dfd6","webpack:///./package/penal/multi-instance/ElementMultiInstance.vue","webpack:///./package/penal/flow-condition/FlowCondition.vue?8afc","webpack:///package/penal/flow-condition/FlowCondition.vue","webpack:///./package/penal/flow-condition/FlowCondition.vue?1f6a","webpack:///./package/penal/flow-condition/FlowCondition.vue","webpack:///./package/penal/signal-message/SignalAndMessage.vue?c333","webpack:///package/penal/signal-message/SignalAndMessage.vue","webpack:///./package/penal/signal-message/SignalAndMessage.vue?f7f7","webpack:///./package/penal/signal-message/SignalAndMessage.vue","webpack:///./package/penal/listeners/ElementListeners.vue?d7bd","webpack:///./package/utils.js","webpack:///./package/penal/listeners/utilSelf.js","webpack:///package/penal/listeners/ElementListeners.vue","webpack:///./package/penal/listeners/ElementListeners.vue?03ce","webpack:///./package/penal/listeners/ElementListeners.vue","webpack:///./package/penal/properties/ElementProperties.vue?e592","webpack:///package/penal/properties/ElementProperties.vue","webpack:///./package/penal/properties/ElementProperties.vue?1738","webpack:///./package/penal/properties/ElementProperties.vue","webpack:///./package/penal/form/ElementForm.vue?4a0c","webpack:///package/penal/form/ElementForm.vue","webpack:///./package/penal/form/ElementForm.vue?179f","webpack:///./package/penal/form/ElementForm.vue","webpack:///./package/penal/listeners/UserTaskListeners.vue?9625","webpack:///package/penal/listeners/UserTaskListeners.vue","webpack:///./package/penal/listeners/UserTaskListeners.vue?b1e7","webpack:///./package/penal/listeners/UserTaskListeners.vue","webpack:///./package/penal/listeners/EventListeners.vue?bd1a","webpack:///package/penal/listeners/EventListeners.vue","webpack:///./package/penal/listeners/EventListeners.vue?4463","webpack:///./package/penal/listeners/EventListeners.vue","webpack:///package/penal/PropertiesPanel.vue","webpack:///./package/penal/PropertiesPanel.vue?54b8","webpack:///./package/penal/PropertiesPanel.vue","webpack:///./package/penal/index.js","webpack:///./package/index.js","webpack:///./src/main.js","webpack:///./src/App.vue?db16","webpack:///./package/designer/plugins/extension-moddle/camunda/extension.js","webpack:///./package/designer/plugins/extension-moddle/activiti/activitiExtension.js","webpack:///./package/designer/plugins/extension-moddle/flowable/index.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","__init__","camundaModdleExtension","require","ActivitiModdleExtension","some","ALLOWED_TYPES","FailedJobRetryTimeCycle","Connector","Field","is","element","type","$instanceOf","exists","includesType","collection","anyType","types","isAllowed","propName","propDescriptor","newElement","replace","FlowableModdleExtension","eventBus","on","context","propertyDescriptor","this","canCloneProperty","$inject","eventDefinitions","loopCharacteristics","hljs","registerLanguage","_vm","_h","$createElement","_c","_self","attrs","_b","reloadIndex","ref","elementClick","initModeler","model","callback","$$v","xmlString","expression","controlForm","staticClass","modeler","prefix","$event","controlDrawerVisible","nativeOn","preventDefault","reloadProcessDesigner","$set","changeLabelEditingStatus","changeLabelVisibleStatus","_v","staticRenderFns","CustomRenderer","config","styles","pathMap","canvas","textRenderer","BpmnRenderer","handlers","F","constructor","customRenderer","ContextPadProvider","injector","contextPad","modeling","elementFactory","connect","popupMenu","rules","translate","elementRegistry","registerProvider","_contextPad","_modeling","_elementFactory","_connect","_create","_popupMenu","_canvas","_rules","_translate","autoPlace","_autoPlace","event","shape","hasPrimaryModifier","isOpen","entries","getEntries","action","click","isEventType","eventBo","definition","isType","isDefinition","definitions","forEach","def","$type","getContextPadEntries","actions","businessObject","startConnect","start","removeElement","removeElements","getReplaceMenuPosition","Y_OFFSET","diagramContainer","getContainer","pad","getPad","html","diagramRect","getBoundingClientRect","padRect","top","left","pos","x","y","height","appendAction","className","title","options","appendStart","createShape","assign","source","append","group","dragstart","splitLaneHandler","count","splitLane","open","isAny","isExpanded","childLanes","getChildLanes","addLane","eventDefinitionType","isForCompensation","isEventSubProcess","isEmpty","position","cursor","deleteAllowed","allowed","elements","isArray","delete","contextPadProvider","CustomContextPadProvider","CustomPalette","palette","spaceTool","lassoTool","handTool","globalConnect","PaletteProvider","getPaletteEntries","_spaceTool","_lassoTool","_handTool","_globalConnect","createAction","createListener","di","shortType","createSubprocess","subProcess","startEvent","parent","hints","autoSelect","createParticipant","createParticipantShape","activateHand","activateSelection","toggle","separator","paletteProvider","xmlObj2json","components","translationsSelf","processId","processName","simulation","labelEditing","labelVisible","headerButtonSize","additionalModel","addis","CustomContentPadProvider","CustomPaletteProvider","created","methods","setTimeout","console","deep","undefined","$refs","processDesigner","processRestart","status","labelEditingProvider","component","_t","$slots","_e","headerButtonType","refFile","slot","downloadProcessAsXml","downloadProcessAsSvg","downloadProcessAsBpmn","uploadProcess","previewProcessXML","previewProcessJson","simulationStatus","processSimulation","elementsAlign","defaultZoom","processZoomOut","_s","Math","floor","processZoomIn","processReZoom","revocable","processUndo","recoverable","processRedo","staticStyle","importLocalFile","previewModelVisible","previewType","previewResult","TYPE_TARGET","activiti","camunda","flowable","customTranslate","translations","template","replacements","_","str","Remove","DataObjectReference","DataStoreReference","Loop","Task","StartEvent","EndEvent","Transaction","Id","Name","General","Details","Message","Initiator","Exclusive","Documentation","Forms","ID","Type","Label","Validation","Config","Properties","Value","Listeners","Expression","Script","Resource","Extensions","Parameters","Date","Duration","Cycle","Signal","Escalation","Error","Condition","Executable","External","Implementation","Fields","Topic","Assignee","Priority","Variables","Startable","service","axios","baseURL","timeout","interceptors","request","use","response","processDeploy","file","url","method","headers","componentName","props","moddleExtension","onlyCustomizeAddi","default","onlyCustomizeModdle","keyboard","events","validator","computed","additionalModules","toString","Modules","moddleExtensions","mounted","initBpmnModeler","createNewDiagram","$once","bpmnModeler","container","bindTo","$emit","initModelListeners","EventBus","that","format","xml","viewbox","reg","unescape","then","catch","newId","newName","req","warnings","downloadProcess","downloadFunc","href","filename","a","URL","_this","err","svg","setEncoded","reader","timeString","date","formData","message","toggleMode","redo","undo","newZoom","zoom","processZoomTo","align","SelectedElements","$message","warning","$confirm","confirmButtonText","cancelButtonText","saveXML","spaces","MyProcessDesigner","install","Vue","style","width","activeTab","idEditDisabled","elementBusinessObject","elementType","elementId","force","indexOf","elementBaseInfo","updateBaseInfo","watch","immediate","handler","val","$nextTick","resetBaseInfo","bpmnElement","JSON","parse","stringify","attrObj","id","beforeDestroy","minRows","maxRows","updateDocumentation","documentation","text","changeTaskAsync","taskConfigForm","asyncAfter","asyncBefore","witchTaskComponent","tag","$props","updateElementTask","userTaskForm","_l","ak","uk","gk","defaultTaskForm","assignee","candidateUsers","candidateGroups","dueDate","followUpDate","priority","mockData","bpmnInstances","resetTaskForm","taskAttr","scriptTaskForm","directives","rawName","scriptType","scriptFormat","script","resource","resultVariable","updateTaskMessage","bindMessageId","keys","messageMap","openMessageModel","messageModelVisible","newMessageForm","createNewMessage","bpmnMessageRefsMap","bpmnRootElements","getDefinitions","rootElements","filter","getBindMessage","error","newMessage","messageId","messageRef","UserTask","ScriptTask","ReceiveTask","exclusive","installedComponent","serviceType","typeObject","updateInfo","serviceValue","inject","class","delegateExpression","changeLoopCharacteristicsType","updateLoopCardinality","loopInstanceForm","updateLoopBase","updateLoopCondition","updateLoopAsync","updateLoopTimeCycle","defaultLoopInstanceForm","completionCondition","loopCardinality","extensionElements","getElementLoop","isSequential","multiLoopInstance","values","body","moddle","cardinality","condition","timeCycle","elementVariable","asyncAttr","flowConditionForm","updateFlowType","conditionType","updateFlowCondition","resetFlowCondition","bpmnElementSource","bpmnElementSourceRef","sourceRef","conditionExpression","language","flowType","flowConditionRef","_m","openModel","messageList","signalList","modelVisible","modelConfig","modelObjectForm","idLabel","nameLabel","scopeLabel","item","label","addNewObject","modelType","scope","initDataList","messageIdMap","signalIdMap","el","signalRef","elementListenersList","row","listenerTypeObject","listenerType","scopedSlots","_u","fn","$index","openListenerForm","removeListener","listenerFormModelVisible","listenerForm","required","trigger","openListenerFieldForm","fieldsListOfListener","fieldTypeObject","fieldType","string","removeListenerField","saveListenerConfig","listenerFieldFormModelVisible","listenerFieldForm","saveListenerFiled","createListenerObject","isTask","listenerObj","createScriptObject","fields","map","field","createFieldObject","timeDefinition","eventTimeDefinitions","TimerEventDefinition","uuid","toUpperCase","createEventListenerObject","entityType","option","fieldConfig","scriptConfig","updateElementExtensions","extensionList","extensions","updateProperties","chars","charsString","random","initListenerForm","listener","self","k","log","toLowerCase","initListenerType","classListener","expressionListener","delegateExpressionListener","scriptListener","eventType","assignment","complete","update","flowablelistenerType","flowableEventType","ACTIVITY_CANCELLED","ACTIVITY_COMPENSATE","ACTIVITY_COMPLETED","ACTIVITY_ERROR_RECEIVED","ACTIVITY_MESSAGE_CANCELLED","ACTIVITY_MESSAGE_RECEIVED","ACTIVITY_MESSAGE_WAITING","ACTIVITY_SIGNALED","ACTIVITY_SIGNAL_WAITING","ACTIVITY_STARTED","CUSTOM","ENGINE_CLOSED","ENGINE_CREATED","ENTITY_ACTIVATED","ENTITY_CREATED","ENTITY_DELETED","ENTITY_INITIALIZED","ENTITY_SUSPENDED","ENTITY_UPDATED","HISTORIC_ACTIVITY_INSTANCE_CREATED","HISTORIC_ACTIVITY_INSTANCE_ENDED","HISTORIC_PROCESS_INSTANCE_CREATED","HISTORIC_PROCESS_INSTANCE_ENDED","JOB_CANCELED","JOB_EXECUTION_FAILURE","JOB_EXECUTION_SUCCESS","JOB_RESCHEDULED","JOB_RETRIES_DECREMENTED","MEMBERSHIP_CREATED","MEMBERSHIP_DELETED","MEMBERSHIPS_DELETED","MULTI_INSTANCE_ACTIVITY_CANCELLED","MULTI_INSTANCE_ACTIVITY_COMPLETED","MULTI_INSTANCE_ACTIVITY_COMPLETED_WITH_CONDITION","MULTI_INSTANCE_ACTIVITY_STARTED","PROCESS_CANCELLED","PROCESS_COMPLETED","PROCESS_COMPLETED_WITH_TERMINATE_END_EVENT","PROCESS_COMPLETED_WITH_ERROR_END_EVENT","PROCESS_CREATED","PROCESS_STARTED","SEQUENCEFLOW_TAKEN","TASK_ASSIGNED","TASK_COMPLETED","TASK_CREATED","TIMER_FIRED","TIMER_SCHEDULED","UNCAUGHT_BPMN_ERROR","VARIABLE_CREATED","VARIABLE_DELETED","VARIABLE_UPDATED","editingListenerIndex","editingListenerFieldIndex","resetListenersList","otherExtensionList","bpmnElementListeners","index","validateStatus","listenerObject","elementPropertyList","openAttributesForm","removeAttributes","propertyFormModelVisible","propertyForm","saveAttribute","editingPropertyIndex","resetAttributesList","bpmnElementProperties","bpmnElementPropertyList","reduce","attr","propertiesObject","properties","updateElementFormKey","formKey","updateElementBusinessKey","businessKey","fieldList","openFieldForm","removeField","fieldModelVisible","formFieldForm","changeFieldTypeType","typeType","openFieldOptionForm","fieldEnumList","removeFieldOptionItem","fieldConstraintsList","fieldPropertiesList","saveField","fieldOptionModelVisible","optionModelTitle","fieldOptionForm","fieldOptionType","saveFieldOption","long","boolean","enum","custom","formFieldIndex","formFieldOptionIndex","resetFormList","bpmnELement","elExtensionElements","otherExtensions","defaultValue","datePattern","constraints","listenerEventTypeObject","UserTaskListeners","EventListeners","ElementForm","ElementProperties","ElementListeners","SignalAndMassage","FlowCondition","ElementMultiInstance","ElementTask","ServiceTask","ElementOtherConfig","ElementBaseInfo","provide","conditionFormVisible","formVisible","initModels","timer","clearTimeout","bpmnFactory","selection","getActiveElement","initFormOnChanged","activatedElement","split","MyPropertiesPanel","MyProcessPenal","version","$axios","ElementUI","vuePlugin","MyPD","render","h","App","$mount","isFunction","isObject","WILDCARD","CamundaModdleExtension","canCopyProperty","getParent","$parent","isAllowedInParent","descriptor","$model","getTypeDescriptor","allowedIn","meta","isWildcard","canHostInputOutput","canHostConnector","canHostIn","connector","flowNode","serviceTaskLike","callActivity","signalEventDefinition"],"mappings":"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","file":"js/app.2a4b6db8.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","\"use strict\";\n\nmodule.exports = {\n  __init__: [\"camundaModdleExtension\"],\n  camundaModdleExtension: [\"type\", require(\"./extension\")]\n};\n","/*\n * @author igdianov\n * address https://github.com/igdianov/activiti-bpmn-moddle\n * */\n\nmodule.exports = {\n  __init__: [\"ActivitiModdleExtension\"],\n  ActivitiModdleExtension: [\"type\", require(\"./activitiExtension\")]\n};\n","\"use strict\";\n\nvar some = require(\"min-dash\").some;\n\nvar ALLOWED_TYPES = {\n  FailedJobRetryTimeCycle: [\"bpmn:StartEvent\", \"bpmn:BoundaryEvent\", \"bpmn:IntermediateCatchEvent\", \"bpmn:Activity\"],\n  Connector: [\"bpmn:EndEvent\", \"bpmn:IntermediateThrowEvent\"],\n  Field: [\"bpmn:EndEvent\", \"bpmn:IntermediateThrowEvent\"]\n};\n\nfunction is(element, type) {\n  return element && typeof element.$instanceOf === \"function\" && element.$instanceOf(type);\n}\n\nfunction exists(element) {\n  return element && element.length;\n}\n\nfunction includesType(collection, type) {\n  return (\n    exists(collection) &&\n    some(collection, function(element) {\n      return is(element, type);\n    })\n  );\n}\n\nfunction anyType(element, types) {\n  return some(types, function(type) {\n    return is(element, type);\n  });\n}\n\nfunction isAllowed(propName, propDescriptor, newElement) {\n  var name = propDescriptor.name,\n    types = ALLOWED_TYPES[name.replace(/flowable:/, \"\")];\n\n  return name === propName && anyType(newElement, types);\n}\n\nfunction FlowableModdleExtension(eventBus) {\n  eventBus.on(\n    \"property.clone\",\n    function(context) {\n      var newElement = context.newElement,\n        propDescriptor = context.propertyDescriptor;\n\n      this.canCloneProperty(newElement, propDescriptor);\n    },\n    this\n  );\n}\n\nFlowableModdleExtension.$inject = [\"eventBus\"];\n\nFlowableModdleExtension.prototype.canCloneProperty = function(newElement, propDescriptor) {\n  if (isAllowed(\"flowable:FailedJobRetryTimeCycle\", propDescriptor, newElement)) {\n    return (\n      includesType(newElement.eventDefinitions, \"bpmn:TimerEventDefinition\") ||\n      includesType(newElement.eventDefinitions, \"bpmn:SignalEventDefinition\") ||\n      is(newElement.loopCharacteristics, \"bpmn:MultiInstanceLoopCharacteristics\")\n    );\n  }\n\n  if (isAllowed(\"flowable:Connector\", propDescriptor, newElement)) {\n    return includesType(newElement.eventDefinitions, \"bpmn:MessageEventDefinition\");\n  }\n\n  if (isAllowed(\"flowable:Field\", propDescriptor, newElement)) {\n    return includesType(newElement.eventDefinitions, \"bpmn:MessageEventDefinition\");\n  }\n};\n\nmodule.exports = FlowableModdleExtension;\n","const hljs = require(\"highlight.js/lib/core\");\nhljs.registerLanguage(\"xml\", require(\"highlight.js/lib/languages/xml\"));\nhljs.registerLanguage(\"json\", require(\"highlight.js/lib/languages/json\"));\n\nmodule.exports = hljs;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('my-process-designer',_vm._b({key:(\"designer-\" + _vm.reloadIndex),ref:\"processDesigner\",attrs:{\"keyboard\":\"\"},on:{\"element-click\":_vm.elementClick,\"init-finished\":_vm.initModeler},model:{value:(_vm.xmlString),callback:function ($$v) {_vm.xmlString=$$v},expression:\"xmlString\"}},'my-process-designer',_vm.controlForm,false)),_c('my-properties-panel',{key:(\"penal-\" + _vm.reloadIndex),staticClass:\"process-panel\",attrs:{\"bpmn-modeler\":_vm.modeler,\"prefix\":_vm.controlForm.prefix}}),_c('div',{staticClass:\"demo-control-bar\"},[_c('div',{staticClass:\"open-control-dialog\",on:{\"click\":function($event){_vm.controlDrawerVisible = true}}},[_c('i',{staticClass:\"el-icon-setting\"})])]),_c('el-drawer',{attrs:{\"visible\":_vm.controlDrawerVisible,\"size\":\"400px\",\"title\":\"偏好设置\",\"append-to-body\":\"\",\"destroy-on-close\":\"\"},on:{\"update:visible\":function($event){_vm.controlDrawerVisible=$event}}},[_c('el-form',{staticClass:\"control-form\",attrs:{\"model\":_vm.controlForm,\"size\":\"small\",\"label-width\":\"100px\"},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('el-form-item',{attrs:{\"label\":\"流程ID\"}},[_c('el-input',{on:{\"change\":_vm.reloadProcessDesigner},model:{value:(_vm.controlForm.processId),callback:function ($$v) {_vm.$set(_vm.controlForm, \"processId\", $$v)},expression:\"controlForm.processId\"}})],1),_c('el-form-item',{attrs:{\"label\":\"流程名称\"}},[_c('el-input',{on:{\"change\":_vm.reloadProcessDesigner},model:{value:(_vm.controlForm.processName),callback:function ($$v) {_vm.$set(_vm.controlForm, \"processName\", $$v)},expression:\"controlForm.processName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"流转模拟\"}},[_c('el-switch',{attrs:{\"inactive-text\":\"停用\",\"active-text\":\"启用\"},on:{\"change\":_vm.reloadProcessDesigner},model:{value:(_vm.controlForm.simulation),callback:function ($$v) {_vm.$set(_vm.controlForm, \"simulation\", $$v)},expression:\"controlForm.simulation\"}})],1),_c('el-form-item',{attrs:{\"label\":\"禁用双击\"}},[_c('el-switch',{attrs:{\"inactive-text\":\"停用\",\"active-text\":\"启用\"},on:{\"change\":_vm.changeLabelEditingStatus},model:{value:(_vm.controlForm.labelEditing),callback:function ($$v) {_vm.$set(_vm.controlForm, \"labelEditing\", $$v)},expression:\"controlForm.labelEditing\"}})],1),_c('el-form-item',{attrs:{\"label\":\"隐藏label\"}},[_c('el-switch',{attrs:{\"inactive-text\":\"停用\",\"active-text\":\"启用\"},on:{\"change\":_vm.changeLabelVisibleStatus},model:{value:(_vm.controlForm.labelVisible),callback:function ($$v) {_vm.$set(_vm.controlForm, \"labelVisible\", $$v)},expression:\"controlForm.labelVisible\"}})],1),_c('el-form-item',{attrs:{\"label\":\"流程引擎\"}},[_c('el-radio-group',{on:{\"change\":function($event){return _vm.reloadProcessDesigner(true)}},model:{value:(_vm.controlForm.prefix),callback:function ($$v) {_vm.$set(_vm.controlForm, \"prefix\", $$v)},expression:\"controlForm.prefix\"}},[_c('el-radio',{attrs:{\"label\":\"camunda\"}},[_vm._v(\"camunda\")]),_c('el-radio',{attrs:{\"label\":\"flowable\"}},[_vm._v(\"flowable\")]),_c('el-radio',{attrs:{\"label\":\"activiti\"}},[_vm._v(\"activiti\")])],1)],1),_c('el-form-item',{attrs:{\"label\":\"工具栏\"}},[_c('el-radio-group',{model:{value:(_vm.controlForm.headerButtonSize),callback:function ($$v) {_vm.$set(_vm.controlForm, \"headerButtonSize\", $$v)},expression:\"controlForm.headerButtonSize\"}},[_c('el-radio',{attrs:{\"label\":\"mini\"}},[_vm._v(\"mini\")]),_c('el-radio',{attrs:{\"label\":\"small\"}},[_vm._v(\"small\")]),_c('el-radio',{attrs:{\"label\":\"medium\"}},[_vm._v(\"medium\")])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * This is a sample file that should be replaced with the actual translation.\n *\n * Checkout https://github.com/bpmn-io/bpmn-js-i18n for a list of available\n * translations and labels to translate.\n */\nexport default {\n  \"Exclusive Gateway\": \"Exklusives Gateway\",\n  \"Parallel Gateway\": \"Paralleles Gateway\",\n  \"Inclusive Gateway\": \"Inklusives Gateway\",\n  \"Complex Gateway\": \"Komplexes Gateway\",\n  \"Event based Gateway\": \"Ereignis-basiertes Gateway\",\n  \"Message Start Event\": \"消息启动事件\",\n  \"Timer Start Event\": \"定时启动事件\",\n  \"Conditional Start Event\": \"条件启动事件\",\n  \"Signal Start Event\": \"信号启动事件\",\n  \"Error Start Event\": \"错误启动事件\",\n  \"Escalation Start Event\": \"升级启动事件\",\n  \"Compensation Start Event\": \"补偿启动事件\",\n  \"Message Start Event (non-interrupting)\": \"消息启动事件 (非中断)\",\n  \"Timer Start Event (non-interrupting)\": \"定时启动事件 (非中断)\",\n  \"Conditional Start Event (non-interrupting)\": \"条件启动事件 (非中断)\",\n  \"Signal Start Event (non-interrupting)\": \"信号启动事件 (非中断)\",\n  \"Escalation Start Event (non-interrupting)\": \"升级启动事件 (非中断)\"\n};\n","import BpmnRenderer from \"bpmn-js/lib/draw/BpmnRenderer\";\n\nexport default function CustomRenderer(config, eventBus, styles, pathMap, canvas, textRenderer) {\n  BpmnRenderer.call(this, config, eventBus, styles, pathMap, canvas, textRenderer, 2000);\n\n  this.handlers[\"label\"] = function() {\n    return null;\n  };\n}\n\nconst F = function() {}; // 核心，利用空对象作为中介；\nF.prototype = BpmnRenderer.prototype; // 核心，将父类的原型赋值给空对象F；\nCustomRenderer.prototype = new F(); // 核心，将 F的实例赋值给子类；\nCustomRenderer.prototype.constructor = CustomRenderer; // 修复子类CustomRenderer的构造器指向，防止原型链的混乱；\n","import CustomRenderer from \"./CustomRenderer\";\n\nexport default {\n  __init__: [\"customRenderer\"],\n  customRenderer: [\"type\", CustomRenderer]\n};\n","import { assign, forEach, isArray } from \"min-dash\";\n\nimport { is } from \"bpmn-js/lib/util/ModelUtil\";\n\nimport { isExpanded, isEventSubProcess } from \"bpmn-js/lib/util/DiUtil\";\n\nimport { isAny } from \"bpmn-js/lib/features/modeling/util/ModelingUtil\";\n\nimport { getChildLanes } from \"bpmn-js/lib/features/modeling/util/LaneUtil\";\n\nimport { hasPrimaryModifier } from \"diagram-js/lib/util/Mouse\";\n\n/**\n * A provider for BPMN 2.0 elements context pad\n */\nexport default function ContextPadProvider(\n  config,\n  injector,\n  eventBus,\n  contextPad,\n  modeling,\n  elementFactory,\n  connect,\n  create,\n  popupMenu,\n  canvas,\n  rules,\n  translate,\n  elementRegistry\n) {\n  config = config || {};\n\n  contextPad.registerProvider(this);\n\n  this._contextPad = contextPad;\n\n  this._modeling = modeling;\n\n  this._elementFactory = elementFactory;\n  this._connect = connect;\n  this._create = create;\n  this._popupMenu = popupMenu;\n  this._canvas = canvas;\n  this._rules = rules;\n  this._translate = translate;\n\n  if (config.autoPlace !== false) {\n    this._autoPlace = injector.get(\"autoPlace\", false);\n  }\n\n  eventBus.on(\"create.end\", 250, function(event) {\n    var context = event.context,\n      shape = context.shape;\n\n    if (!hasPrimaryModifier(event) || !contextPad.isOpen(shape)) {\n      return;\n    }\n\n    var entries = contextPad.getEntries(shape);\n\n    if (entries.replace) {\n      entries.replace.action.click(event, shape);\n    }\n  });\n}\n\nContextPadProvider.$inject = [\n  \"config.contextPad\",\n  \"injector\",\n  \"eventBus\",\n  \"contextPad\",\n  \"modeling\",\n  \"elementFactory\",\n  \"connect\",\n  \"create\",\n  \"popupMenu\",\n  \"canvas\",\n  \"rules\",\n  \"translate\",\n  \"elementRegistry\"\n];\n\nContextPadProvider.prototype.getContextPadEntries = function(element) {\n  var contextPad = this._contextPad,\n    modeling = this._modeling,\n    elementFactory = this._elementFactory,\n    connect = this._connect,\n    create = this._create,\n    popupMenu = this._popupMenu,\n    canvas = this._canvas,\n    rules = this._rules,\n    autoPlace = this._autoPlace,\n    translate = this._translate;\n\n  var actions = {};\n\n  if (element.type === \"label\") {\n    return actions;\n  }\n\n  var businessObject = element.businessObject;\n\n  function startConnect(event, element) {\n    connect.start(event, element);\n  }\n\n  function removeElement() {\n    modeling.removeElements([element]);\n  }\n\n  function getReplaceMenuPosition(element) {\n    var Y_OFFSET = 5;\n\n    var diagramContainer = canvas.getContainer(),\n      pad = contextPad.getPad(element).html;\n\n    var diagramRect = diagramContainer.getBoundingClientRect(),\n      padRect = pad.getBoundingClientRect();\n\n    var top = padRect.top - diagramRect.top;\n    var left = padRect.left - diagramRect.left;\n\n    var pos = {\n      x: left,\n      y: top + padRect.height + Y_OFFSET\n    };\n\n    return pos;\n  }\n\n  /**\n   * Create an append action\n   *\n   * @param {string} type\n   * @param {string} className\n   * @param {string} [title]\n   * @param {Object} [options]\n   *\n   * @return {Object} descriptor\n   */\n  function appendAction(type, className, title, options) {\n    if (typeof title !== \"string\") {\n      options = title;\n      title = translate(\"Append {type}\", { type: type.replace(/^bpmn:/, \"\") });\n    }\n\n    function appendStart(event, element) {\n      var shape = elementFactory.createShape(assign({ type: type }, options));\n      create.start(event, shape, {\n        source: element\n      });\n    }\n\n    var append = autoPlace\n      ? function(event, element) {\n          var shape = elementFactory.createShape(assign({ type: type }, options));\n\n          autoPlace.append(element, shape);\n        }\n      : appendStart;\n\n    return {\n      group: \"model\",\n      className: className,\n      title: title,\n      action: {\n        dragstart: appendStart,\n        click: append\n      }\n    };\n  }\n\n  function splitLaneHandler(count) {\n    return function(event, element) {\n      // actual split\n      modeling.splitLane(element, count);\n\n      // refresh context pad after split to\n      // get rid of split icons\n      contextPad.open(element, true);\n    };\n  }\n\n  if (isAny(businessObject, [\"bpmn:Lane\", \"bpmn:Participant\"]) && isExpanded(businessObject)) {\n    var childLanes = getChildLanes(element);\n\n    assign(actions, {\n      \"lane-insert-above\": {\n        group: \"lane-insert-above\",\n        className: \"bpmn-icon-lane-insert-above\",\n        title: translate(\"Add Lane above\"),\n        action: {\n          click: function(event, element) {\n            modeling.addLane(element, \"top\");\n          }\n        }\n      }\n    });\n\n    if (childLanes.length < 2) {\n      if (element.height >= 120) {\n        assign(actions, {\n          \"lane-divide-two\": {\n            group: \"lane-divide\",\n            className: \"bpmn-icon-lane-divide-two\",\n            title: translate(\"Divide into two Lanes\"),\n            action: {\n              click: splitLaneHandler(2)\n            }\n          }\n        });\n      }\n\n      if (element.height >= 180) {\n        assign(actions, {\n          \"lane-divide-three\": {\n            group: \"lane-divide\",\n            className: \"bpmn-icon-lane-divide-three\",\n            title: translate(\"Divide into three Lanes\"),\n            action: {\n              click: splitLaneHandler(3)\n            }\n          }\n        });\n      }\n    }\n\n    assign(actions, {\n      \"lane-insert-below\": {\n        group: \"lane-insert-below\",\n        className: \"bpmn-icon-lane-insert-below\",\n        title: translate(\"Add Lane below\"),\n        action: {\n          click: function(event, element) {\n            modeling.addLane(element, \"bottom\");\n          }\n        }\n      }\n    });\n  }\n\n  if (is(businessObject, \"bpmn:FlowNode\")) {\n    if (is(businessObject, \"bpmn:EventBasedGateway\")) {\n      assign(actions, {\n        \"append.receive-task\": appendAction(\"bpmn:ReceiveTask\", \"bpmn-icon-receive-task\", translate(\"Append ReceiveTask\")),\n        \"append.message-intermediate-event\": appendAction(\n          \"bpmn:IntermediateCatchEvent\",\n          \"bpmn-icon-intermediate-event-catch-message\",\n          translate(\"Append MessageIntermediateCatchEvent\"),\n          { eventDefinitionType: \"bpmn:MessageEventDefinition\" }\n        ),\n        \"append.timer-intermediate-event\": appendAction(\n          \"bpmn:IntermediateCatchEvent\",\n          \"bpmn-icon-intermediate-event-catch-timer\",\n          translate(\"Append TimerIntermediateCatchEvent\"),\n          { eventDefinitionType: \"bpmn:TimerEventDefinition\" }\n        ),\n        \"append.condition-intermediate-event\": appendAction(\n          \"bpmn:IntermediateCatchEvent\",\n          \"bpmn-icon-intermediate-event-catch-condition\",\n          translate(\"Append ConditionIntermediateCatchEvent\"),\n          { eventDefinitionType: \"bpmn:ConditionalEventDefinition\" }\n        ),\n        \"append.signal-intermediate-event\": appendAction(\n          \"bpmn:IntermediateCatchEvent\",\n          \"bpmn-icon-intermediate-event-catch-signal\",\n          translate(\"Append SignalIntermediateCatchEvent\"),\n          { eventDefinitionType: \"bpmn:SignalEventDefinition\" }\n        )\n      });\n    } else if (isEventType(businessObject, \"bpmn:BoundaryEvent\", \"bpmn:CompensateEventDefinition\")) {\n      assign(actions, {\n        \"append.compensation-activity\": appendAction(\"bpmn:Task\", \"bpmn-icon-task\", translate(\"Append compensation activity\"), {\n          isForCompensation: true\n        })\n      });\n    } else if (\n      !is(businessObject, \"bpmn:EndEvent\") &&\n      !businessObject.isForCompensation &&\n      !isEventType(businessObject, \"bpmn:IntermediateThrowEvent\", \"bpmn:LinkEventDefinition\") &&\n      !isEventSubProcess(businessObject)\n    ) {\n      assign(actions, {\n        \"append.end-event\": appendAction(\"bpmn:EndEvent\", \"bpmn-icon-end-event-none\", translate(\"Append EndEvent\")),\n        \"append.gateway\": appendAction(\"bpmn:ExclusiveGateway\", \"bpmn-icon-gateway-none\", translate(\"Append Gateway\")),\n        \"append.append-task\": appendAction(\"bpmn:UserTask\", \"bpmn-icon-user-task\", translate(\"Append Task\")),\n        \"append.intermediate-event\": appendAction(\n          \"bpmn:IntermediateThrowEvent\",\n          \"bpmn-icon-intermediate-event-none\",\n          translate(\"Append Intermediate/Boundary Event\")\n        )\n      });\n    }\n  }\n\n  if (!popupMenu.isEmpty(element, \"bpmn-replace\")) {\n    // Replace menu entry\n    assign(actions, {\n      replace: {\n        group: \"edit\",\n        className: \"bpmn-icon-screw-wrench\",\n        title: translate(\"Change type\"),\n        action: {\n          click: function(event, element) {\n            var position = assign(getReplaceMenuPosition(element), {\n              cursor: { x: event.x, y: event.y }\n            });\n\n            popupMenu.open(element, \"bpmn-replace\", position);\n          }\n        }\n      }\n    });\n  }\n\n  if (isAny(businessObject, [\"bpmn:FlowNode\", \"bpmn:InteractionNode\", \"bpmn:DataObjectReference\", \"bpmn:DataStoreReference\"])) {\n    assign(actions, {\n      \"append.text-annotation\": appendAction(\"bpmn:TextAnnotation\", \"bpmn-icon-text-annotation\"),\n\n      connect: {\n        group: \"connect\",\n        className: \"bpmn-icon-connection-multi\",\n        title: translate(\"Connect using \" + (businessObject.isForCompensation ? \"\" : \"Sequence/MessageFlow or \") + \"Association\"),\n        action: {\n          click: startConnect,\n          dragstart: startConnect\n        }\n      }\n    });\n  }\n\n  if (isAny(businessObject, [\"bpmn:DataObjectReference\", \"bpmn:DataStoreReference\"])) {\n    assign(actions, {\n      connect: {\n        group: \"connect\",\n        className: \"bpmn-icon-connection-multi\",\n        title: translate(\"Connect using DataInputAssociation\"),\n        action: {\n          click: startConnect,\n          dragstart: startConnect\n        }\n      }\n    });\n  }\n\n  if (is(businessObject, \"bpmn:Group\")) {\n    assign(actions, {\n      \"append.text-annotation\": appendAction(\"bpmn:TextAnnotation\", \"bpmn-icon-text-annotation\")\n    });\n  }\n\n  // delete element entry, only show if allowed by rules\n  var deleteAllowed = rules.allowed(\"elements.delete\", { elements: [element] });\n\n  if (isArray(deleteAllowed)) {\n    // was the element returned as a deletion candidate?\n    deleteAllowed = deleteAllowed[0] === element;\n  }\n\n  if (deleteAllowed) {\n    assign(actions, {\n      delete: {\n        group: \"edit\",\n        className: \"bpmn-icon-trash\",\n        title: translate(\"Remove\"),\n        action: {\n          click: removeElement\n        }\n      }\n    });\n  }\n\n  return actions;\n};\n\n// helpers /////////\n\nfunction isEventType(eventBo, type, definition) {\n  var isType = eventBo.$instanceOf(type);\n  var isDefinition = false;\n\n  var definitions = eventBo.eventDefinitions || [];\n  forEach(definitions, function(def) {\n    if (def.$type === definition) {\n      isDefinition = true;\n    }\n  });\n\n  return isType && isDefinition;\n}\n","import CustomContextPadProvider from \"./contentPadProvider\";\n\nexport default {\n  __init__: [\"contextPadProvider\"],\n  contextPadProvider: [\"type\", CustomContextPadProvider]\n};\n","import PaletteProvider from \"bpmn-js/lib/features/palette/PaletteProvider\";\nimport { assign } from \"min-dash\";\n\nexport default function CustomPalette(palette, create, elementFactory, spaceTool, lassoTool, handTool, globalConnect, translate) {\n  PaletteProvider.call(this, palette, create, elementFactory, spaceTool, lassoTool, handTool, globalConnect, translate, 2000);\n}\n\nconst F = function() {}; // 核心，利用空对象作为中介；\nF.prototype = PaletteProvider.prototype; // 核心，将父类的原型赋值给空对象F；\n\n// 利用中介函数重写原型链方法\nF.prototype.getPaletteEntries = function() {\n  var actions = {},\n    create = this._create,\n    elementFactory = this._elementFactory,\n    spaceTool = this._spaceTool,\n    lassoTool = this._lassoTool,\n    handTool = this._handTool,\n    globalConnect = this._globalConnect,\n    translate = this._translate;\n\n  function createAction(type, group, className, title, options) {\n    function createListener(event) {\n      var shape = elementFactory.createShape(assign({ type: type }, options));\n\n      if (options) {\n        shape.businessObject.di.isExpanded = options.isExpanded;\n      }\n\n      create.start(event, shape);\n    }\n\n    var shortType = type.replace(/^bpmn:/, \"\");\n\n    return {\n      group: group,\n      className: className,\n      title: title || translate(\"Create {type}\", { type: shortType }),\n      action: {\n        dragstart: createListener,\n        click: createListener\n      }\n    };\n  }\n\n  function createSubprocess(event) {\n    var subProcess = elementFactory.createShape({\n      type: \"bpmn:SubProcess\",\n      x: 0,\n      y: 0,\n      isExpanded: true\n    });\n\n    var startEvent = elementFactory.createShape({\n      type: \"bpmn:StartEvent\",\n      x: 40,\n      y: 82,\n      parent: subProcess\n    });\n\n    create.start(event, [subProcess, startEvent], {\n      hints: {\n        autoSelect: [startEvent]\n      }\n    });\n  }\n\n  function createParticipant(event) {\n    create.start(event, elementFactory.createParticipantShape());\n  }\n\n  assign(actions, {\n    \"hand-tool\": {\n      group: \"tools\",\n      className: \"bpmn-icon-hand-tool\",\n      title: translate(\"Activate the hand tool\"),\n      action: {\n        click: function(event) {\n          handTool.activateHand(event);\n        }\n      }\n    },\n    \"lasso-tool\": {\n      group: \"tools\",\n      className: \"bpmn-icon-lasso-tool\",\n      title: translate(\"Activate the lasso tool\"),\n      action: {\n        click: function(event) {\n          lassoTool.activateSelection(event);\n        }\n      }\n    },\n    \"space-tool\": {\n      group: \"tools\",\n      className: \"bpmn-icon-space-tool\",\n      title: translate(\"Activate the create/remove space tool\"),\n      action: {\n        click: function(event) {\n          spaceTool.activateSelection(event);\n        }\n      }\n    },\n    \"global-connect-tool\": {\n      group: \"tools\",\n      className: \"bpmn-icon-connection-multi\",\n      title: translate(\"Activate the global connect tool\"),\n      action: {\n        click: function(event) {\n          globalConnect.toggle(event);\n        }\n      }\n    },\n    \"tool-separator\": {\n      group: \"tools\",\n      separator: true\n    },\n    \"create.start-event\": createAction(\"bpmn:StartEvent\", \"event\", \"bpmn-icon-start-event-none\", translate(\"Create StartEvent\")),\n    \"create.intermediate-event\": createAction(\n      \"bpmn:IntermediateThrowEvent\",\n      \"event\",\n      \"bpmn-icon-intermediate-event-none\",\n      translate(\"Create Intermediate/Boundary Event\")\n    ),\n    \"create.end-event\": createAction(\"bpmn:EndEvent\", \"event\", \"bpmn-icon-end-event-none\", translate(\"Create EndEvent\")),\n    \"create.exclusive-gateway\": createAction(\"bpmn:ExclusiveGateway\", \"gateway\", \"bpmn-icon-gateway-none\", translate(\"Create Gateway\")),\n    \"create.user-task\": createAction(\"bpmn:UserTask\", \"activity\", \"bpmn-icon-user-task\", translate(\"Create User Task\")),\n    \"create.data-object\": createAction(\"bpmn:DataObjectReference\", \"data-object\", \"bpmn-icon-data-object\", translate(\"Create DataObjectReference\")),\n    \"create.data-store\": createAction(\"bpmn:DataStoreReference\", \"data-store\", \"bpmn-icon-data-store\", translate(\"Create DataStoreReference\")),\n    \"create.subprocess-expanded\": {\n      group: \"activity\",\n      className: \"bpmn-icon-subprocess-expanded\",\n      title: translate(\"Create expanded SubProcess\"),\n      action: {\n        dragstart: createSubprocess,\n        click: createSubprocess\n      }\n    },\n    \"create.participant-expanded\": {\n      group: \"collaboration\",\n      className: \"bpmn-icon-participant\",\n      title: translate(\"Create Pool/Participant\"),\n      action: {\n        dragstart: createParticipant,\n        click: createParticipant\n      }\n    },\n    \"create.group\": createAction(\"bpmn:Group\", \"artifact\", \"bpmn-icon-group\", translate(\"Create Group\"))\n  });\n\n  return actions;\n};\n\nCustomPalette.$inject = [\"palette\", \"create\", \"elementFactory\", \"spaceTool\", \"lassoTool\", \"handTool\", \"globalConnect\", \"translate\"];\n\nCustomPalette.prototype = new F(); // 核心，将 F的实例赋值给子类；\nCustomPalette.prototype.constructor = CustomPalette; // 修复子类CustomPalette的构造器指向，防止原型链的混乱；\n","// import PaletteModule from \"diagram-js/lib/features/palette\";\n// import CreateModule from \"diagram-js/lib/features/create\";\n// import SpaceToolModule from \"diagram-js/lib/features/space-tool\";\n// import LassoToolModule from \"diagram-js/lib/features/lasso-tool\";\n// import HandToolModule from \"diagram-js/lib/features/hand-tool\";\n// import GlobalConnectModule from \"diagram-js/lib/features/global-connect\";\n// import translate from \"diagram-js/lib/i18n/translate\";\n\n// import PaletteProvider from \"./paletteProvider\";\n\n// export default {\n//   __depends__: [PaletteModule, CreateModule, SpaceToolModule, LassoToolModule, HandToolModule, GlobalConnectModule, translate],\n//   __init__: [\"paletteProvider\"],\n//   paletteProvider: [\"type\", PaletteProvider]\n// };\n\n// custom/index.js\nimport CustomPalette from \"./CustomPalette\";\n\nexport default {\n  __init__: [\"paletteProvider\"],\n  paletteProvider: [\"type\", CustomPalette]\n};\n","function xmlStr2XmlObj(xmlStr) {\n  let xmlObj = {};\n  if (document.all) {\n    const xmlDom = new window.ActiveXObject(\"Microsoft.XMLDOM\");\n    xmlDom.loadXML(xmlStr);\n    xmlObj = xmlDom;\n  } else {\n    xmlObj = new DOMParser().parseFromString(xmlStr, \"text/xml\");\n  }\n  return xmlObj;\n}\n\nfunction xml2json(xml) {\n  try {\n    let obj = {};\n    if (xml.children.length > 0) {\n      for (let i = 0; i < xml.children.length; i++) {\n        const item = xml.children.item(i);\n        const nodeName = item.nodeName;\n        if (typeof obj[nodeName] == \"undefined\") {\n          obj[nodeName] = xml2json(item);\n        } else {\n          if (typeof obj[nodeName].push == \"undefined\") {\n            const old = obj[nodeName];\n            obj[nodeName] = [];\n            obj[nodeName].push(old);\n          }\n          obj[nodeName].push(xml2json(item));\n        }\n      }\n    } else {\n      obj = xml.textContent;\n    }\n    return obj;\n  } catch (e) {\n    console.log(e.message);\n  }\n}\n\nfunction xmlObj2json(xml) {\n  const xmlObj = xmlStr2XmlObj(xml);\n  console.log(xmlObj);\n  let jsonObj = {};\n  if (xmlObj.childNodes.length > 0) {\n    jsonObj = xml2json(xmlObj);\n  }\n  return jsonObj;\n}\n\nexport default xmlObj2json;\n","<template>\n  <div id=\"app\">\n    <my-process-designer\n      :key=\"`designer-${reloadIndex}`\"\n      v-model=\"xmlString\"\n      v-bind=\"controlForm\"\n      keyboard\n      ref=\"processDesigner\"\n      @element-click=\"elementClick\"\n      @init-finished=\"initModeler\"\n    />\n    <my-properties-panel :key=\"`penal-${reloadIndex}`\" :bpmn-modeler=\"modeler\" :prefix=\"controlForm.prefix\" class=\"process-panel\" />\n\n    <!-- demo config -->\n    <div class=\"demo-control-bar\">\n      <div class=\"open-control-dialog\" @click=\"controlDrawerVisible = true\"><i class=\"el-icon-setting\"></i></div>\n    </div>\n    <el-drawer :visible.sync=\"controlDrawerVisible\" size=\"400px\" title=\"偏好设置\" append-to-body destroy-on-close>\n      <el-form :model=\"controlForm\" size=\"small\" label-width=\"100px\" class=\"control-form\" @submit.native.prevent>\n        <el-form-item label=\"流程ID\">\n          <el-input v-model=\"controlForm.processId\" @change=\"reloadProcessDesigner\" />\n        </el-form-item>\n        <el-form-item label=\"流程名称\">\n          <el-input v-model=\"controlForm.processName\" @change=\"reloadProcessDesigner\" />\n        </el-form-item>\n        <el-form-item label=\"流转模拟\">\n          <el-switch v-model=\"controlForm.simulation\" inactive-text=\"停用\" active-text=\"启用\" @change=\"reloadProcessDesigner\" />\n        </el-form-item>\n        <el-form-item label=\"禁用双击\">\n          <el-switch v-model=\"controlForm.labelEditing\" inactive-text=\"停用\" active-text=\"启用\" @change=\"changeLabelEditingStatus\" />\n        </el-form-item>\n        <el-form-item label=\"隐藏label\">\n          <el-switch v-model=\"controlForm.labelVisible\" inactive-text=\"停用\" active-text=\"启用\" @change=\"changeLabelVisibleStatus\" />\n        </el-form-item>\n        <el-form-item label=\"流程引擎\">\n          <el-radio-group v-model=\"controlForm.prefix\" @change=\"reloadProcessDesigner(true)\">\n            <el-radio label=\"camunda\">camunda</el-radio>\n            <el-radio label=\"flowable\">flowable</el-radio>\n            <el-radio label=\"activiti\">activiti</el-radio>\n          </el-radio-group>\n        </el-form-item>\n        <el-form-item label=\"工具栏\">\n          <el-radio-group v-model=\"controlForm.headerButtonSize\">\n            <el-radio label=\"mini\">mini</el-radio>\n            <el-radio label=\"small\">small</el-radio>\n            <el-radio label=\"medium\">medium</el-radio>\n          </el-radio-group>\n        </el-form-item>\n      </el-form>\n    </el-drawer>\n\n  </div>\n</template>\n\n<script>\nimport translations from \"@/translations\";\n// 自定义渲染（隐藏了 label 标签）\nimport CustomRenderer from \"@/modules/custom-renderer\";\n// 自定义元素选中时的弹出菜单（修改 默认任务 为 用户任务）\nimport CustomContentPadProvider from \"../package/designer/plugins/content-pad\";\n// 自定义左侧菜单（修改 默认任务 为 用户任务）\nimport CustomPaletteProvider from \"../package/designer/plugins/palette\";\nimport xmlObj2json from \"./utils/xml2json\";\n// 自定义侧边栏\n// import MyProcessPanel from \"../package/process-panel/ProcessPanel\";\n\nexport default {\n  name: \"App\",\n  components: {  },\n  data() {\n    return {\n      xmlString: \"\",\n      modeler: null,\n      reloadIndex: 0,\n      controlDrawerVisible: false,\n      translationsSelf: translations,\n      controlForm: {\n        processId: \"\",\n        processName: \"\",\n        simulation: true,\n        labelEditing: false,\n        labelVisible: false,\n        prefix: \"flowable\",\n        headerButtonSize: \"mini\",\n        // additionalModel: []\n        additionalModel: [CustomContentPadProvider, CustomPaletteProvider]\n      },\n      addis: {\n        CustomContentPadProvider,\n        CustomPaletteProvider\n      }\n    };\n  },\n  created() {},\n  methods: {\n    initModeler(modeler) {\n      setTimeout(() => {\n        this.modeler = modeler;\n        console.log(modeler);\n      }, 10);\n    },\n    reloadProcessDesigner(deep) {\n      this.controlForm.additionalModel = [];\n      for (let key in this.addis) {\n        if (this.addis[key]) {\n          this.controlForm.additionalModel.push(this.addis[key]);\n        }\n      }\n      this.reloadIndex += 1;\n      this.modeler = null; // 避免 panel 异常\n      if (deep) {\n        this.xmlString = undefined;\n        this.$refs.processDesigner.processRestart();\n      }\n    },\n    changeLabelEditingStatus(status) {\n      this.addis.labelEditing = status ? { labelEditingProvider: [\"value\", \"\"] } : false;\n      this.reloadProcessDesigner();\n    },\n    changeLabelVisibleStatus(status) {\n      this.addis.customRenderer = status ? CustomRenderer : false;\n      this.reloadProcessDesigner();\n    },\n    elementClick(element) {\n      this.element = element;\n      // console.log(xmlObj2json(this.xmlString));\n      // console.log(this.modeler);\n      // if (element.type === \"bpmn:UserTask\") {\n      //   const moddle = window.bpmnInstances.moddle;\n      //   const modeling = window.bpmnInstances.modeling;\n      //   const child1 = moddle.create(\"flowable:ChildField\", {\n      //     id: \"child1\",\n      //     name: \"1\",\n      //     readable: true\n      //   });\n      //   const child2 = moddle.create(\"flowable:ChildField\", {\n      //     id: \"child2\",\n      //     name: \"2\",\n      //     type: \"string\",\n      //     required: true\n      //   });\n      //   const formProperty = moddle.create(\"flowable:FormProperty\", {\n      //     children: [child1, child2]\n      //     // children: []\n      //   });\n      //   const extensionElements = moddle.create(\"bpmn:ExtensionElements\", {\n      //     values: [formProperty]\n      //   });\n      //   modeling.updateProperties(element, {\n      //     extensionElements\n      //   });\n      // }\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\">\nbody {\n  overflow: hidden;\n  margin: 0;\n  box-sizing: border-box;\n}\n#app {\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n  display: inline-grid;\n  grid-template-columns: auto max-content;\n}\n.demo-control-bar {\n  position: fixed;\n  right: 8px;\n  bottom: 8px;\n  z-index: 1;\n  .open-control-dialog {\n    width: 48px;\n    height: 48px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border-radius: 4px;\n    font-size: 32px;\n    background: rgba(64, 158, 255, 1);\n    color: #ffffff;\n    cursor: pointer;\n  }\n}\n.info-tip {\n  position: fixed;\n  top: 40px;\n  right: 500px;\n  z-index: 10;\n  color: #999999;\n}\n.control-form {\n  .el-radio {\n    width: 100%;\n    line-height: 32px;\n  }\n}\nbody,\nbody * {\n  /* 滚动条 */\n  &::-webkit-scrollbar-track-piece {\n    background-color: #fff; /*滚动条的背景颜色*/\n    -webkit-border-radius: 0; /*滚动条的圆角宽度*/\n  }\n  &::-webkit-scrollbar {\n    width: 10px; /*滚动条的宽度*/\n    height: 8px; /*滚动条的高度*/\n  }\n  &::-webkit-scrollbar-thumb:vertical {\n    /*垂直滚动条的样式*/\n    height: 50px;\n    background-color: rgba(153, 153, 153, 0.5);\n    -webkit-border-radius: 4px;\n    outline: 2px solid #fff;\n    outline-offset: -2px;\n    border: 2px solid #fff;\n  }\n  &::-webkit-scrollbar-thumb {\n    /*滚动条的hover样式*/\n    background-color: rgba(159, 159, 159, 0.3);\n    -webkit-border-radius: 4px;\n  }\n  &::-webkit-scrollbar-thumb:hover {\n    /*滚动条的hover样式*/\n    background-color: rgba(159, 159, 159, 0.5);\n    -webkit-border-radius: 4px;\n  }\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=2fda1f86&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"my-process-designer\"},[_c('div',{staticClass:\"my-process-designer__header\"},[_vm._t(\"control-header\"),(!_vm.$slots['control-header'])?[_c('el-button-group',{key:\"file-control\"},[_c('el-button',{attrs:{\"size\":_vm.headerButtonSize,\"type\":_vm.headerButtonType,\"icon\":\"el-icon-folder-opened\"},on:{\"click\":function($event){return _vm.$refs.refFile.click()}}},[_vm._v(\"打开文件\")]),_c('el-tooltip',{attrs:{\"effect\":\"light\"}},[_c('div',{attrs:{\"slot\":\"content\"},slot:\"content\"},[_c('el-button',{attrs:{\"size\":_vm.headerButtonSize,\"type\":\"text\"},on:{\"click\":function($event){return _vm.downloadProcessAsXml()}}},[_vm._v(\"下载为XML文件\")]),_c('br'),_c('el-button',{attrs:{\"size\":_vm.headerButtonSize,\"type\":\"text\"},on:{\"click\":function($event){return _vm.downloadProcessAsSvg()}}},[_vm._v(\"下载为SVG文件\")]),_c('br'),_c('el-button',{attrs:{\"size\":_vm.headerButtonSize,\"type\":\"text\"},on:{\"click\":function($event){return _vm.downloadProcessAsBpmn()}}},[_vm._v(\"下载为BPMN文件\")])],1),_c('el-button',{attrs:{\"size\":_vm.headerButtonSize,\"type\":_vm.headerButtonType,\"icon\":\"el-icon-download\"}},[_vm._v(\"下载文件\")])],1),_c('el-tooltip',{attrs:{\"effect\":\"light\",\"content\":\"保存上传服务器\"}},[_c('el-button',{attrs:{\"size\":_vm.headerButtonSize,\"type\":_vm.headerButtonType,\"icon\":\"el-icon-upload\"},on:{\"click\":function($event){return _vm.uploadProcess()}}},[_vm._v(\" 上传 \")])],1),_c('el-tooltip',{attrs:{\"effect\":\"light\"}},[_c('div',{attrs:{\"slot\":\"content\"},slot:\"content\"},[_c('el-button',{attrs:{\"size\":_vm.headerButtonSize,\"type\":\"text\"},on:{\"click\":_vm.previewProcessXML}},[_vm._v(\"预览XML\")]),_c('br'),_c('el-button',{attrs:{\"size\":_vm.headerButtonSize,\"type\":\"text\"},on:{\"click\":_vm.previewProcessJson}},[_vm._v(\"预览JSON\")])],1),_c('el-button',{attrs:{\"size\":_vm.headerButtonSize,\"type\":_vm.headerButtonType,\"icon\":\"el-icon-view\"}},[_vm._v(\"预览\")])],1),(_vm.simulation)?_c('el-tooltip',{attrs:{\"effect\":\"light\",\"content\":this.simulationStatus ? '退出模拟' : '开启模拟'}},[_c('el-button',{attrs:{\"size\":_vm.headerButtonSize,\"type\":_vm.headerButtonType,\"icon\":\"el-icon-cpu\"},on:{\"click\":_vm.processSimulation}},[_vm._v(\" 模拟 \")])],1):_vm._e()],1),_c('el-button-group',{key:\"align-control\"},[_c('el-tooltip',{attrs:{\"effect\":\"light\",\"content\":\"向左对齐\"}},[_c('el-button',{staticClass:\"align align-left\",attrs:{\"size\":_vm.headerButtonSize,\"icon\":\"el-icon-s-data\"},on:{\"click\":function($event){return _vm.elementsAlign('left')}}})],1),_c('el-tooltip',{attrs:{\"effect\":\"light\",\"content\":\"向右对齐\"}},[_c('el-button',{staticClass:\"align align-right\",attrs:{\"size\":_vm.headerButtonSize,\"icon\":\"el-icon-s-data\"},on:{\"click\":function($event){return _vm.elementsAlign('right')}}})],1),_c('el-tooltip',{attrs:{\"effect\":\"light\",\"content\":\"向上对齐\"}},[_c('el-button',{staticClass:\"align align-top\",attrs:{\"size\":_vm.headerButtonSize,\"icon\":\"el-icon-s-data\"},on:{\"click\":function($event){return _vm.elementsAlign('top')}}})],1),_c('el-tooltip',{attrs:{\"effect\":\"light\",\"content\":\"向下对齐\"}},[_c('el-button',{staticClass:\"align align-bottom\",attrs:{\"size\":_vm.headerButtonSize,\"icon\":\"el-icon-s-data\"},on:{\"click\":function($event){return _vm.elementsAlign('bottom')}}})],1),_c('el-tooltip',{attrs:{\"effect\":\"light\",\"content\":\"水平居中\"}},[_c('el-button',{staticClass:\"align align-center\",attrs:{\"size\":_vm.headerButtonSize,\"icon\":\"el-icon-s-data\"},on:{\"click\":function($event){return _vm.elementsAlign('center')}}})],1),_c('el-tooltip',{attrs:{\"effect\":\"light\",\"content\":\"垂直居中\"}},[_c('el-button',{staticClass:\"align align-middle\",attrs:{\"size\":_vm.headerButtonSize,\"icon\":\"el-icon-s-data\"},on:{\"click\":function($event){return _vm.elementsAlign('middle')}}})],1)],1),_c('el-button-group',{key:\"scale-control\"},[_c('el-tooltip',{attrs:{\"effect\":\"light\",\"content\":\"缩小视图\"}},[_c('el-button',{attrs:{\"size\":_vm.headerButtonSize,\"disabled\":_vm.defaultZoom <= 0.2,\"icon\":\"el-icon-zoom-out\"},on:{\"click\":function($event){return _vm.processZoomOut()}}})],1),_c('el-button',{attrs:{\"size\":_vm.headerButtonSize}},[_vm._v(_vm._s(Math.floor(this.defaultZoom * 10 * 10) + \"%\"))]),_c('el-tooltip',{attrs:{\"effect\":\"light\",\"content\":\"放大视图\"}},[_c('el-button',{attrs:{\"size\":_vm.headerButtonSize,\"disabled\":_vm.defaultZoom >= 4,\"icon\":\"el-icon-zoom-in\"},on:{\"click\":function($event){return _vm.processZoomIn()}}})],1),_c('el-tooltip',{attrs:{\"effect\":\"light\",\"content\":\"重置视图并居中\"}},[_c('el-button',{attrs:{\"size\":_vm.headerButtonSize,\"icon\":\"el-icon-c-scale-to-original\"},on:{\"click\":function($event){return _vm.processReZoom()}}})],1)],1),_c('el-button-group',{key:\"stack-control\"},[_c('el-tooltip',{attrs:{\"effect\":\"light\",\"content\":\"撤销\"}},[_c('el-button',{attrs:{\"size\":_vm.headerButtonSize,\"disabled\":!_vm.revocable,\"icon\":\"el-icon-refresh-left\"},on:{\"click\":function($event){return _vm.processUndo()}}})],1),_c('el-tooltip',{attrs:{\"effect\":\"light\",\"content\":\"恢复\"}},[_c('el-button',{attrs:{\"size\":_vm.headerButtonSize,\"disabled\":!_vm.recoverable,\"icon\":\"el-icon-refresh-right\"},on:{\"click\":function($event){return _vm.processRedo()}}})],1),_c('el-tooltip',{attrs:{\"effect\":\"light\",\"content\":\"重新绘制\"}},[_c('el-button',{attrs:{\"size\":_vm.headerButtonSize,\"icon\":\"el-icon-refresh\"},on:{\"click\":_vm.processRestart}})],1)],1)]:_vm._e(),_c('input',{ref:\"refFile\",staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"file\",\"id\":\"files\",\"accept\":\".xml, .bpmn\"},on:{\"change\":_vm.importLocalFile}})],2),_c('div',{staticClass:\"my-process-designer__container\"},[_c('div',{ref:\"bpmn-canvas\",staticClass:\"my-process-designer__canvas\"})]),_c('el-dialog',{attrs:{\"title\":\"预览\",\"width\":\"60%\",\"visible\":_vm.previewModelVisible,\"append-to-body\":\"\",\"destroy-on-close\":\"\"},on:{\"update:visible\":function($event){_vm.previewModelVisible=$event}}},[_c('highlightjs',{attrs:{\"language\":_vm.previewType,\"code\":_vm.previewResult}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default (key, name, type) => {\n  if (!type) type = \"camunda\";\n  const TYPE_TARGET = {\n    activiti: \"http://activiti.org/bpmn\",\n    camunda: \"http://bpmn.io/schema/bpmn\",\n    flowable: \"http://flowable.org/bpmn\"\n  };\n  return `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<bpmn2:definitions \n  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xmlns:bpmn2=\"http://www.omg.org/spec/BPMN/20100524/MODEL\"\n  xmlns:bpmndi=\"http://www.omg.org/spec/BPMN/20100524/DI\"\n  xmlns:dc=\"http://www.omg.org/spec/DD/20100524/DC\"\n  xmlns:di=\"http://www.omg.org/spec/DD/20100524/DI\"\n  xsi:schemaLocation=\"http://www.omg.org/spec/BPMN/20100524/MODEL BPMN20.xsd\"\n  id=\"diagram_${key}\"\n  targetNamespace=\"${TYPE_TARGET[type]}\">\n  <bpmn2:process id=\"${key}\" name=\"${name}\" isExecutable=\"true\">\n  </bpmn2:process>\n  <bpmndi:BPMNDiagram id=\"BPMNDiagram_1\">\n    <bpmndi:BPMNPlane id=\"BPMNPlane_1\" bpmnElement=\"${key}\">\n    </bpmndi:BPMNPlane>\n  </bpmndi:BPMNDiagram>\n</bpmn2:definitions>`;\n};\n","// import translations from \"./zh\";\n//\n// export default function customTranslate(template, replacements) {\n//   replacements = replacements || {};\n//\n//   // Translate\n//   template = translations[template] || template;\n//\n//   // Replace\n//   return template.replace(/{([^}]+)}/g, function(_, key) {\n//     let str = replacements[key];\n//     if (\n//       translations[replacements[key]] !== null &&\n//       translations[replacements[key]] !== \"undefined\"\n//     ) {\n//       // eslint-disable-next-line no-mixed-spaces-and-tabs\n//       str = translations[replacements[key]];\n//       // eslint-disable-next-line no-mixed-spaces-and-tabs\n//     }\n//     return str || \"{\" + key + \"}\";\n//   });\n// }\n\nexport default function customTranslate(translations) {\n  return function(template, replacements) {\n    replacements = replacements || {};\n    // Translate\n    template = translations[template] || template;\n\n    // Replace\n    return template.replace(/{([^}]+)}/g, function(_, key) {\n      let str = replacements[key];\n      if (translations[replacements[key]] !== null && translations[replacements[key]] !== undefined) {\n        // eslint-disable-next-line no-mixed-spaces-and-tabs\n        str = translations[replacements[key]];\n        // eslint-disable-next-line no-mixed-spaces-and-tabs\n      }\n      return str || \"{\" + key + \"}\";\n    });\n  };\n}\n","/**\n * This is a sample file that should be replaced with the actual translation.\n *\n * Checkout https://github.com/bpmn-io/bpmn-js-i18n for a list of available\n * translations and labels to translate.\n */\nexport default {\n  // 添加部分\n  \"Append EndEvent\": \"追加结束事件\",\n  \"Append Gateway\": \"追加网关\",\n  \"Append Task\": \"追加任务\",\n  \"Append Intermediate/Boundary Event\": \"追加中间抛出事件/边界事件\",\n\n  \"Activate the global connect tool\": \"激活全局连接工具\",\n  \"Append {type}\": \"添加 {type}\",\n  \"Add Lane above\": \"在上面添加道\",\n  \"Divide into two Lanes\": \"分割成两个道\",\n  \"Divide into three Lanes\": \"分割成三个道\",\n  \"Add Lane below\": \"在下面添加道\",\n  \"Append compensation activity\": \"追加补偿活动\",\n  \"Change type\": \"修改类型\",\n  \"Connect using Association\": \"使用关联连接\",\n  \"Connect using Sequence/MessageFlow or Association\": \"使用顺序/消息流或者关联连接\",\n  \"Connect using DataInputAssociation\": \"使用数据输入关联连接\",\n  Remove: \"移除\",\n  \"Activate the hand tool\": \"激活抓手工具\",\n  \"Activate the lasso tool\": \"激活套索工具\",\n  \"Activate the create/remove space tool\": \"激活创建/删除空间工具\",\n  \"Create expanded SubProcess\": \"创建扩展子过程\",\n  \"Create IntermediateThrowEvent/BoundaryEvent\": \"创建中间抛出事件/边界事件\",\n  \"Create Pool/Participant\": \"创建池/参与者\",\n  \"Parallel Multi Instance\": \"并行多重事件\",\n  \"Sequential Multi Instance\": \"时序多重事件\",\n  DataObjectReference: \"数据对象参考\",\n  DataStoreReference: \"数据存储参考\",\n  Loop: \"循环\",\n  \"Ad-hoc\": \"即席\",\n  \"Create {type}\": \"创建 {type}\",\n  Task: \"任务\",\n  \"Send Task\": \"发送任务\",\n  \"Receive Task\": \"接收任务\",\n  \"User Task\": \"用户任务\",\n  \"Manual Task\": \"手工任务\",\n  \"Business Rule Task\": \"业务规则任务\",\n  \"Service Task\": \"服务任务\",\n  \"Script Task\": \"脚本任务\",\n  \"Call Activity\": \"调用活动\",\n  \"Sub Process (collapsed)\": \"子流程（折叠的）\",\n  \"Sub Process (expanded)\": \"子流程（展开的）\",\n  \"Start Event\": \"开始事件\",\n  StartEvent: \"开始事件\",\n  \"Intermediate Throw Event\": \"中间事件\",\n  \"End Event\": \"结束事件\",\n  EndEvent: \"结束事件\",\n  \"Create StartEvent\": \"创建开始事件\",\n  \"Create EndEvent\": \"创建结束事件\",\n  \"Create Task\": \"创建任务\",\n  \"Create User Task\": \"创建用户任务\",\n  \"Create Gateway\": \"创建网关\",\n  \"Create DataObjectReference\": \"创建数据对象\",\n  \"Create DataStoreReference\": \"创建数据存储\",\n  \"Create Group\": \"创建分组\",\n  \"Create Intermediate/Boundary Event\": \"创建中间/边界事件\",\n  \"Message Start Event\": \"消息开始事件\",\n  \"Timer Start Event\": \"定时开始事件\",\n  \"Conditional Start Event\": \"条件开始事件\",\n  \"Signal Start Event\": \"信号开始事件\",\n  \"Error Start Event\": \"错误开始事件\",\n  \"Escalation Start Event\": \"升级开始事件\",\n  \"Compensation Start Event\": \"补偿开始事件\",\n  \"Message Start Event (non-interrupting)\": \"消息开始事件（非中断）\",\n  \"Timer Start Event (non-interrupting)\": \"定时开始事件（非中断）\",\n  \"Conditional Start Event (non-interrupting)\": \"条件开始事件（非中断）\",\n  \"Signal Start Event (non-interrupting)\": \"信号开始事件（非中断）\",\n  \"Escalation Start Event (non-interrupting)\": \"升级开始事件（非中断）\",\n  \"Message Intermediate Catch Event\": \"消息中间捕获事件\",\n  \"Message Intermediate Throw Event\": \"消息中间抛出事件\",\n  \"Timer Intermediate Catch Event\": \"定时中间捕获事件\",\n  \"Escalation Intermediate Throw Event\": \"升级中间抛出事件\",\n  \"Conditional Intermediate Catch Event\": \"条件中间捕获事件\",\n  \"Link Intermediate Catch Event\": \"链接中间捕获事件\",\n  \"Link Intermediate Throw Event\": \"链接中间抛出事件\",\n  \"Compensation Intermediate Throw Event\": \"补偿中间抛出事件\",\n  \"Signal Intermediate Catch Event\": \"信号中间捕获事件\",\n  \"Signal Intermediate Throw Event\": \"信号中间抛出事件\",\n  \"Message End Event\": \"消息结束事件\",\n  \"Escalation End Event\": \"定时结束事件\",\n  \"Error End Event\": \"错误结束事件\",\n  \"Cancel End Event\": \"取消结束事件\",\n  \"Compensation End Event\": \"补偿结束事件\",\n  \"Signal End Event\": \"信号结束事件\",\n  \"Terminate End Event\": \"终止结束事件\",\n  \"Message Boundary Event\": \"消息边界事件\",\n  \"Message Boundary Event (non-interrupting)\": \"消息边界事件（非中断）\",\n  \"Timer Boundary Event\": \"定时边界事件\",\n  \"Timer Boundary Event (non-interrupting)\": \"定时边界事件（非中断）\",\n  \"Escalation Boundary Event\": \"升级边界事件\",\n  \"Escalation Boundary Event (non-interrupting)\": \"升级边界事件（非中断）\",\n  \"Conditional Boundary Event\": \"条件边界事件\",\n  \"Conditional Boundary Event (non-interrupting)\": \"条件边界事件（非中断）\",\n  \"Error Boundary Event\": \"错误边界事件\",\n  \"Cancel Boundary Event\": \"取消边界事件\",\n  \"Signal Boundary Event\": \"信号边界事件\",\n  \"Signal Boundary Event (non-interrupting)\": \"信号边界事件（非中断）\",\n  \"Compensation Boundary Event\": \"补偿边界事件\",\n  \"Exclusive Gateway\": \"互斥网关\",\n  \"Parallel Gateway\": \"并行网关\",\n  \"Inclusive Gateway\": \"相容网关\",\n  \"Complex Gateway\": \"复杂网关\",\n  \"Event based Gateway\": \"事件网关\",\n  Transaction: \"转运\",\n  \"Sub Process\": \"子流程\",\n  \"Event Sub Process\": \"事件子流程\",\n  \"Collapsed Pool\": \"折叠池\",\n  \"Expanded Pool\": \"展开池\",\n\n  // Errors\n  \"no parent for {element} in {parent}\": \"在{parent}里，{element}没有父类\",\n  \"no shape type specified\": \"没有指定的形状类型\",\n  \"flow elements must be children of pools/participants\": \"流元素必须是池/参与者的子类\",\n  \"out of bounds release\": \"out of bounds release\",\n  \"more than {count} child lanes\": \"子道大于{count} \",\n  \"element required\": \"元素不能为空\",\n  \"diagram not part of bpmn:Definitions\": \"流程图不符合bpmn规范\",\n  \"no diagram to display\": \"没有可展示的流程图\",\n  \"no process or collaboration to display\": \"没有可展示的流程/协作\",\n  \"element {element} referenced by {referenced}#{property} not yet drawn\": \"由{referenced}#{property}引用的{element}元素仍未绘制\",\n  \"already rendered {element}\": \"{element} 已被渲染\",\n  \"failed to import {element}\": \"导入{element}失败\",\n  //属性面板的参数\n  Id: \"编号\",\n  Name: \"名称\",\n  General: \"常规\",\n  Details: \"详情\",\n  \"Message Name\": \"消息名称\",\n  Message: \"消息\",\n  Initiator: \"创建者\",\n  \"Asynchronous Continuations\": \"持续异步\",\n  \"Asynchronous Before\": \"异步前\",\n  \"Asynchronous After\": \"异步后\",\n  \"Job Configuration\": \"工作配置\",\n  Exclusive: \"排除\",\n  \"Job Priority\": \"工作优先级\",\n  \"Retry Time Cycle\": \"重试时间周期\",\n  Documentation: \"文档\",\n  \"Element Documentation\": \"元素文档\",\n  \"History Configuration\": \"历史配置\",\n  \"History Time To Live\": \"历史的生存时间\",\n  Forms: \"表单\",\n  \"Form Key\": \"表单key\",\n  \"Form Fields\": \"表单字段\",\n  \"Business Key\": \"业务key\",\n  \"Form Field\": \"表单字段\",\n  ID: \"编号\",\n  Type: \"类型\",\n  Label: \"名称\",\n  \"Default Value\": \"默认值\",\n  \"Default Flow\": \"默认流转路径\",\n  \"Conditional Flow\": \"条件流转路径\",\n  \"Sequence Flow\": \"普通流转路径\",\n  Validation: \"校验\",\n  \"Add Constraint\": \"添加约束\",\n  Config: \"配置\",\n  Properties: \"属性\",\n  \"Add Property\": \"添加属性\",\n  Value: \"值\",\n  Listeners: \"监听器\",\n  \"Execution Listener\": \"执行监听\",\n  \"Event Type\": \"事件类型\",\n  \"Listener Type\": \"监听器类型\",\n  \"Java Class\": \"Java类\",\n  Expression: \"表达式\",\n  \"Must provide a value\": \"必须提供一个值\",\n  \"Delegate Expression\": \"代理表达式\",\n  Script: \"脚本\",\n  \"Script Format\": \"脚本格式\",\n  \"Script Type\": \"脚本类型\",\n  \"Inline Script\": \"内联脚本\",\n  \"External Script\": \"外部脚本\",\n  Resource: \"资源\",\n  \"Field Injection\": \"字段注入\",\n  Extensions: \"扩展\",\n  \"Input/Output\": \"输入/输出\",\n  \"Input Parameters\": \"输入参数\",\n  \"Output Parameters\": \"输出参数\",\n  Parameters: \"参数\",\n  \"Output Parameter\": \"输出参数\",\n  \"Timer Definition Type\": \"定时器定义类型\",\n  \"Timer Definition\": \"定时器定义\",\n  Date: \"日期\",\n  Duration: \"持续\",\n  Cycle: \"循环\",\n  Signal: \"信号\",\n  \"Signal Name\": \"信号名称\",\n  Escalation: \"升级\",\n  Error: \"错误\",\n  \"Link Name\": \"链接名称\",\n  Condition: \"条件名称\",\n  \"Variable Name\": \"变量名称\",\n  \"Variable Event\": \"变量事件\",\n  \"Specify more than one variable change event as a comma separated list.\": \"多个变量事件以逗号隔开\",\n  \"Wait for Completion\": \"等待完成\",\n  \"Activity Ref\": \"活动参考\",\n  \"Version Tag\": \"版本标签\",\n  Executable: \"可执行文件\",\n  \"External Task Configuration\": \"扩展任务配置\",\n  \"Task Priority\": \"任务优先级\",\n  External: \"外部\",\n  Connector: \"连接器\",\n  \"Must configure Connector\": \"必须配置连接器\",\n  \"Connector Id\": \"连接器编号\",\n  Implementation: \"实现方式\",\n  \"Field Injections\": \"字段注入\",\n  Fields: \"字段\",\n  \"Result Variable\": \"结果变量\",\n  Topic: \"主题\",\n  \"Configure Connector\": \"配置连接器\",\n  \"Input Parameter\": \"输入参数\",\n  Assignee: \"代理人\",\n  \"Candidate Users\": \"候选用户\",\n  \"Candidate Groups\": \"候选组\",\n  \"Due Date\": \"到期时间\",\n  \"Follow Up Date\": \"跟踪日期\",\n  Priority: \"优先级\",\n  \"The follow up date as an EL expression (e.g. ${someDate} or an ISO date (e.g. 2015-06-26T09:54:00)\":\n    \"跟踪日期必须符合EL表达式，如： ${someDate} ,或者一个ISO标准日期，如：2015-06-26T09:54:00\",\n  \"The due date as an EL expression (e.g. ${someDate} or an ISO date (e.g. 2015-06-26T09:54:00)\":\n    \"跟踪日期必须符合EL表达式，如： ${someDate} ,或者一个ISO标准日期，如：2015-06-26T09:54:00\",\n  Variables: \"变量\",\n  \"Candidate Starter Configuration\": \"候选人起动器配置\",\n  \"Candidate Starter Groups\": \"候选人起动器组\",\n  \"This maps to the process definition key.\": \"这映射到流程定义键。\",\n  \"Candidate Starter Users\": \"候选人起动器的用户\",\n  \"Specify more than one user as a comma separated list.\": \"指定多个用户作为逗号分隔的列表。\",\n  \"Tasklist Configuration\": \"Tasklist配置\",\n  Startable: \"启动\",\n  \"Specify more than one group as a comma separated list.\": \"指定多个组作为逗号分隔的列表。\"\n};\n","import axios from \"axios\";\n\n// create an axios instance\nconst service = axios.create({\n  baseURL: \"/dev-api\", // url = base url + request url\n  timeout: 5000 // request timeout\n});\n\n// request interceptor\nservice.interceptors.request.use();\n\n// response interceptor\nservice.interceptors.response.use();\n\nexport default service;\n","import request from '@/utils/request'\n\nexport function processDeploy(file) {\n  return request({\n    url: '/process/feign/dep',\n    method: 'put',\n    headers: { 'content-type': 'multipart/form-data' },\n    data: file\n  })\n}","<template>\n  <div class=\"my-process-designer\">\n    <div class=\"my-process-designer__header\">\n      <slot name=\"control-header\"></slot>\n      <template v-if=\"!$slots['control-header']\">\n        <el-button-group key=\"file-control\">\n          <el-button :size=\"headerButtonSize\" :type=\"headerButtonType\" icon=\"el-icon-folder-opened\" @click=\"$refs.refFile.click()\">打开文件</el-button>\n          <el-tooltip effect=\"light\">\n            <div slot=\"content\">\n              <el-button :size=\"headerButtonSize\" type=\"text\" @click=\"downloadProcessAsXml()\">下载为XML文件</el-button>\n              <br />\n              <el-button :size=\"headerButtonSize\" type=\"text\" @click=\"downloadProcessAsSvg()\">下载为SVG文件</el-button>\n              <br />\n              <el-button :size=\"headerButtonSize\" type=\"text\" @click=\"downloadProcessAsBpmn()\">下载为BPMN文件</el-button>\n            </div>\n            <el-button :size=\"headerButtonSize\" :type=\"headerButtonType\" icon=\"el-icon-download\">下载文件</el-button>\n          </el-tooltip>\n           <el-tooltip effect=\"light\" content=\"保存上传服务器\">\n            <el-button :size=\"headerButtonSize\" :type=\"headerButtonType\" icon=\"el-icon-upload\" @click=\"uploadProcess()\">\n              上传\n            </el-button>\n          </el-tooltip>\n          <el-tooltip effect=\"light\">\n            <div slot=\"content\">\n              <el-button :size=\"headerButtonSize\" type=\"text\" @click=\"previewProcessXML\">预览XML</el-button>\n              <br />\n              <el-button :size=\"headerButtonSize\" type=\"text\" @click=\"previewProcessJson\">预览JSON</el-button>\n            </div>\n            <el-button :size=\"headerButtonSize\" :type=\"headerButtonType\" icon=\"el-icon-view\">预览</el-button>\n          </el-tooltip>\n          <el-tooltip v-if=\"simulation\" effect=\"light\" :content=\"this.simulationStatus ? '退出模拟' : '开启模拟'\">\n            <el-button :size=\"headerButtonSize\" :type=\"headerButtonType\" icon=\"el-icon-cpu\" @click=\"processSimulation\">\n              模拟\n            </el-button>\n          </el-tooltip>\n        </el-button-group>\n        <el-button-group key=\"align-control\">\n          <el-tooltip effect=\"light\" content=\"向左对齐\">\n            <el-button :size=\"headerButtonSize\" class=\"align align-left\" icon=\"el-icon-s-data\" @click=\"elementsAlign('left')\" />\n          </el-tooltip>\n          <el-tooltip effect=\"light\" content=\"向右对齐\">\n            <el-button :size=\"headerButtonSize\" class=\"align align-right\" icon=\"el-icon-s-data\" @click=\"elementsAlign('right')\" />\n          </el-tooltip>\n          <el-tooltip effect=\"light\" content=\"向上对齐\">\n            <el-button :size=\"headerButtonSize\" class=\"align align-top\" icon=\"el-icon-s-data\" @click=\"elementsAlign('top')\" />\n          </el-tooltip>\n          <el-tooltip effect=\"light\" content=\"向下对齐\">\n            <el-button :size=\"headerButtonSize\" class=\"align align-bottom\" icon=\"el-icon-s-data\" @click=\"elementsAlign('bottom')\" />\n          </el-tooltip>\n          <el-tooltip effect=\"light\" content=\"水平居中\">\n            <el-button :size=\"headerButtonSize\" class=\"align align-center\" icon=\"el-icon-s-data\" @click=\"elementsAlign('center')\" />\n          </el-tooltip>\n          <el-tooltip effect=\"light\" content=\"垂直居中\">\n            <el-button :size=\"headerButtonSize\" class=\"align align-middle\" icon=\"el-icon-s-data\" @click=\"elementsAlign('middle')\" />\n          </el-tooltip>\n        </el-button-group>\n        <el-button-group key=\"scale-control\">\n          <el-tooltip effect=\"light\" content=\"缩小视图\">\n            <el-button :size=\"headerButtonSize\" :disabled=\"defaultZoom <= 0.2\" icon=\"el-icon-zoom-out\" @click=\"processZoomOut()\" />\n          </el-tooltip>\n          <el-button :size=\"headerButtonSize\">{{ Math.floor(this.defaultZoom * 10 * 10) + \"%\" }}</el-button>\n          <el-tooltip effect=\"light\" content=\"放大视图\">\n            <el-button :size=\"headerButtonSize\" :disabled=\"defaultZoom >= 4\" icon=\"el-icon-zoom-in\" @click=\"processZoomIn()\" />\n          </el-tooltip>\n          <el-tooltip effect=\"light\" content=\"重置视图并居中\">\n            <el-button :size=\"headerButtonSize\" icon=\"el-icon-c-scale-to-original\" @click=\"processReZoom()\" />\n          </el-tooltip>\n        </el-button-group>\n        <el-button-group key=\"stack-control\">\n          <el-tooltip effect=\"light\" content=\"撤销\">\n            <el-button :size=\"headerButtonSize\" :disabled=\"!revocable\" icon=\"el-icon-refresh-left\" @click=\"processUndo()\" />\n          </el-tooltip>\n          <el-tooltip effect=\"light\" content=\"恢复\">\n            <el-button :size=\"headerButtonSize\" :disabled=\"!recoverable\" icon=\"el-icon-refresh-right\" @click=\"processRedo()\" />\n          </el-tooltip>\n          <el-tooltip effect=\"light\" content=\"重新绘制\">\n            <el-button :size=\"headerButtonSize\" icon=\"el-icon-refresh\" @click=\"processRestart\" />\n          </el-tooltip>\n        </el-button-group>\n      </template>\n      <!-- 用于打开本地文件-->\n      <input type=\"file\" id=\"files\" ref=\"refFile\" style=\"display: none\" accept=\".xml, .bpmn\" @change=\"importLocalFile\" />\n    </div>\n    <div class=\"my-process-designer__container\">\n      <div class=\"my-process-designer__canvas\" ref=\"bpmn-canvas\"></div>\n    </div>\n    <el-dialog title=\"预览\" width=\"60%\" :visible.sync=\"previewModelVisible\" append-to-body destroy-on-close>\n      <highlightjs :language=\"previewType\" :code=\"previewResult\" />\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport BpmnModeler from \"bpmn-js/lib/Modeler\";\nimport DefaultEmptyXML from \"./plugins/defaultEmpty\";\n// 翻译方法\nimport customTranslate from \"./plugins/translate/customTranslate\";\nimport translationsCN from \"./plugins/translate/zh\";\n// 模拟流转流程\nimport tokenSimulation from \"bpmn-js-token-simulation\";\n// 标签解析构建器\n// import bpmnPropertiesProvider from \"bpmn-js-properties-panel/lib/provider/bpmn\";\n// 标签解析 Moddle\nimport camundaModdleDescriptor from \"./plugins/descriptor/camundaDescriptor.json\";\nimport activitiModdleDescriptor from \"./plugins/descriptor/activitiDescriptor.json\";\nimport flowableModdleDescriptor from \"./plugins/descriptor/flowableDescriptor.json\";\n// 标签解析 Extension\nimport camundaModdleExtension from \"./plugins/extension-moddle/camunda\";\nimport activitiModdleExtension from \"./plugins/extension-moddle/activiti\";\nimport flowableModdleExtension from \"./plugins/extension-moddle/flowable\";\n// 引入json转换与高亮\nimport convert from \"xml-js\";\n\nimport request from \"@/utils/request\";\nimport { processDeploy } from '@/api/common';\n\nexport default {\n  name: \"MyProcessDesigner\",\n  componentName: \"MyProcessDesigner\",\n  props: {\n    value: String, // xml 字符串\n    processId: String,\n    processName: String,\n    translations: Object, // 自定义的翻译文件\n    additionalModel: [Object, Array], // 自定义model\n    moddleExtension: Object, // 自定义moddle\n    onlyCustomizeAddi: {\n      type: Boolean,\n      default: false\n    },\n    onlyCustomizeModdle: {\n      type: Boolean,\n      default: false\n    },\n    simulation: {\n      type: Boolean,\n      default: true\n    },\n    keyboard: {\n      type: Boolean,\n      default: true\n    },\n    prefix: {\n      type: String,\n      default: \"camunda\"\n    },\n    events: {\n      type: Array,\n      default: () => [\"element.click\"]\n    },\n    headerButtonSize: {\n      type: String,\n      default: \"small\",\n      validator: value => [\"default\", \"medium\", \"small\", \"mini\"].indexOf(value) !== -1\n    },\n    headerButtonType: {\n      type: String,\n      default: \"primary\",\n      validator: value => [\"default\", \"primary\", \"success\", \"warning\", \"danger\", \"info\"].indexOf(value) !== -1\n    }\n  },\n  data() {\n    return {\n      defaultZoom: 1,\n      previewModelVisible: false,\n      simulationStatus: false,\n      previewResult: \"\",\n      previewType: \"xml\",\n      recoverable: false,\n      revocable: false\n    };\n  },\n  computed: {\n    additionalModules() {\n      const Modules = [];\n      // 仅保留用户自定义扩展模块\n      if (this.onlyCustomizeAddi) {\n        if (Object.prototype.toString.call(this.additionalModel) === \"[object Array]\") {\n          return this.additionalModel || [];\n        }\n        return [this.additionalModel];\n      }\n\n      // 插入用户自定义扩展模块\n      if (Object.prototype.toString.call(this.additionalModel) === \"[object Array]\") {\n        Modules.push(...this.additionalModel);\n      } else {\n        this.additionalModel && Modules.push(this.additionalModel);\n      }\n\n      // 翻译模块\n      const TranslateModule = {\n        translate: [\"value\", customTranslate(this.translations || translationsCN)]\n      };\n      Modules.push(TranslateModule);\n\n      // 模拟流转模块\n      if (this.simulation) {\n        Modules.push(tokenSimulation);\n      }\n\n      // 根据需要的流程类型设置扩展元素构建模块\n      // if (this.prefix === \"bpmn\") {\n      //   Modules.push(bpmnModdleExtension);\n      // }\n      if (this.prefix === \"camunda\") {\n        Modules.push(camundaModdleExtension);\n      }\n      if (this.prefix === \"flowable\") {\n        Modules.push(flowableModdleExtension);\n      }\n      if (this.prefix === \"activiti\") {\n        Modules.push(activitiModdleExtension);\n      }\n\n      return Modules;\n    },\n    moddleExtensions() {\n      const Extensions = {};\n      // 仅使用用户自定义模块\n      if (this.onlyCustomizeModdle) {\n        return this.moddleExtension || null;\n      }\n\n      // 插入用户自定义模块\n      if (this.moddleExtension) {\n        for (let key in this.moddleExtension) {\n          Extensions[key] = this.moddleExtension[key];\n        }\n      }\n\n      // 根据需要的 \"流程类型\" 设置 对应的解析文件\n      if (this.prefix === \"activiti\") {\n        Extensions.activiti = activitiModdleDescriptor;\n      }\n      if (this.prefix === \"flowable\") {\n        Extensions.flowable = flowableModdleDescriptor;\n      }\n      if (this.prefix === \"camunda\") {\n        Extensions.camunda = camundaModdleDescriptor;\n      }\n\n      return Extensions;\n    }\n  },\n  mounted() {\n    this.initBpmnModeler();\n    this.createNewDiagram(this.value, 'init');\n    this.$once(\"hook:beforeDestroy\", () => {\n      if (this.bpmnModeler) this.bpmnModeler.destroy();\n      this.$emit(\"destroy\", this.bpmnModeler);\n      this.bpmnModeler = null;\n    });\n  },\n  methods: {\n    initBpmnModeler() {\n      if (this.bpmnModeler) return;\n      this.bpmnModeler = new BpmnModeler({\n        container: this.$refs[\"bpmn-canvas\"],\n        keyboard: this.keyboard ? { bindTo: document } : null,\n        additionalModules: this.additionalModules,\n        moddleExtensions: this.moddleExtensions\n      });\n      this.$emit(\"init-finished\", this.bpmnModeler);\n      this.initModelListeners();\n    },\n    initModelListeners() {\n      const EventBus = this.bpmnModeler.get(\"eventBus\");\n      const that = this;\n      // 注册需要的监听事件, 将. 替换为 - , 避免解析异常\n      this.events.forEach(event => {\n        EventBus.on(event, function(eventObj) {\n          let eventName = event.replace(/\\./g, \"-\");\n          let element = eventObj ? eventObj.element : null;\n          that.$emit(eventName, element, eventObj);\n        });\n      });\n      // 监听图形改变返回xml\n      EventBus.on(\"commandStack.changed\", async event => {\n        try {\n          this.recoverable = this.bpmnModeler.get(\"commandStack\").canRedo();\n          this.revocable = this.bpmnModeler.get(\"commandStack\").canUndo();\n          let { xml } = await this.bpmnModeler.saveXML({ format: true });\n          this.$emit(\"commandStack-changed\", event);\n          this.$emit(\"input\", xml);\n          this.$emit(\"change\", xml);\n        } catch (e) {\n          console.error(`[Process Designer Warn]: ${e.message || e}`);\n        }\n      });\n      // 监听视图缩放变化\n      this.bpmnModeler.on(\"canvas.viewbox.changed\", ({ viewbox }) => {\n        this.$emit(\"canvas-viewbox-changed\", { viewbox });\n        const { scale } = viewbox;\n        this.defaultZoom = Math.floor(scale * 100) / 100;\n      });\n    },\n    /* 创建新的流程图 */\n    async createNewDiagram(xml, type) {\n      if(type == 'init'){\n        var name = \"href\";\n        var reg = new RegExp(\"(^|&)\" + name + \"=([^&]*)(&|$)\", \"i\");\n        console.log(window.location.search)\n        var r = window.location.search.substr(1).match(reg);\n        console.log(r)\n        const that = this;\n        if (r != null) {\n          const url = unescape(r[2]);\n          request\n            .get(url)\n            .then(function(res) {\n              that.req(res.data);\n            })\n            .catch(function(err) {\n              that.$message.error('加载流程图失败')\n            });\n          return;\n        }\n      }\n      // 将字符串转换成图显示出来\n      let newId = this.processId || `Process_${new Date().getTime()}`;\n      let newName = this.processName || `业务流程_${new Date().getTime()}`;\n      let xmlString = xml || DefaultEmptyXML(newId, newName, this.prefix);\n      this.req(xmlString);\n    },\n    async req(xmlString) {\n      try {\n        let { warnings } = await this.bpmnModeler.importXML(xmlString);\n        this.processReZoom();\n        if (warnings && warnings.length) {\n          warnings.forEach(warn => console.warn(warn));\n        }\n      } catch (e) {\n        console.error(`[Process Designer Warn]: ${e.message || e}`);\n      }\n    },\n    // 下载流程图到本地\n    async downloadProcess(type, name) {\n      try {\n        const _this = this;\n        // 按需要类型创建文件并下载\n        if (type === \"bpmn20.xml\" || type === \"bpmn\") {\n          const { err, xml } = await this.bpmnModeler.saveXML();\n          // 读取异常时抛出异常\n          if (err) {\n            console.error(`[Process Designer Warn ]: ${err.message || err}`);\n          }\n          let { href, filename } = _this.setEncoded(type, name, xml);\n          downloadFunc(href, filename);\n        } else {\n          const { err, svg } = await this.bpmnModeler.saveSVG();\n          // 读取异常时抛出异常\n          if (err) {\n            return console.error(err);\n          }\n          let { href, filename } = _this.setEncoded(\"svg\", name, svg);\n          downloadFunc(href, filename);\n        }\n      } catch (e) {\n        console.error(`[Process Designer Warn ]: ${e.message || e}`);\n      }\n      // 文件下载方法\n      function downloadFunc(href, filename) {\n        if (href && filename) {\n          let a = document.createElement(\"a\");\n          a.download = filename; //指定下载的文件名\n          a.href = href; //  URL对象\n          a.click(); // 模拟点击\n          URL.revokeObjectURL(a.href); // 释放URL 对象\n        }\n      }\n    },\n\n    // 根据所需类型进行转码并返回下载地址\n    setEncoded(type, filename = \"diagram\", data) {\n      const encodedData = encodeURIComponent(data);\n      return {\n        filename: `${filename}.${type}`,\n        href: `data:application/${type === \"svg\" ? \"text/xml\" : \"bpmn20-xml\"};charset=UTF-8,${encodedData}`,\n        data: data\n      };\n    },\n\n    // 加载本地文件\n    importLocalFile() {\n      const that = this;\n      const file = this.$refs.refFile.files[0];\n      const reader = new FileReader();\n      reader.readAsText(file);\n      reader.onload = function() {\n        let xmlStr = this.result;\n        that.createNewDiagram(xmlStr);\n      };\n    },\n    /* ------------------------------------------------ refs methods ------------------------------------------------------ */\n    timeString() {\n      var date = new Date();\n      var str =\n        date.getFullYear() + \"-\" + (date.getMonth() + 1) + \"-\" + date.getDate() + \" \" + date.getHours() + \"-\" + date.getMinutes() + \"-\" + date.getSeconds();\n      return str;\n    },\n    downloadProcessAsXml() {\n      this.downloadProcess(\"bpmn20.xml\", \"diagram\" + this.timeString());\n    },\n    downloadProcessAsBpmn() {\n      this.downloadProcess(\"bpmn\", \"diagram\" + this.timeString());\n    },\n    downloadProcessAsSvg() {\n      this.downloadProcess(\"svg\", \"diagram\" + this.timeString());\n    },\n    async uploadProcess(){\n      const { err, xml } = await this.bpmnModeler.saveXML();\n      // 读取异常时抛出异常\n      if (err) {\n        console.error(`[Process Designer Warn ]: ${err.message || err}`);\n      }\n      var formData = new FormData();\n      formData.append(\"file\", new Blob([xml], { type : 'application/xml' }), \"diagram\" + this.timeString() + \".bpmn\");\n      try {\n        const result = await processDeploy(formData)\n        this.$message({\n          message: '上传成功',\n          type: 'success'\n        })\n      } catch (err) {\n        this.$message.error('上传失败')\n      }\n    },\n    processSimulation() {\n      this.simulationStatus = !this.simulationStatus;\n      this.simulation && this.bpmnModeler.get(\"toggleMode\").toggleMode();\n    },\n    processRedo() {\n      this.bpmnModeler.get(\"commandStack\").redo();\n    },\n    processUndo() {\n      this.bpmnModeler.get(\"commandStack\").undo();\n    },\n    processZoomIn(zoomStep = 0.1) {\n      let newZoom = Math.floor(this.defaultZoom * 100 + zoomStep * 100) / 100;\n      if (newZoom > 4) {\n        throw new Error(\"[Process Designer Warn ]: The zoom ratio cannot be greater than 4\");\n      }\n      this.defaultZoom = newZoom;\n      this.bpmnModeler.get(\"canvas\").zoom(this.defaultZoom);\n    },\n    processZoomOut(zoomStep = 0.1) {\n      let newZoom = Math.floor(this.defaultZoom * 100 - zoomStep * 100) / 100;\n      if (newZoom < 0.2) {\n        throw new Error(\"[Process Designer Warn ]: The zoom ratio cannot be less than 0.2\");\n      }\n      this.defaultZoom = newZoom;\n      this.bpmnModeler.get(\"canvas\").zoom(this.defaultZoom);\n    },\n    processZoomTo(newZoom = 1) {\n      if (newZoom < 0.2) {\n        throw new Error(\"[Process Designer Warn ]: The zoom ratio cannot be less than 0.2\");\n      }\n      if (newZoom > 4) {\n        throw new Error(\"[Process Designer Warn ]: The zoom ratio cannot be greater than 4\");\n      }\n      this.defaultZoom = newZoom;\n      this.bpmnModeler.get(\"canvas\").zoom(newZoom);\n    },\n    processReZoom() {\n      this.defaultZoom = 1;\n      this.bpmnModeler.get(\"canvas\").zoom(\"fit-viewport\", \"auto\");\n    },\n    processRestart() {\n      this.recoverable = false;\n      this.revocable = false;\n      this.createNewDiagram(null);\n    },\n    elementsAlign(align) {\n      const Align = this.bpmnModeler.get(\"alignElements\");\n      const Selection = this.bpmnModeler.get(\"selection\");\n      const SelectedElements = Selection.get();\n      if (!SelectedElements || SelectedElements.length <= 1) {\n        this.$message.warning(\"请按住 Ctrl 键选择多个元素对齐\");\n        return;\n      }\n      this.$confirm(\"自动对齐可能造成图形变形，是否继续？\", \"警告\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(() => Align.trigger(SelectedElements, align));\n    },\n    /*-----------------------------    方法结束     ---------------------------------*/\n    previewProcessXML() {\n      this.bpmnModeler.saveXML({ format: true }).then(({ xml }) => {\n        this.previewResult = xml;\n        this.previewType = \"xml\";\n        this.previewModelVisible = true;\n      });\n    },\n    previewProcessJson() {\n      this.bpmnModeler.saveXML({ format: true }).then(({ xml }) => {\n        this.previewResult = convert.xml2json(xml, { spaces: 2 });\n        this.previewType = \"json\";\n        this.previewModelVisible = true;\n      });\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProcessDesigner.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProcessDesigner.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProcessDesigner.vue?vue&type=template&id=08ee778b&\"\nimport script from \"./ProcessDesigner.vue?vue&type=script&lang=js&\"\nexport * from \"./ProcessDesigner.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import MyProcessDesigner from \"./ProcessDesigner.vue\";\n\nMyProcessDesigner.install = function(Vue) {\n  Vue.component(MyProcessDesigner.name, MyProcessDesigner);\n};\n\nexport default MyProcessDesigner;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"process-panel__container\",style:({ width: ((this.width) + \"px\") })},[_c('el-collapse',{model:{value:(_vm.activeTab),callback:function ($$v) {_vm.activeTab=$$v},expression:\"activeTab\"}},[_c('el-collapse-item',{attrs:{\"name\":\"base\"}},[_c('div',{staticClass:\"panel-tab__title\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('i',{staticClass:\"el-icon-info\"}),_vm._v(\"常规\")]),_c('element-base-info',{attrs:{\"id-edit-disabled\":_vm.idEditDisabled,\"business-object\":_vm.elementBusinessObject,\"type\":_vm.elementType}})],1),(_vm.elementType === 'ServiceTask')?_c('el-collapse-item',{key:\"serviceTask\",attrs:{\"name\":\"serviceTask\"}},[_c('div',{staticClass:\"panel-tab__title\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('i',{staticClass:\"el-icon-s-claim\"}),_vm._v(\"服务任务\")]),_c('service-task',{attrs:{\"id\":_vm.elementId,\"type\":_vm.elementType}})],1):_vm._e(),(_vm.elementType === 'Process')?_c('el-collapse-item',{key:\"message\",attrs:{\"name\":\"condition\"}},[_c('div',{staticClass:\"panel-tab__title\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('i',{staticClass:\"el-icon-s-comment\"}),_vm._v(\"消息与信号\")]),_c('signal-and-massage',{attrs:{\"force\":_vm.force}})],1):_vm._e(),(_vm.conditionFormVisible)?_c('el-collapse-item',{key:\"condition\",attrs:{\"name\":\"condition\"}},[_c('div',{staticClass:\"panel-tab__title\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('i',{staticClass:\"el-icon-s-promotion\"}),_vm._v(\"流转条件\")]),_c('flow-condition',{attrs:{\"business-object\":_vm.elementBusinessObject,\"type\":_vm.elementType}})],1):_vm._e(),(_vm.formVisible)?_c('el-collapse-item',{key:\"form\",attrs:{\"name\":\"condition\"}},[_c('div',{staticClass:\"panel-tab__title\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('i',{staticClass:\"el-icon-s-order\"}),_vm._v(\"表单\")]),_c('element-form',{attrs:{\"id\":_vm.elementId,\"type\":_vm.elementType}})],1):_vm._e(),(_vm.elementType.indexOf('UserTask') !== -1)?_c('el-collapse-item',{key:\"task\",attrs:{\"name\":\"task\"}},[_c('div',{staticClass:\"panel-tab__title\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('i',{staticClass:\"el-icon-s-claim\"}),_vm._v(\"任务\")]),_c('element-task',{attrs:{\"id\":_vm.elementId,\"type\":_vm.elementType}})],1):_vm._e(),(_vm.elementType.indexOf('Task') !== -1)?_c('el-collapse-item',{key:\"multiInstance\",attrs:{\"name\":\"multiInstance\"}},[_c('div',{staticClass:\"panel-tab__title\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('i',{staticClass:\"el-icon-s-help\"}),_vm._v(\"多实例\")]),_c('element-multi-instance',{attrs:{\"business-object\":_vm.elementBusinessObject,\"type\":_vm.elementType}})],1):_vm._e(),(_vm.elementType === 'Process' && _vm.prefix === 'flowable')?_c('el-collapse-item',{key:\"eventlisteners\",attrs:{\"name\":\"eventlisteners\"}},[_c('div',{staticClass:\"panel-tab__title\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('i',{staticClass:\"el-icon-message-solid\"}),_vm._v(\"事件监听器\")]),_c('event-listeners',{attrs:{\"id\":_vm.elementId,\"type\":_vm.elementType}})],1):_vm._e(),_c('el-collapse-item',{key:\"listeners\",attrs:{\"name\":\"listeners\"}},[_c('div',{staticClass:\"panel-tab__title\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('i',{staticClass:\"el-icon-message-solid\"}),_vm._v(\"执行监听器\")]),_c('element-listeners',{attrs:{\"id\":_vm.elementId,\"type\":_vm.elementType}})],1),(_vm.elementType === 'UserTask')?_c('el-collapse-item',{key:\"taskListeners\",attrs:{\"name\":\"taskListeners\"}},[_c('div',{staticClass:\"panel-tab__title\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('i',{staticClass:\"el-icon-message-solid\"}),_vm._v(\"任务监听器\")]),_c('user-task-listeners',{attrs:{\"id\":_vm.elementId,\"type\":_vm.elementType}})],1):_vm._e(),_c('el-collapse-item',{key:\"extensions\",attrs:{\"name\":\"extensions\"}},[_c('div',{staticClass:\"panel-tab__title\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('i',{staticClass:\"el-icon-circle-plus\"}),_vm._v(\"扩展属性\")]),_c('element-properties',{attrs:{\"id\":_vm.elementId,\"type\":_vm.elementType}})],1),_c('el-collapse-item',{key:\"other\",attrs:{\"name\":\"other\"}},[_c('div',{staticClass:\"panel-tab__title\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('i',{staticClass:\"el-icon-s-promotion\"}),_vm._v(\"其他\")]),_c('element-other-config',{attrs:{\"id\":_vm.elementId}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"panel-tab__content\"},[_c('el-form',{attrs:{\"size\":\"mini\",\"label-width\":\"90px\"},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('el-form-item',{attrs:{\"label\":\"ID\"}},[_c('el-input',{attrs:{\"disabled\":_vm.idEditDisabled || _vm.elementBaseInfo.$type === 'bpmn:Process',\"clearable\":\"\"},on:{\"change\":function($event){return _vm.updateBaseInfo('id')}},model:{value:(_vm.elementBaseInfo.id),callback:function ($$v) {_vm.$set(_vm.elementBaseInfo, \"id\", $$v)},expression:\"elementBaseInfo.id\"}})],1),_c('el-form-item',{attrs:{\"label\":\"名称\"}},[_c('el-input',{attrs:{\"clearable\":\"\"},on:{\"change\":function($event){return _vm.updateBaseInfo('name')}},model:{value:(_vm.elementBaseInfo.name),callback:function ($$v) {_vm.$set(_vm.elementBaseInfo, \"name\", $$v)},expression:\"elementBaseInfo.name\"}})],1),(_vm.elementBaseInfo.$type === 'bpmn:Process')?[_c('el-form-item',{attrs:{\"label\":\"版本标签\"}},[_c('el-input',{attrs:{\"clearable\":\"\"},on:{\"change\":function($event){return _vm.updateBaseInfo('versionTag')}},model:{value:(_vm.elementBaseInfo.versionTag),callback:function ($$v) {_vm.$set(_vm.elementBaseInfo, \"versionTag\", $$v)},expression:\"elementBaseInfo.versionTag\"}})],1),_c('el-form-item',{attrs:{\"label\":\"可执行\"}},[_c('el-switch',{attrs:{\"active-text\":\"是\",\"inactive-text\":\"否\"},on:{\"change\":function($event){return _vm.updateBaseInfo('isExecutable')}},model:{value:(_vm.elementBaseInfo.isExecutable),callback:function ($$v) {_vm.$set(_vm.elementBaseInfo, \"isExecutable\", $$v)},expression:\"elementBaseInfo.isExecutable\"}})],1)]:_vm._e()],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"panel-tab__content\">\n    <el-form size=\"mini\" label-width=\"90px\" @submit.native.prevent>\n      <el-form-item label=\"ID\">\n        <el-input\n          v-model=\"elementBaseInfo.id\"\n          :disabled=\"idEditDisabled || elementBaseInfo.$type === 'bpmn:Process'\"\n          clearable\n          @change=\"updateBaseInfo('id')\"\n        />\n      </el-form-item>\n      <el-form-item label=\"名称\">\n        <el-input v-model=\"elementBaseInfo.name\" clearable @change=\"updateBaseInfo('name')\" />\n      </el-form-item>\n      <!--流程的基础属性-->\n      <template v-if=\"elementBaseInfo.$type === 'bpmn:Process'\">\n        <el-form-item label=\"版本标签\">\n          <el-input v-model=\"elementBaseInfo.versionTag\" clearable @change=\"updateBaseInfo('versionTag')\" />\n        </el-form-item>\n        <el-form-item label=\"可执行\">\n          <el-switch v-model=\"elementBaseInfo.isExecutable\" active-text=\"是\" inactive-text=\"否\" @change=\"updateBaseInfo('isExecutable')\" />\n        </el-form-item>\n      </template>\n    </el-form>\n  </div>\n</template>\n<script>\nexport default {\n  name: \"ElementBaseInfo\",\n  props: {\n    businessObject: Object,\n    type: String,\n    idEditDisabled: {\n      type: Boolean,\n      default: true\n    }\n  },\n  data() {\n    return {\n      elementBaseInfo: {}\n    };\n  },\n  watch: {\n    businessObject: {\n      immediate: false,\n      handler: function(val) {\n        if (val) {\n          this.$nextTick(() => this.resetBaseInfo());\n        }\n      }\n    }\n  },\n  methods: {\n    resetBaseInfo() {\n      this.bpmnElement = window?.bpmnInstances?.bpmnElement;\n      this.elementBaseInfo = JSON.parse(JSON.stringify(this.bpmnElement.businessObject));\n    },\n    updateBaseInfo(key) {\n      const attrObj = Object.create(null);\n      attrObj[key] = this.elementBaseInfo[key];\n      if (key === \"id\") {\n        window.bpmnInstances.modeling.updateProperties(this.bpmnElement, {\n          id: this.elementBaseInfo[key],\n          di: { id: `${this.elementBaseInfo[key]}_di` }\n        });\n      } else {\n        window.bpmnInstances.modeling.updateProperties(this.bpmnElement, attrObj);\n      }\n    }\n  },\n  beforeDestroy() {\n    this.bpmnElement = null;\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementBaseInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementBaseInfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ElementBaseInfo.vue?vue&type=template&id=33d33a52&\"\nimport script from \"./ElementBaseInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./ElementBaseInfo.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"panel-tab__content\"},[_c('div',{staticClass:\"element-property input-property\"},[_c('div',{staticClass:\"element-property__label\"},[_vm._v(\"元素文档：\")]),_c('div',{staticClass:\"element-property__value\"},[_c('el-input',{attrs:{\"type\":\"textarea\",\"size\":\"mini\",\"resize\":\"vertical\",\"autosize\":{ minRows: 2, maxRows: 4 }},on:{\"input\":_vm.updateDocumentation,\"blur\":_vm.updateDocumentation},model:{value:(_vm.documentation),callback:function ($$v) {_vm.documentation=$$v},expression:\"documentation\"}})],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"panel-tab__content\">\n    <div class=\"element-property input-property\">\n      <div class=\"element-property__label\">元素文档：</div>\n      <div class=\"element-property__value\">\n        <el-input\n          type=\"textarea\"\n          v-model=\"documentation\"\n          size=\"mini\"\n          resize=\"vertical\"\n          :autosize=\"{ minRows: 2, maxRows: 4 }\"\n          @input=\"updateDocumentation\"\n          @blur=\"updateDocumentation\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"ElementOtherConfig\",\n  props: {\n    id: String\n  },\n  data() {\n    return {\n      documentation: \"\"\n    };\n  },\n  watch: {\n    id: {\n      immediate: true,\n      handler: function(id) {\n        if (id && id.length) {\n          this.$nextTick(() => {\n            const documentations = window.bpmnInstances.bpmnElement.businessObject?.documentation;\n            this.documentation = documentations && documentations.length ? documentations[0].text : \"\";\n          });\n        } else {\n          this.documentation = \"\";\n        }\n      }\n    }\n  },\n  methods: {\n    updateDocumentation() {\n      (this.bpmnElement && this.bpmnElement.id === this.id) || (this.bpmnElement = window.bpmnInstances.elementRegistry.get(this.id));\n      const documentation = window.bpmnInstances.bpmnFactory.create(\"bpmn:Documentation\", { text: this.documentation });\n      window.bpmnInstances.modeling.updateProperties(this.bpmnElement, {\n        documentation: [documentation]\n      });\n    }\n  },\n  beforeDestroy() {\n    this.bpmnElement = null;\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementOtherConfig.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementOtherConfig.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ElementOtherConfig.vue?vue&type=template&id=4c5594ec&\"\nimport script from \"./ElementOtherConfig.vue?vue&type=script&lang=js&\"\nexport * from \"./ElementOtherConfig.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"panel-tab__content\"},[_c('el-form',{attrs:{\"size\":\"mini\",\"label-width\":\"90px\"},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('el-form-item',{attrs:{\"label\":\"异步延续\"}},[_c('el-checkbox',{attrs:{\"label\":\"异步前\"},on:{\"change\":_vm.changeTaskAsync},model:{value:(_vm.taskConfigForm.asyncBefore),callback:function ($$v) {_vm.$set(_vm.taskConfigForm, \"asyncBefore\", $$v)},expression:\"taskConfigForm.asyncBefore\"}}),_c('el-checkbox',{attrs:{\"label\":\"异步后\"},on:{\"change\":_vm.changeTaskAsync},model:{value:(_vm.taskConfigForm.asyncAfter),callback:function ($$v) {_vm.$set(_vm.taskConfigForm, \"asyncAfter\", $$v)},expression:\"taskConfigForm.asyncAfter\"}}),(_vm.taskConfigForm.asyncAfter || _vm.taskConfigForm.asyncBefore)?_c('el-checkbox',{attrs:{\"label\":\"排除\"},on:{\"change\":_vm.changeTaskAsync},model:{value:(_vm.taskConfigForm.exclusive),callback:function ($$v) {_vm.$set(_vm.taskConfigForm, \"exclusive\", $$v)},expression:\"taskConfigForm.exclusive\"}}):_vm._e()],1),_c(_vm.witchTaskComponent,_vm._b({tag:\"component\"},'component',_vm.$props,false))],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"margin-top\":\"16px\"}},[_c('el-form-item',{attrs:{\"label\":\"处理用户\"}},[_c('el-select',{on:{\"change\":function($event){return _vm.updateElementTask('assignee')}},model:{value:(_vm.userTaskForm.assignee),callback:function ($$v) {_vm.$set(_vm.userTaskForm, \"assignee\", $$v)},expression:\"userTaskForm.assignee\"}},_vm._l((_vm.mockData),function(ak){return _c('el-option',{key:'ass-' + ak,attrs:{\"label\":(\"用户\" + ak),\"value\":'${' + \"user\" + ak + '}'}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"候选用户\"}},[_c('el-select',{attrs:{\"multiple\":\"\",\"collapse-tags\":\"\"},on:{\"change\":function($event){return _vm.updateElementTask('candidateUsers')}},model:{value:(_vm.userTaskForm.candidateUsers),callback:function ($$v) {_vm.$set(_vm.userTaskForm, \"candidateUsers\", $$v)},expression:\"userTaskForm.candidateUsers\"}},_vm._l((_vm.mockData),function(uk){return _c('el-option',{key:'user-' + uk,attrs:{\"label\":(\"用户\" + uk),\"value\":(\"user\" + uk)}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"候选分组\"}},[_c('el-select',{attrs:{\"multiple\":\"\",\"collapse-tags\":\"\"},on:{\"change\":function($event){return _vm.updateElementTask('candidateGroups')}},model:{value:(_vm.userTaskForm.candidateGroups),callback:function ($$v) {_vm.$set(_vm.userTaskForm, \"candidateGroups\", $$v)},expression:\"userTaskForm.candidateGroups\"}},_vm._l((_vm.mockData),function(gk){return _c('el-option',{key:'ass-' + gk,attrs:{\"label\":(\"分组\" + gk),\"value\":(\"group\" + gk)}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"到期时间\"}},[_c('el-input',{attrs:{\"clearable\":\"\"},on:{\"change\":function($event){return _vm.updateElementTask('dueDate')}},model:{value:(_vm.userTaskForm.dueDate),callback:function ($$v) {_vm.$set(_vm.userTaskForm, \"dueDate\", $$v)},expression:\"userTaskForm.dueDate\"}})],1),_c('el-form-item',{attrs:{\"label\":\"跟踪时间\"}},[_c('el-input',{attrs:{\"clearable\":\"\"},on:{\"change\":function($event){return _vm.updateElementTask('followUpDate')}},model:{value:(_vm.userTaskForm.followUpDate),callback:function ($$v) {_vm.$set(_vm.userTaskForm, \"followUpDate\", $$v)},expression:\"userTaskForm.followUpDate\"}})],1),_c('el-form-item',{attrs:{\"label\":\"优先级\"}},[_c('el-input',{attrs:{\"clearable\":\"\"},on:{\"change\":function($event){return _vm.updateElementTask('priority')}},model:{value:(_vm.userTaskForm.priority),callback:function ($$v) {_vm.$set(_vm.userTaskForm, \"priority\", $$v)},expression:\"userTaskForm.priority\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div style=\"margin-top: 16px\">\n    <el-form-item label=\"处理用户\">\n      <el-select v-model=\"userTaskForm.assignee\" @change=\"updateElementTask('assignee')\">\n        <el-option v-for=\"ak in mockData\" :key=\"'ass-' + ak\" :label=\"`用户${ak}`\" :value=\"'${' + `user${ak}` + '}'\" />\n      </el-select>\n    </el-form-item>\n    <el-form-item label=\"候选用户\">\n      <el-select v-model=\"userTaskForm.candidateUsers\" multiple collapse-tags @change=\"updateElementTask('candidateUsers')\">\n        <el-option v-for=\"uk in mockData\" :key=\"'user-' + uk\" :label=\"`用户${uk}`\" :value=\"`user${uk}`\" />\n      </el-select>\n    </el-form-item>\n    <el-form-item label=\"候选分组\">\n      <el-select v-model=\"userTaskForm.candidateGroups\" multiple collapse-tags @change=\"updateElementTask('candidateGroups')\">\n        <el-option v-for=\"gk in mockData\" :key=\"'ass-' + gk\" :label=\"`分组${gk}`\" :value=\"`group${gk}`\" />\n      </el-select>\n    </el-form-item>\n    <el-form-item label=\"到期时间\">\n      <el-input v-model=\"userTaskForm.dueDate\" clearable @change=\"updateElementTask('dueDate')\" />\n    </el-form-item>\n    <el-form-item label=\"跟踪时间\">\n      <el-input v-model=\"userTaskForm.followUpDate\" clearable @change=\"updateElementTask('followUpDate')\" />\n    </el-form-item>\n    <el-form-item label=\"优先级\">\n      <el-input v-model=\"userTaskForm.priority\" clearable @change=\"updateElementTask('priority')\" />\n    </el-form-item>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"UserTask\",\n  props: {\n    id: String,\n    type: String\n  },\n  data() {\n    return {\n      defaultTaskForm: {\n        assignee: \"\",\n        candidateUsers: [],\n        candidateGroups: [],\n        dueDate: \"\",\n        followUpDate: \"\",\n        priority: \"\"\n      },\n      userTaskForm: {},\n      mockData: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\n    };\n  },\n  watch: {\n    id: {\n      immediate: true,\n      handler() {\n        this.bpmnElement = window.bpmnInstances.bpmnElement;\n        this.$nextTick(() => this.resetTaskForm());\n      }\n    }\n  },\n  methods: {\n    resetTaskForm() {\n      for (let key in this.defaultTaskForm) {\n        let value;\n        if (key === \"candidateUsers\" || key === \"candidateGroups\") {\n          value = this.bpmnElement?.businessObject[key] ? this.bpmnElement.businessObject[key].split(\",\") : [];\n        } else {\n          value = this.bpmnElement?.businessObject[key] || this.defaultTaskForm[key];\n        }\n        this.$set(this.userTaskForm, key, value);\n      }\n    },\n    updateElementTask(key) {\n      const taskAttr = Object.create(null);\n      if (key === \"candidateUsers\" || key === \"candidateGroups\") {\n        taskAttr[key] = this.userTaskForm[key] && this.userTaskForm[key].length ? this.userTaskForm[key].join() : null;\n      } else {\n        taskAttr[key] = this.userTaskForm[key] || null;\n      }\n      window.bpmnInstances.modeling.updateProperties(this.bpmnElement, taskAttr);\n    }\n  },\n  beforeDestroy() {\n    this.bpmnElement = null;\n  }\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserTask.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserTask.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserTask.vue?vue&type=template&id=5feb6283&\"\nimport script from \"./UserTask.vue?vue&type=script&lang=js&\"\nexport * from \"./UserTask.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"margin-top\":\"16px\"}},[_c('el-form-item',{attrs:{\"label\":\"脚本格式\"}},[_c('el-input',{attrs:{\"clearable\":\"\"},on:{\"input\":function($event){return _vm.updateElementTask()},\"change\":function($event){return _vm.updateElementTask()}},model:{value:(_vm.scriptTaskForm.scriptFormat),callback:function ($$v) {_vm.$set(_vm.scriptTaskForm, \"scriptFormat\", $$v)},expression:\"scriptTaskForm.scriptFormat\"}})],1),_c('el-form-item',{attrs:{\"label\":\"脚本类型\"}},[_c('el-select',{model:{value:(_vm.scriptTaskForm.scriptType),callback:function ($$v) {_vm.$set(_vm.scriptTaskForm, \"scriptType\", $$v)},expression:\"scriptTaskForm.scriptType\"}},[_c('el-option',{attrs:{\"label\":\"内联脚本\",\"value\":\"inline\"}}),_c('el-option',{attrs:{\"label\":\"外部资源\",\"value\":\"external\"}})],1)],1),_c('el-form-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.scriptTaskForm.scriptType === 'inline'),expression:\"scriptTaskForm.scriptType === 'inline'\"}],attrs:{\"label\":\"脚本\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"resize\":\"vertical\",\"autosize\":{ minRows: 2, maxRows: 4 },\"clearable\":\"\"},on:{\"input\":function($event){return _vm.updateElementTask()},\"change\":function($event){return _vm.updateElementTask()}},model:{value:(_vm.scriptTaskForm.script),callback:function ($$v) {_vm.$set(_vm.scriptTaskForm, \"script\", $$v)},expression:\"scriptTaskForm.script\"}})],1),_c('el-form-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.scriptTaskForm.scriptType === 'external'),expression:\"scriptTaskForm.scriptType === 'external'\"}],attrs:{\"label\":\"资源地址\"}},[_c('el-input',{attrs:{\"clearable\":\"\"},on:{\"input\":function($event){return _vm.updateElementTask()},\"change\":function($event){return _vm.updateElementTask()}},model:{value:(_vm.scriptTaskForm.resource),callback:function ($$v) {_vm.$set(_vm.scriptTaskForm, \"resource\", $$v)},expression:\"scriptTaskForm.resource\"}})],1),_c('el-form-item',{attrs:{\"label\":\"结果变量\"}},[_c('el-input',{attrs:{\"clearable\":\"\"},on:{\"input\":function($event){return _vm.updateElementTask()},\"change\":function($event){return _vm.updateElementTask()}},model:{value:(_vm.scriptTaskForm.resultVariable),callback:function ($$v) {_vm.$set(_vm.scriptTaskForm, \"resultVariable\", $$v)},expression:\"scriptTaskForm.resultVariable\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div style=\"margin-top: 16px\">\n    <el-form-item label=\"脚本格式\">\n      <el-input v-model=\"scriptTaskForm.scriptFormat\" clearable @input=\"updateElementTask()\" @change=\"updateElementTask()\" />\n    </el-form-item>\n    <el-form-item label=\"脚本类型\">\n      <el-select v-model=\"scriptTaskForm.scriptType\">\n        <el-option label=\"内联脚本\" value=\"inline\" />\n        <el-option label=\"外部资源\" value=\"external\" />\n      </el-select>\n    </el-form-item>\n    <el-form-item label=\"脚本\" v-show=\"scriptTaskForm.scriptType === 'inline'\">\n      <el-input\n        v-model=\"scriptTaskForm.script\"\n        type=\"textarea\"\n        resize=\"vertical\"\n        :autosize=\"{ minRows: 2, maxRows: 4 }\"\n        clearable\n        @input=\"updateElementTask()\"\n        @change=\"updateElementTask()\"\n      />\n    </el-form-item>\n    <el-form-item label=\"资源地址\" v-show=\"scriptTaskForm.scriptType === 'external'\">\n      <el-input v-model=\"scriptTaskForm.resource\" clearable @input=\"updateElementTask()\" @change=\"updateElementTask()\" />\n    </el-form-item>\n    <el-form-item label=\"结果变量\">\n      <el-input v-model=\"scriptTaskForm.resultVariable\" clearable @input=\"updateElementTask()\" @change=\"updateElementTask()\" />\n    </el-form-item>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"ScriptTask\",\n  props: {\n    id: String,\n    type: String\n  },\n  data() {\n    return {\n      defaultTaskForm: {\n        scriptFormat: \"\",\n        script: \"\",\n        resource: \"\",\n        resultVariable: \"\"\n      },\n      scriptTaskForm: {}\n    };\n  },\n  watch: {\n    id: {\n      immediate: true,\n      handler() {\n        this.bpmnElement = window.bpmnInstances.bpmnElement;\n        this.$nextTick(() => this.resetTaskForm());\n      }\n    }\n  },\n  methods: {\n    resetTaskForm() {\n      for (let key in this.defaultTaskForm) {\n        let value = this.bpmnElement?.businessObject[key] || this.defaultTaskForm[key];\n        this.$set(this.scriptTaskForm, key, value);\n      }\n      this.$set(this.scriptTaskForm, \"scriptType\", this.scriptTaskForm.script ? \"inline\" : \"external\");\n    },\n    updateElementTask() {\n      let taskAttr = Object.create(null);\n      taskAttr.scriptFormat = this.scriptTaskForm.scriptFormat || null;\n      taskAttr.resultVariable = this.scriptTaskForm.resultVariable || null;\n      if (this.scriptTaskForm.scriptType === \"inline\") {\n        taskAttr.script = this.scriptTaskForm.script || null;\n        taskAttr.resource = null;\n      } else {\n        taskAttr.resource = this.scriptTaskForm.resource || null;\n        taskAttr.script = null;\n      }\n      window.bpmnInstances.modeling.updateProperties(this.bpmnElement, taskAttr);\n    }\n  },\n  beforeDestroy() {\n    this.bpmnElement = null;\n  }\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScriptTask.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScriptTask.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ScriptTask.vue?vue&type=template&id=0dbe7118&\"\nimport script from \"./ScriptTask.vue?vue&type=script&lang=js&\"\nexport * from \"./ScriptTask.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"margin-top\":\"16px\"}},[_c('el-form-item',{attrs:{\"label\":\"消息实例\"}},[_c('div',{staticStyle:{\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"space-between\",\"flex-wrap\":\"nowrap\"}},[_c('el-select',{on:{\"change\":_vm.updateTaskMessage},model:{value:(_vm.bindMessageId),callback:function ($$v) {_vm.bindMessageId=$$v},expression:\"bindMessageId\"}},_vm._l((Object.keys(_vm.messageMap)),function(id){return _c('el-option',{key:id,attrs:{\"value\":id,\"label\":_vm.messageMap[id]}})}),1),_c('el-button',{staticStyle:{\"margin-left\":\"8px\"},attrs:{\"size\":\"mini\",\"type\":\"primary\",\"icon\":\"el-icon-plus\"},on:{\"click\":_vm.openMessageModel}})],1)]),_c('el-dialog',{attrs:{\"visible\":_vm.messageModelVisible,\"close-on-click-modal\":false,\"title\":\"创建新消息\",\"width\":\"400px\",\"append-to-body\":\"\",\"destroy-on-close\":\"\"},on:{\"update:visible\":function($event){_vm.messageModelVisible=$event}}},[_c('el-form',{attrs:{\"model\":_vm.newMessageForm,\"size\":\"mini\",\"label-width\":\"90px\"},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('el-form-item',{attrs:{\"label\":\"消息ID\"}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.newMessageForm.id),callback:function ($$v) {_vm.$set(_vm.newMessageForm, \"id\", $$v)},expression:\"newMessageForm.id\"}})],1),_c('el-form-item',{attrs:{\"label\":\"消息名称\"}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.newMessageForm.name),callback:function ($$v) {_vm.$set(_vm.newMessageForm, \"name\", $$v)},expression:\"newMessageForm.name\"}})],1)],1),_c('template',{slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":_vm.createNewMessage}},[_vm._v(\"确 认\")])],1)],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div style=\"margin-top: 16px\">\n    <el-form-item label=\"消息实例\">\n      <div style=\"display: flex; align-items: center; justify-content: space-between; flex-wrap: nowrap\">\n        <el-select v-model=\"bindMessageId\" @change=\"updateTaskMessage\">\n          <el-option v-for=\"id in Object.keys(messageMap)\" :value=\"id\" :label=\"messageMap[id]\" :key=\"id\" />\n        </el-select>\n        <el-button size=\"mini\" type=\"primary\" icon=\"el-icon-plus\" style=\"margin-left: 8px\" @click=\"openMessageModel\" />\n      </div>\n    </el-form-item>\n    <el-dialog :visible.sync=\"messageModelVisible\" :close-on-click-modal=\"false\" title=\"创建新消息\" width=\"400px\" append-to-body destroy-on-close>\n      <el-form :model=\"newMessageForm\" size=\"mini\" label-width=\"90px\" @submit.native.prevent>\n        <el-form-item label=\"消息ID\">\n          <el-input v-model=\"newMessageForm.id\" clearable />\n        </el-form-item>\n        <el-form-item label=\"消息名称\">\n          <el-input v-model=\"newMessageForm.name\" clearable />\n        </el-form-item>\n      </el-form>\n      <template slot=\"footer\">\n        <el-button size=\"mini\" type=\"primary\" @click=\"createNewMessage\">确 认</el-button>\n      </template>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"ReceiveTask\",\n  props: {\n    id: String,\n    type: String\n  },\n  data() {\n    return {\n      bindMessageId: \"\",\n      newMessageForm: {},\n      messageMap: {},\n      messageModelVisible: false\n    };\n  },\n  watch: {\n    id: {\n      immediate: true,\n      handler() {\n        this.$nextTick(() => this.getBindMessage());\n      }\n    }\n  },\n  created() {\n    this.bpmnMessageRefsMap = Object.create(null);\n    this.bpmnRootElements = window.bpmnInstances.modeler.getDefinitions().rootElements;\n    this.bpmnRootElements\n      .filter(el => el.$type === \"bpmn:Message\")\n      .forEach(m => {\n        this.bpmnMessageRefsMap[m.id] = m;\n        this.$set(this.messageMap, m.id, m.name);\n      });\n    this.$set(this.messageMap, \"-1\", \"无\"); // 添加一个空对象，保证可以取消原消息绑定\n  },\n  methods: {\n    getBindMessage() {\n      this.bpmnElement = window.bpmnInstances.bpmnElement;\n      this.bindMessageId = this.bpmnElement.businessObject?.messageRef?.id || \"-1\";\n    },\n    openMessageModel() {\n      this.messageModelVisible = true;\n      this.newMessageForm = {};\n    },\n    createNewMessage() {\n      if (this.messageMap[this.newMessageForm.id]) {\n        this.$message.error(\"该消息已存在，请修改id后重新保存\");\n        return;\n      }\n      const newMessage = window.bpmnInstances.moddle.create(\"bpmn:Message\", this.newMessageForm);\n      this.bpmnRootElements.push(newMessage);\n      this.$set(this.messageMap, this.newMessageForm.id, this.newMessageForm.name);\n      this.bpmnMessageRefsMap[this.newMessageForm.id] = newMessage;\n      this.messageModelVisible = false;\n    },\n    updateTaskMessage(messageId) {\n      if (messageId === \"-1\") {\n        window.bpmnInstances.modeling.updateProperties(this.bpmnElement, {\n          messageRef: null\n        });\n      } else {\n        window.bpmnInstances.modeling.updateProperties(this.bpmnElement, {\n          messageRef: this.bpmnMessageRefsMap[messageId]\n        });\n      }\n    }\n  },\n  beforeDestroy() {\n    this.bpmnElement = null;\n  }\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReceiveTask.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReceiveTask.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ReceiveTask.vue?vue&type=template&id=fe2c352e&\"\nimport script from \"./ReceiveTask.vue?vue&type=script&lang=js&\"\nexport * from \"./ReceiveTask.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"panel-tab__content\">\n    <el-form size=\"mini\" label-width=\"90px\" @submit.native.prevent>\n      <el-form-item label=\"异步延续\">\n        <el-checkbox v-model=\"taskConfigForm.asyncBefore\" label=\"异步前\" @change=\"changeTaskAsync\" />\n        <el-checkbox v-model=\"taskConfigForm.asyncAfter\" label=\"异步后\" @change=\"changeTaskAsync\" />\n        <el-checkbox v-model=\"taskConfigForm.exclusive\" v-if=\"taskConfigForm.asyncAfter || taskConfigForm.asyncBefore\" label=\"排除\" @change=\"changeTaskAsync\" />\n      </el-form-item>\n      <component :is=\"witchTaskComponent\" v-bind=\"$props\" />\n    </el-form>\n  </div>\n</template>\n\n<script>\nimport UserTask from \"./task-components/UserTask\";\nimport ScriptTask from \"./task-components/ScriptTask\";\nimport ReceiveTask from \"./task-components/ReceiveTask\";\n\nexport default {\n  name: \"ElementTaskConfig\",\n  components: { UserTask, ScriptTask, ReceiveTask },\n  props: {\n    id: String,\n    type: String\n  },\n  data() {\n    return {\n      taskConfigForm: {\n        asyncAfter: false,\n        asyncBefore: false,\n        exclusive: false\n      },\n      witchTaskComponent: \"\",\n      installedComponent: {\n        // 手工任务与普通任务一致，不需要其他配置\n        // 接收消息任务，需要在全局下插入新的消息实例，并在该节点下的 messageRef 属性绑定该实例\n        // 发送任务、服务任务、业务规则任务共用一个相同配置\n        UserTask: \"UserTask\", // 用户任务配置\n        ScriptTask: \"ScriptTask\", // 脚本任务配置\n        ReceiveTask: \"ReceiveTask\" // 消息接收任务\n      }\n    };\n  },\n  watch: {\n    id: {\n      immediate: true,\n      handler() {\n        this.bpmnElement = window.bpmnInstances.bpmnElement;\n        this.taskConfigForm.asyncBefore = this.bpmnElement?.businessObject?.asyncBefore;\n        this.taskConfigForm.asyncAfter = this.bpmnElement?.businessObject?.asyncAfter;\n        this.taskConfigForm.exclusive = this.bpmnElement?.businessObject?.exclusive;\n      }\n    },\n    type: {\n      immediate: true,\n      handler() {\n        this.witchTaskComponent = this.installedComponent[this.type];\n      }\n    }\n  },\n  methods: {\n    changeTaskAsync() {\n      if (!this.taskConfigForm.asyncBefore && !this.taskConfigForm.asyncAfter) {\n        this.taskConfigForm.exclusive = true;\n      }\n      window.bpmnInstances.modeling.updateProperties(window.bpmnInstances.bpmnElement, {\n        ...this.taskConfigForm\n      });\n    }\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementTask.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementTask.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ElementTask.vue?vue&type=template&id=77061b4b&\"\nimport script from \"./ElementTask.vue?vue&type=script&lang=js&\"\nexport * from \"./ElementTask.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"panel-tab__content\"},[_c('el-form',{attrs:{\"size\":\"mini\",\"label-width\":\"90px\"},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('el-form-item',{attrs:{\"label\":\"类型\"}},[_c('el-select',{model:{value:(_vm.serviceType),callback:function ($$v) {_vm.serviceType=$$v},expression:\"serviceType\"}},_vm._l((Object.keys(_vm.typeObject)),function(i){return _c('el-option',{key:i,attrs:{\"label\":_vm.typeObject[i],\"value\":i}})}),1)],1),(_vm.serviceType === 'class')?_c('el-form-item',{attrs:{\"label\":\"Java类\"}},[_c('el-input',{attrs:{\"clearable\":\"\"},on:{\"change\":function($event){return _vm.updateInfo('class')}},model:{value:(_vm.serviceValue),callback:function ($$v) {_vm.serviceValue=$$v},expression:\"serviceValue\"}})],1):_vm._e(),(_vm.serviceType === 'expression')?_c('el-form-item',{attrs:{\"label\":\"表达式\"}},[_c('el-input',{attrs:{\"clearable\":\"\"},on:{\"change\":function($event){return _vm.updateInfo('expression')}},model:{value:(_vm.serviceValue),callback:function ($$v) {_vm.serviceValue=$$v},expression:\"serviceValue\"}})],1):_vm._e(),(_vm.serviceType === 'delegateExpression')?_c('el-form-item',{attrs:{\"label\":\"代理表达式\"}},[_c('el-input',{attrs:{\"clearable\":\"\"},on:{\"change\":function($event){return _vm.updateInfo('delegateExpression')}},model:{value:(_vm.serviceValue),callback:function ($$v) {_vm.serviceValue=$$v},expression:\"serviceValue\"}})],1):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"panel-tab__content\">\n    <el-form size=\"mini\" label-width=\"90px\" @submit.native.prevent>\n      <el-form-item label=\"类型\">\n        <el-select v-model=\"serviceType\">\n          <el-option v-for=\"i in Object.keys(typeObject)\" :key=\"i\" :label=\"typeObject[i]\" :value=\"i\" />\n        </el-select>\n      </el-form-item>\n      <el-form-item v-if=\"serviceType === 'class'\" label=\"Java类\">\n        <el-input v-model=\"serviceValue\" clearable @change=\"updateInfo('class')\" />\n      </el-form-item>\n      <el-form-item v-if=\"serviceType === 'expression'\" label=\"表达式\">\n        <el-input v-model=\"serviceValue\" clearable @change=\"updateInfo('expression')\" />\n      </el-form-item>\n      <el-form-item v-if=\"serviceType === 'delegateExpression'\" label=\"代理表达式\">\n        <el-input v-model=\"serviceValue\" clearable @change=\"updateInfo('delegateExpression')\" />\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n<script>\nexport default {\n  name: \"ServiceTask\",\n  props: {\n    id: String,\n    type: String\n  },\n  inject: {\n    prefix: \"prefix\",\n    width: \"width\"\n  },\n  data() {\n    return {\n      typeObject: {\n        class: \"Java 类\",\n        expression: \"表达式\",\n        delegateExpression: \"代理表达式\"\n      },\n      serviceType: \"\",\n      serviceValue: \"\"\n    };\n  },\n  watch: {\n    id: {\n      immediate: true,\n      handler(val) {\n        this.$nextTick(() => this.resetBaseInfo());\n      }\n    }\n  },\n  methods: {\n    resetBaseInfo() {\n      this.bpmnElement = window?.bpmnInstances?.bpmnElement;\n      var val = \"\";\n      if ((val = this.bpmnElement.businessObject.class)) {\n        this.serviceType = \"class\";\n      } else if ((val = this.bpmnElement.businessObject.expression)) {\n        this.serviceType = \"expression\";\n      } else if ((val = this.bpmnElement.businessObject.delegateExpression)) {\n        this.serviceType = \"delegateExpression\";\n      }\n      this.serviceValue = val;\n    },\n    updateInfo(key) {\n      const attrObj = Object.create(null);\n      attrObj.class = undefined;\n      attrObj.expression = undefined;\n      attrObj.delegateExpression = undefined;\n      if (key === \"class\") {\n        attrObj.class = this.serviceValue;\n      } else if (key === \"expression\") {\n        attrObj.expression = this.serviceValue;\n      } else {\n        attrObj.delegateExpression = this.serviceValue;\n      }\n      window.bpmnInstances.modeling.updateProperties(this.bpmnElement, attrObj);\n    }\n  },\n  beforeDestroy() {\n    this.bpmnElement = null;\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ServiceTask.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ServiceTask.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ServiceTask.vue?vue&type=template&id=768c63a3&\"\nimport script from \"./ServiceTask.vue?vue&type=script&lang=js&\"\nexport * from \"./ServiceTask.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"panel-tab__content\"},[_c('el-form',{attrs:{\"size\":\"mini\",\"label-width\":\"90px\"},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('el-form-item',{attrs:{\"label\":\"回路特性\"}},[_c('el-select',{on:{\"change\":_vm.changeLoopCharacteristicsType},model:{value:(_vm.loopCharacteristics),callback:function ($$v) {_vm.loopCharacteristics=$$v},expression:\"loopCharacteristics\"}},[_c('el-option',{attrs:{\"label\":\"并行多重事件\",\"value\":\"ParallelMultiInstance\"}}),_c('el-option',{attrs:{\"label\":\"时序多重事件\",\"value\":\"SequentialMultiInstance\"}}),_c('el-option',{attrs:{\"label\":\"循环事件\",\"value\":\"StandardLoop\"}}),_c('el-option',{attrs:{\"label\":\"无\",\"value\":\"Null\"}})],1)],1),(_vm.loopCharacteristics === 'ParallelMultiInstance' || _vm.loopCharacteristics === 'SequentialMultiInstance')?[_c('el-form-item',{key:\"loopCardinality\",attrs:{\"label\":\"循环基数\"}},[_c('el-input',{attrs:{\"clearable\":\"\"},on:{\"change\":_vm.updateLoopCardinality},model:{value:(_vm.loopInstanceForm.loopCardinality),callback:function ($$v) {_vm.$set(_vm.loopInstanceForm, \"loopCardinality\", $$v)},expression:\"loopInstanceForm.loopCardinality\"}})],1),_c('el-form-item',{key:\"collection\",attrs:{\"label\":\"集合\"}},[_c('el-input',{attrs:{\"clearable\":\"\"},on:{\"change\":_vm.updateLoopBase},model:{value:(_vm.loopInstanceForm.collection),callback:function ($$v) {_vm.$set(_vm.loopInstanceForm, \"collection\", $$v)},expression:\"loopInstanceForm.collection\"}})],1),_c('el-form-item',{key:\"elementVariable\",attrs:{\"label\":\"元素变量\"}},[_c('el-input',{attrs:{\"clearable\":\"\"},on:{\"change\":_vm.updateLoopBase},model:{value:(_vm.loopInstanceForm.elementVariable),callback:function ($$v) {_vm.$set(_vm.loopInstanceForm, \"elementVariable\", $$v)},expression:\"loopInstanceForm.elementVariable\"}})],1),_c('el-form-item',{key:\"completionCondition\",attrs:{\"label\":\"完成条件\"}},[_c('el-input',{attrs:{\"clearable\":\"\"},on:{\"change\":_vm.updateLoopCondition},model:{value:(_vm.loopInstanceForm.completionCondition),callback:function ($$v) {_vm.$set(_vm.loopInstanceForm, \"completionCondition\", $$v)},expression:\"loopInstanceForm.completionCondition\"}})],1),_c('el-form-item',{key:\"async\",attrs:{\"label\":\"异步状态\"}},[_c('el-checkbox',{attrs:{\"label\":\"异步前\"},on:{\"change\":function($event){return _vm.updateLoopAsync('asyncBefore')}},model:{value:(_vm.loopInstanceForm.asyncBefore),callback:function ($$v) {_vm.$set(_vm.loopInstanceForm, \"asyncBefore\", $$v)},expression:\"loopInstanceForm.asyncBefore\"}}),_c('el-checkbox',{attrs:{\"label\":\"异步后\"},on:{\"change\":function($event){return _vm.updateLoopAsync('asyncAfter')}},model:{value:(_vm.loopInstanceForm.asyncAfter),callback:function ($$v) {_vm.$set(_vm.loopInstanceForm, \"asyncAfter\", $$v)},expression:\"loopInstanceForm.asyncAfter\"}}),(_vm.loopInstanceForm.asyncAfter || _vm.loopInstanceForm.asyncBefore)?_c('el-checkbox',{attrs:{\"label\":\"排除\"},on:{\"change\":function($event){return _vm.updateLoopAsync('exclusive')}},model:{value:(_vm.loopInstanceForm.exclusive),callback:function ($$v) {_vm.$set(_vm.loopInstanceForm, \"exclusive\", $$v)},expression:\"loopInstanceForm.exclusive\"}}):_vm._e()],1),(_vm.loopInstanceForm.asyncAfter || _vm.loopInstanceForm.asyncBefore)?_c('el-form-item',{key:\"timeCycle\",attrs:{\"label\":\"重试周期\",\"prop\":\"timeCycle\"}},[_c('el-input',{attrs:{\"clearable\":\"\"},on:{\"change\":_vm.updateLoopTimeCycle},model:{value:(_vm.loopInstanceForm.timeCycle),callback:function ($$v) {_vm.$set(_vm.loopInstanceForm, \"timeCycle\", $$v)},expression:\"loopInstanceForm.timeCycle\"}})],1):_vm._e()]:_vm._e()],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"panel-tab__content\">\n    <el-form size=\"mini\" label-width=\"90px\" @submit.native.prevent>\n      <el-form-item label=\"回路特性\">\n        <el-select v-model=\"loopCharacteristics\" @change=\"changeLoopCharacteristicsType\">\n          <!--bpmn:MultiInstanceLoopCharacteristics-->\n          <el-option label=\"并行多重事件\" value=\"ParallelMultiInstance\" />\n          <el-option label=\"时序多重事件\" value=\"SequentialMultiInstance\" />\n          <!--bpmn:StandardLoopCharacteristics-->\n          <el-option label=\"循环事件\" value=\"StandardLoop\" />\n          <el-option label=\"无\" value=\"Null\" />\n        </el-select>\n      </el-form-item>\n      <template v-if=\"loopCharacteristics === 'ParallelMultiInstance' || loopCharacteristics === 'SequentialMultiInstance'\">\n        <el-form-item label=\"循环基数\" key=\"loopCardinality\">\n          <el-input v-model=\"loopInstanceForm.loopCardinality\" clearable @change=\"updateLoopCardinality\" />\n        </el-form-item>\n        <el-form-item label=\"集合\" key=\"collection\">\n          <el-input v-model=\"loopInstanceForm.collection\" clearable @change=\"updateLoopBase\" />\n        </el-form-item>\n        <el-form-item label=\"元素变量\" key=\"elementVariable\">\n          <el-input v-model=\"loopInstanceForm.elementVariable\" clearable @change=\"updateLoopBase\" />\n        </el-form-item>\n        <el-form-item label=\"完成条件\" key=\"completionCondition\">\n          <el-input v-model=\"loopInstanceForm.completionCondition\" clearable @change=\"updateLoopCondition\" />\n        </el-form-item>\n        <el-form-item label=\"异步状态\" key=\"async\">\n          <el-checkbox v-model=\"loopInstanceForm.asyncBefore\" label=\"异步前\" @change=\"updateLoopAsync('asyncBefore')\" />\n          <el-checkbox v-model=\"loopInstanceForm.asyncAfter\" label=\"异步后\" @change=\"updateLoopAsync('asyncAfter')\" />\n          <el-checkbox\n            v-model=\"loopInstanceForm.exclusive\"\n            v-if=\"loopInstanceForm.asyncAfter || loopInstanceForm.asyncBefore\"\n            label=\"排除\"\n            @change=\"updateLoopAsync('exclusive')\"\n          />\n        </el-form-item>\n        <el-form-item label=\"重试周期\" prop=\"timeCycle\" v-if=\"loopInstanceForm.asyncAfter || loopInstanceForm.asyncBefore\" key=\"timeCycle\">\n          <el-input v-model=\"loopInstanceForm.timeCycle\" clearable @change=\"updateLoopTimeCycle\" />\n        </el-form-item>\n      </template>\n    </el-form>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"ElementMultiInstance\",\n  props: {\n    businessObject: Object,\n    type: String\n  },\n  inject: {\n    prefix: \"prefix\"\n  },\n  data() {\n    return {\n      loopCharacteristics: \"\",\n      //默认配置，用来覆盖原始不存在的选项，避免报错\n      defaultLoopInstanceForm: {\n        completionCondition: \"\",\n        loopCardinality: \"\",\n        extensionElements: [],\n        asyncAfter: false,\n        asyncBefore: false,\n        exclusive: true\n      },\n      loopInstanceForm: {}\n    };\n  },\n  watch: {\n    businessObject: {\n      immediate: true,\n      handler(val) {\n        this.bpmnElement = window.bpmnInstances.bpmnElement;\n        this.getElementLoop(val);\n      }\n    }\n  },\n  methods: {\n    getElementLoop(businessObject) {\n      if (!businessObject.loopCharacteristics) {\n        this.loopCharacteristics = \"Null\";\n        this.loopInstanceForm = {};\n        return;\n      }\n      if (businessObject.loopCharacteristics.$type === \"bpmn:StandardLoopCharacteristics\") {\n        this.loopCharacteristics = \"StandardLoop\";\n        this.loopInstanceForm = {};\n        return;\n      }\n      if (businessObject.loopCharacteristics.isSequential) {\n        this.loopCharacteristics = \"SequentialMultiInstance\";\n      } else {\n        this.loopCharacteristics = \"ParallelMultiInstance\";\n      }\n      // 合并配置\n      this.loopInstanceForm = {\n        ...this.defaultLoopInstanceForm,\n        ...businessObject.loopCharacteristics,\n        completionCondition: businessObject.loopCharacteristics?.completionCondition?.body ?? \"\",\n        loopCardinality: businessObject.loopCharacteristics?.loopCardinality?.body ?? \"\"\n      };\n      // 保留当前元素 businessObject 上的 loopCharacteristics 实例\n      this.multiLoopInstance = window.bpmnInstances.bpmnElement.businessObject.loopCharacteristics;\n      // 更新表单\n      if (\n        businessObject.loopCharacteristics.extensionElements &&\n        businessObject.loopCharacteristics.extensionElements.values &&\n        businessObject.loopCharacteristics.extensionElements.values.length\n      ) {\n        this.$set(this.loopInstanceForm, \"timeCycle\", businessObject.loopCharacteristics.extensionElements.values[0].body);\n      }\n    },\n    changeLoopCharacteristicsType(type) {\n      // this.loopInstanceForm = { ...this.defaultLoopInstanceForm }; // 切换类型取消原表单配置\n      // 取消多实例配置\n      if (type === \"Null\") {\n        window.bpmnInstances.modeling.updateProperties(this.bpmnElement, { loopCharacteristics: null });\n        return;\n      }\n      // 配置循环\n      if (type === \"StandardLoop\") {\n        const loopCharacteristicsObject = window.bpmnInstances.moddle.create(\"bpmn:StandardLoopCharacteristics\");\n        window.bpmnInstances.modeling.updateProperties(this.bpmnElement, {\n          loopCharacteristics: loopCharacteristicsObject\n        });\n        this.multiLoopInstance = null;\n        return;\n      }\n      // 时序\n      if (type === \"SequentialMultiInstance\") {\n        this.multiLoopInstance = window.bpmnInstances.moddle.create(\"bpmn:MultiInstanceLoopCharacteristics\", { isSequential: true });\n      } else {\n        this.multiLoopInstance = window.bpmnInstances.moddle.create(\"bpmn:MultiInstanceLoopCharacteristics\");\n      }\n      window.bpmnInstances.modeling.updateProperties(this.bpmnElement, {\n        loopCharacteristics: this.multiLoopInstance\n      });\n    },\n    // 循环基数\n    updateLoopCardinality(cardinality) {\n      let loopCardinality = null;\n      if (cardinality && cardinality.length) {\n        loopCardinality = window.bpmnInstances.moddle.create(\"bpmn:FormalExpression\", { body: cardinality });\n      }\n      window.bpmnInstances.modeling.updateModdleProperties(this.bpmnElement, this.multiLoopInstance, { loopCardinality });\n    },\n    // 完成条件\n    updateLoopCondition(condition) {\n      let completionCondition = null;\n      if (condition && condition.length) {\n        completionCondition = window.bpmnInstances.moddle.create(\"bpmn:FormalExpression\", { body: condition });\n      }\n      window.bpmnInstances.modeling.updateModdleProperties(this.bpmnElement, this.multiLoopInstance, { completionCondition });\n    },\n    // 重试周期\n    updateLoopTimeCycle(timeCycle) {\n      const extensionElements = window.bpmnInstances.moddle.create(\"bpmn:ExtensionElements\", {\n        values: [\n          window.bpmnInstances.moddle.create(`${this.prefix}:FailedJobRetryTimeCycle`, {\n            body: timeCycle\n          })\n        ]\n      });\n      window.bpmnInstances.modeling.updateModdleProperties(this.bpmnElement, this.multiLoopInstance, { extensionElements });\n    },\n    // 直接更新的基础信息\n    updateLoopBase() {\n      window.bpmnInstances.modeling.updateModdleProperties(this.bpmnElement, this.multiLoopInstance, {\n        collection: this.loopInstanceForm.collection || null,\n        elementVariable: this.loopInstanceForm.elementVariable || null\n      });\n    },\n    // 各异步状态\n    updateLoopAsync(key) {\n      const { asyncBefore, asyncAfter } = this.loopInstanceForm;\n      let asyncAttr = Object.create(null);\n      if (!asyncBefore && !asyncAfter) {\n        this.$set(this.loopInstanceForm, \"exclusive\", true);\n        asyncAttr = { asyncBefore: false, asyncAfter: false, exclusive: true, extensionElements: null };\n      } else {\n        asyncAttr[key] = this.loopInstanceForm[key];\n      }\n      window.bpmnInstances.modeling.updateModdleProperties(this.bpmnElement, this.multiLoopInstance, asyncAttr);\n    }\n  },\n  beforeDestroy() {\n    this.multiLoopInstance = null;\n    this.bpmnElement = null;\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementMultiInstance.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementMultiInstance.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ElementMultiInstance.vue?vue&type=template&id=97175e4a&\"\nimport script from \"./ElementMultiInstance.vue?vue&type=script&lang=js&\"\nexport * from \"./ElementMultiInstance.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"panel-tab__content\"},[_c('el-form',{attrs:{\"model\":_vm.flowConditionForm,\"label-width\":\"90px\",\"size\":\"mini\"},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('el-form-item',{attrs:{\"label\":\"流转类型\"}},[_c('el-select',{on:{\"change\":_vm.updateFlowType},model:{value:(_vm.flowConditionForm.type),callback:function ($$v) {_vm.$set(_vm.flowConditionForm, \"type\", $$v)},expression:\"flowConditionForm.type\"}},[_c('el-option',{attrs:{\"label\":\"普通流转路径\",\"value\":\"normal\"}}),_c('el-option',{attrs:{\"label\":\"默认流转路径\",\"value\":\"default\"}}),_c('el-option',{attrs:{\"label\":\"条件流转路径\",\"value\":\"condition\"}})],1)],1),(_vm.flowConditionForm.type === 'condition')?_c('el-form-item',{key:\"condition\",attrs:{\"label\":\"条件格式\"}},[_c('el-select',{model:{value:(_vm.flowConditionForm.conditionType),callback:function ($$v) {_vm.$set(_vm.flowConditionForm, \"conditionType\", $$v)},expression:\"flowConditionForm.conditionType\"}},[_c('el-option',{attrs:{\"label\":\"表达式\",\"value\":\"expression\"}}),_c('el-option',{attrs:{\"label\":\"脚本\",\"value\":\"script\"}})],1)],1):_vm._e(),(_vm.flowConditionForm.conditionType && _vm.flowConditionForm.conditionType === 'expression')?_c('el-form-item',{key:\"express\",attrs:{\"label\":\"表达式\"}},[_c('el-input',{attrs:{\"clearable\":\"\"},on:{\"change\":_vm.updateFlowCondition},model:{value:(_vm.flowConditionForm.body),callback:function ($$v) {_vm.$set(_vm.flowConditionForm, \"body\", $$v)},expression:\"flowConditionForm.body\"}})],1):_vm._e(),(_vm.flowConditionForm.conditionType && _vm.flowConditionForm.conditionType === 'script')?[_c('el-form-item',{key:\"language\",attrs:{\"label\":\"脚本语言\"}},[_c('el-input',{attrs:{\"clearable\":\"\"},on:{\"change\":_vm.updateFlowCondition},model:{value:(_vm.flowConditionForm.language),callback:function ($$v) {_vm.$set(_vm.flowConditionForm, \"language\", $$v)},expression:\"flowConditionForm.language\"}})],1),_c('el-form-item',{key:\"scriptType\",attrs:{\"label\":\"脚本类型\"}},[_c('el-select',{model:{value:(_vm.flowConditionForm.scriptType),callback:function ($$v) {_vm.$set(_vm.flowConditionForm, \"scriptType\", $$v)},expression:\"flowConditionForm.scriptType\"}},[_c('el-option',{attrs:{\"label\":\"内联脚本\",\"value\":\"inlineScript\"}}),_c('el-option',{attrs:{\"label\":\"外部脚本\",\"value\":\"externalScript\"}})],1)],1),(_vm.flowConditionForm.scriptType === 'inlineScript')?_c('el-form-item',{key:\"body\",attrs:{\"label\":\"脚本\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"clearable\":\"\"},on:{\"change\":_vm.updateFlowCondition},model:{value:(_vm.flowConditionForm.body),callback:function ($$v) {_vm.$set(_vm.flowConditionForm, \"body\", $$v)},expression:\"flowConditionForm.body\"}})],1):_vm._e(),(_vm.flowConditionForm.scriptType === 'externalScript')?_c('el-form-item',{key:\"resource\",attrs:{\"label\":\"资源地址\"}},[_c('el-input',{attrs:{\"clearable\":\"\"},on:{\"change\":_vm.updateFlowCondition},model:{value:(_vm.flowConditionForm.resource),callback:function ($$v) {_vm.$set(_vm.flowConditionForm, \"resource\", $$v)},expression:\"flowConditionForm.resource\"}})],1):_vm._e()]:_vm._e()],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"panel-tab__content\">\n    <el-form :model=\"flowConditionForm\" label-width=\"90px\" size=\"mini\" @submit.native.prevent>\n      <el-form-item label=\"流转类型\">\n        <el-select v-model=\"flowConditionForm.type\" @change=\"updateFlowType\">\n          <el-option label=\"普通流转路径\" value=\"normal\" />\n          <el-option label=\"默认流转路径\" value=\"default\" />\n          <el-option label=\"条件流转路径\" value=\"condition\" />\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"条件格式\" v-if=\"flowConditionForm.type === 'condition'\" key=\"condition\">\n        <el-select v-model=\"flowConditionForm.conditionType\">\n          <el-option label=\"表达式\" value=\"expression\" />\n          <el-option label=\"脚本\" value=\"script\" />\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"表达式\" v-if=\"flowConditionForm.conditionType && flowConditionForm.conditionType === 'expression'\" key=\"express\">\n        <el-input v-model=\"flowConditionForm.body\" clearable @change=\"updateFlowCondition\" />\n      </el-form-item>\n      <template v-if=\"flowConditionForm.conditionType && flowConditionForm.conditionType === 'script'\">\n        <el-form-item label=\"脚本语言\" key=\"language\">\n          <el-input v-model=\"flowConditionForm.language\" clearable @change=\"updateFlowCondition\" />\n        </el-form-item>\n        <el-form-item label=\"脚本类型\" key=\"scriptType\">\n          <el-select v-model=\"flowConditionForm.scriptType\">\n            <el-option label=\"内联脚本\" value=\"inlineScript\" />\n            <el-option label=\"外部脚本\" value=\"externalScript\" />\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"脚本\" v-if=\"flowConditionForm.scriptType === 'inlineScript'\" key=\"body\">\n          <el-input v-model=\"flowConditionForm.body\" type=\"textarea\" clearable @change=\"updateFlowCondition\" />\n        </el-form-item>\n        <el-form-item label=\"资源地址\" v-if=\"flowConditionForm.scriptType === 'externalScript'\" key=\"resource\">\n          <el-input v-model=\"flowConditionForm.resource\" clearable @change=\"updateFlowCondition\" />\n        </el-form-item>\n      </template>\n    </el-form>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"FlowCondition\",\n  props: {\n    businessObject: Object,\n    type: String\n  },\n  data() {\n    return {\n      flowConditionForm: {}\n    };\n  },\n  watch: {\n    businessObject: {\n      immediate: true,\n      handler() {\n        this.$nextTick(() => this.resetFlowCondition());\n      }\n    }\n  },\n  methods: {\n    resetFlowCondition() {\n      this.bpmnElement = window.bpmnInstances.bpmnElement;\n      this.bpmnElementSource = this.bpmnElement.source;\n      this.bpmnElementSourceRef = this.bpmnElement.businessObject.sourceRef;\n      if (this.bpmnElementSourceRef && this.bpmnElementSourceRef.default && this.bpmnElementSourceRef.default.id === this.bpmnElement.id) {\n        // 默认\n        this.flowConditionForm = { type: \"default\" };\n      } else if (!this.bpmnElement.businessObject.conditionExpression) {\n        // 普通\n        this.flowConditionForm = { type: \"normal\" };\n      } else {\n        // 带条件\n        const conditionExpression = this.bpmnElement.businessObject.conditionExpression;\n        this.flowConditionForm = { ...conditionExpression, type: \"condition\" };\n        // resource 可直接标识 是否是外部资源脚本\n        if (this.flowConditionForm.resource) {\n          this.$set(this.flowConditionForm, \"conditionType\", \"script\");\n          this.$set(this.flowConditionForm, \"scriptType\", \"externalScript\");\n          return;\n        }\n        if (conditionExpression.language) {\n          this.$set(this.flowConditionForm, \"conditionType\", \"script\");\n          this.$set(this.flowConditionForm, \"scriptType\", \"inlineScript\");\n          return;\n        }\n        this.$set(this.flowConditionForm, \"conditionType\", \"expression\");\n      }\n    },\n    updateFlowType(flowType) {\n      // 正常条件类\n      if (flowType === \"condition\") {\n        this.flowConditionRef = window.bpmnInstances.moddle.create(\"bpmn:FormalExpression\");\n        window.bpmnInstances.modeling.updateProperties(this.bpmnElement, {\n          conditionExpression: this.flowConditionRef\n        });\n        return;\n      }\n      // 默认路径\n      if (flowType === \"default\") {\n        window.bpmnInstances.modeling.updateProperties(this.bpmnElement, {\n          conditionExpression: null\n        });\n        window.bpmnInstances.modeling.updateProperties(this.bpmnElementSource, {\n          default: this.bpmnElement\n        });\n        return;\n      }\n      // 正常路径，如果来源节点的默认路径是当前连线时，清除父元素的默认路径配置\n      if (this.bpmnElementSourceRef.default && this.bpmnElementSourceRef.default.id === this.bpmnElement.id) {\n        window.bpmnInstances.modeling.updateProperties(this.bpmnElementSource, {\n          default: null\n        });\n      }\n      window.bpmnInstances.modeling.updateProperties(this.bpmnElement, {\n        conditionExpression: null\n      });\n    },\n    updateFlowCondition() {\n      let { conditionType, scriptType, body, resource, language } = this.flowConditionForm;\n      let condition;\n      if (conditionType === \"expression\") {\n        condition = window.bpmnInstances.moddle.create(\"bpmn:FormalExpression\", { body });\n      } else {\n        if (scriptType === \"inlineScript\") {\n          condition = window.bpmnInstances.moddle.create(\"bpmn:FormalExpression\", { body, language });\n          this.$set(this.flowConditionForm, \"resource\", \"\");\n        } else {\n          this.$set(this.flowConditionForm, \"body\", \"\");\n          condition = window.bpmnInstances.moddle.create(\"bpmn:FormalExpression\", { resource, language });\n        }\n      }\n      window.bpmnInstances.modeling.updateProperties(this.bpmnElement, { conditionExpression: condition });\n    }\n  },\n  beforeDestroy() {\n    this.bpmnElement = null;\n    this.bpmnElementSource = null;\n    this.bpmnElementSourceRef = null;\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FlowCondition.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FlowCondition.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FlowCondition.vue?vue&type=template&id=461ffa26&\"\nimport script from \"./FlowCondition.vue?vue&type=script&lang=js&\"\nexport * from \"./FlowCondition.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"panel-tab__content\"},[_c('div',{staticClass:\"panel-tab__content--title\"},[_vm._m(0),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\",\"icon\":\"el-icon-plus\"},on:{\"click\":function($event){return _vm.openModel('message')}}},[_vm._v(\"创建新消息\")])],1),_c('el-table',{attrs:{\"data\":_vm.messageList,\"size\":\"mini\",\"border\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"label\":\"序号\",\"width\":\"60px\"}}),_c('el-table-column',{attrs:{\"label\":\"消息ID\",\"prop\":\"id\",\"max-width\":\"300px\",\"show-overflow-tooltip\":\"\"}}),_c('el-table-column',{attrs:{\"label\":\"消息名称\",\"prop\":\"name\",\"max-width\":\"300px\",\"show-overflow-tooltip\":\"\"}})],1),_c('div',{staticClass:\"panel-tab__content--title\",staticStyle:{\"padding-top\":\"8px\",\"margin-top\":\"8px\",\"border-top\":\"1px solid #eeeeee\"}},[_vm._m(1),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\",\"icon\":\"el-icon-plus\"},on:{\"click\":function($event){return _vm.openModel('signal')}}},[_vm._v(\"创建新信号\")])],1),_c('el-table',{attrs:{\"data\":_vm.signalList,\"size\":\"mini\",\"border\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"label\":\"序号\",\"width\":\"60px\"}}),_c('el-table-column',{attrs:{\"label\":\"信号ID\",\"prop\":\"id\",\"max-width\":\"300px\",\"show-overflow-tooltip\":\"\"}}),_c('el-table-column',{attrs:{\"label\":\"信号名称\",\"prop\":\"name\",\"max-width\":\"300px\",\"show-overflow-tooltip\":\"\"}}),_c('el-table-column',{attrs:{\"label\":\"信号范围\",\"prop\":\"scope\",\"max-width\":\"300px\",\"show-overflow-tooltip\":\"\"}})],1),_c('el-dialog',{attrs:{\"visible\":_vm.modelVisible,\"title\":_vm.modelConfig.title,\"close-on-click-modal\":false,\"width\":\"400px\",\"append-to-body\":\"\",\"destroy-on-close\":\"\"},on:{\"update:visible\":function($event){_vm.modelVisible=$event}}},[_c('el-form',{attrs:{\"model\":_vm.modelObjectForm,\"size\":\"mini\",\"label-width\":\"90px\"},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('el-form-item',{attrs:{\"label\":_vm.modelConfig.idLabel}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.modelObjectForm.id),callback:function ($$v) {_vm.$set(_vm.modelObjectForm, \"id\", $$v)},expression:\"modelObjectForm.id\"}})],1),_c('el-form-item',{attrs:{\"label\":_vm.modelConfig.nameLabel}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.modelObjectForm.name),callback:function ($$v) {_vm.$set(_vm.modelObjectForm, \"name\", $$v)},expression:\"modelObjectForm.name\"}})],1),(_vm.modelConfig.scopeLabel)?_c('el-form-item',{attrs:{\"label\":_vm.modelConfig.scopeLabel}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.modelObjectForm.scope),callback:function ($$v) {_vm.$set(_vm.modelObjectForm, \"scope\", $$v)},expression:\"modelObjectForm.scope\"}},_vm._l((_vm.scope),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1):_vm._e()],1),_c('template',{slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){_vm.modelVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":_vm.addNewObject}},[_vm._v(\"保 存\")])],1)],2)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[_c('i',{staticClass:\"el-icon-menu\",staticStyle:{\"margin-right\":\"8px\",\"color\":\"#555555\"}}),_vm._v(\"消息列表\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[_c('i',{staticClass:\"el-icon-menu\",staticStyle:{\"margin-right\":\"8px\",\"color\":\"#555555\"}}),_vm._v(\"信号列表\")])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"panel-tab__content\">\n    <div class=\"panel-tab__content--title\">\n      <span><i class=\"el-icon-menu\" style=\"margin-right: 8px; color: #555555\"></i>消息列表</span>\n      <el-button size=\"mini\" type=\"primary\" icon=\"el-icon-plus\" @click=\"openModel('message')\">创建新消息</el-button>\n    </div>\n    <el-table :data=\"messageList\" size=\"mini\" border>\n      <el-table-column type=\"index\" label=\"序号\" width=\"60px\" />\n      <el-table-column label=\"消息ID\" prop=\"id\" max-width=\"300px\" show-overflow-tooltip />\n      <el-table-column label=\"消息名称\" prop=\"name\" max-width=\"300px\" show-overflow-tooltip />\n    </el-table>\n    <div class=\"panel-tab__content--title\" style=\"padding-top: 8px; margin-top: 8px; border-top: 1px solid #eeeeee\">\n      <span><i class=\"el-icon-menu\" style=\"margin-right: 8px; color: #555555\"></i>信号列表</span>\n      <el-button size=\"mini\" type=\"primary\" icon=\"el-icon-plus\" @click=\"openModel('signal')\">创建新信号</el-button>\n    </div>\n    <el-table :data=\"signalList\" size=\"mini\" border>\n      <el-table-column type=\"index\" label=\"序号\" width=\"60px\" />\n      <el-table-column label=\"信号ID\" prop=\"id\" max-width=\"300px\" show-overflow-tooltip />\n      <el-table-column label=\"信号名称\" prop=\"name\" max-width=\"300px\" show-overflow-tooltip />\n      <el-table-column label=\"信号范围\" prop=\"scope\" max-width=\"300px\" show-overflow-tooltip />\n    </el-table>\n\n    <el-dialog :visible.sync=\"modelVisible\" :title=\"modelConfig.title\" :close-on-click-modal=\"false\" width=\"400px\" append-to-body destroy-on-close>\n      <el-form :model=\"modelObjectForm\" size=\"mini\" label-width=\"90px\" @submit.native.prevent>\n        <el-form-item :label=\"modelConfig.idLabel\">\n          <el-input v-model=\"modelObjectForm.id\" clearable />\n        </el-form-item>\n        <el-form-item :label=\"modelConfig.nameLabel\">\n          <el-input v-model=\"modelObjectForm.name\" clearable />\n        </el-form-item>\n        <el-form-item v-if=\"modelConfig.scopeLabel\" :label=\"modelConfig.scopeLabel\">\n          <el-select v-model=\"modelObjectForm.scope\" placeholder=\"请选择\">\n            <el-option v-for=\"item in scope\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\"></el-option>\n          </el-select>\n        </el-form-item>\n      </el-form>\n      <template slot=\"footer\">\n        <el-button size=\"mini\" @click=\"modelVisible = false\">取 消</el-button>\n        <el-button size=\"mini\" type=\"primary\" @click=\"addNewObject\">保 存</el-button>\n      </template>\n    </el-dialog>\n  </div>\n</template>\n<script>\nexport default {\n  name: \"SignalAndMassage\",\n  props: {\n    force: Number\n  },\n  data() {\n    return {\n      signalList: [],\n      messageList: [],\n      modelVisible: false,\n      modelType: \"\",\n      modelObjectForm: {},\n      scope: [\n        {\n          value: \"processInstance\",\n          label: \"流程实例\"\n        },\n        {\n          value: \"global\",\n          label: \"全局\"\n        }\n      ]\n    };\n  },\n  watch: {\n    force: {\n      immediate: false,\n      handler: function(val) {\n        if (val) {\n          this.$nextTick(() => this.initDataList());\n        }\n      }\n    }\n  },\n  computed: {\n    modelConfig() {\n      if (this.modelType === \"message\") {\n        return { title: \"创建消息\", idLabel: \"消息ID\", nameLabel: \"消息名称\" };\n      } else {\n        return { title: \"创建信号\", idLabel: \"信号ID\", nameLabel: \"信号名称\", scopeLabel: \"信号范围\" };\n      }\n    }\n  },\n  mounted() {\n    this.initDataList();\n  },\n  methods: {\n    initDataList() {\n      this.rootElements = window.bpmnInstances.modeler.getDefinitions().rootElements;\n      this.messageIdMap = {};\n      this.signalIdMap = {};\n      this.messageList = [];\n      this.signalList = [];\n      this.rootElements.forEach(el => {\n        if (el.$type === \"bpmn:Message\") {\n          this.messageIdMap[el.id] = true;\n          this.messageList.push({ ...el });\n        }\n        if (el.$type === \"bpmn:Signal\") {\n          this.signalIdMap[el.id] = true;\n          this.signalList.push({ ...el });\n        }\n      });\n    },\n    openModel(type) {\n      this.modelType = type;\n      this.modelObjectForm = {};\n      this.modelVisible = true;\n    },\n    addNewObject() {\n      if (this.modelType === \"message\") {\n        if (this.messageIdMap[this.modelObjectForm.id]) {\n          return this.$message.error(\"该消息已存在，请修改id后重新保存\");\n        }\n        const messageRef = window.bpmnInstances.moddle.create(\"bpmn:Message\", this.modelObjectForm);\n        this.rootElements.push(messageRef);\n      } else {\n        if (this.signalIdMap[this.modelObjectForm.id]) {\n          return this.$message.error(\"该信号已存在，请修改id后重新保存\");\n        }\n        const signalRef = window.bpmnInstances.moddle.create(\"bpmn:Signal\", this.modelObjectForm);\n        this.rootElements.push(signalRef);\n      }\n      this.modelVisible = false;\n      this.initDataList();\n    }\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignalAndMessage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignalAndMessage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SignalAndMessage.vue?vue&type=template&id=a9f284fe&\"\nimport script from \"./SignalAndMessage.vue?vue&type=script&lang=js&\"\nexport * from \"./SignalAndMessage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"panel-tab__content\"},[_c('el-table',{attrs:{\"data\":_vm.elementListenersList,\"size\":\"mini\",\"border\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"序号\",\"width\":\"50px\",\"type\":\"index\"}}),_c('el-table-column',{attrs:{\"label\":\"事件类型\",\"min-width\":\"100px\",\"prop\":\"event\"}}),_c('el-table-column',{attrs:{\"label\":\"监听器类型\",\"min-width\":\"100px\",\"show-overflow-tooltip\":\"\",\"formatter\":function (row) { return _vm.listenerTypeObject[row.listenerType]; }}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"90px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nvar $index = ref.$index;\nreturn [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"text\"},on:{\"click\":function($event){return _vm.openListenerForm(row, $index)}}},[_vm._v(\"编辑\")]),_c('el-divider',{attrs:{\"direction\":\"vertical\"}}),_c('el-button',{staticStyle:{\"color\":\"#ff4d4f\"},attrs:{\"size\":\"mini\",\"type\":\"text\"},on:{\"click\":function($event){return _vm.removeListener(row, $index)}}},[_vm._v(\"移除\")])]}}])})],1),_c('div',{staticClass:\"element-drawer__button\"},[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\",\"icon\":\"el-icon-plus\"},on:{\"click\":function($event){return _vm.openListenerForm(null)}}},[_vm._v(\"添加监听器\")])],1),_c('el-drawer',{attrs:{\"visible\":_vm.listenerFormModelVisible,\"title\":\"执行监听器\",\"size\":(_vm.width + \"px\"),\"append-to-body\":\"\",\"destroy-on-close\":\"\"},on:{\"update:visible\":function($event){_vm.listenerFormModelVisible=$event}}},[_c('el-form',{ref:\"listenerFormRef\",attrs:{\"size\":\"mini\",\"model\":_vm.listenerForm,\"label-width\":\"96px\"},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('el-form-item',{attrs:{\"label\":\"事件类型\",\"prop\":\"event\",\"rules\":{ required: true, trigger: ['blur', 'change'] }}},[_c('el-select',{model:{value:(_vm.listenerForm.event),callback:function ($$v) {_vm.$set(_vm.listenerForm, \"event\", $$v)},expression:\"listenerForm.event\"}},[_c('el-option',{attrs:{\"label\":\"start\",\"value\":\"start\"}}),_c('el-option',{attrs:{\"label\":\"end\",\"value\":\"end\"}})],1)],1),_c('el-form-item',{attrs:{\"label\":\"监听器类型\",\"prop\":\"listenerType\",\"rules\":{ required: true, trigger: ['blur', 'change'] }}},[_c('el-select',{model:{value:(_vm.listenerForm.listenerType),callback:function ($$v) {_vm.$set(_vm.listenerForm, \"listenerType\", $$v)},expression:\"listenerForm.listenerType\"}},_vm._l((Object.keys(_vm.listenerTypeObject)),function(i){return _c('el-option',{key:i,attrs:{\"label\":_vm.listenerTypeObject[i],\"value\":i}})}),1)],1),(_vm.listenerForm.listenerType === 'classListener')?_c('el-form-item',{key:\"listener-class\",attrs:{\"label\":\"Java类\",\"prop\":\"class\",\"rules\":{ required: true, trigger: ['blur', 'change'] }}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.listenerForm.class),callback:function ($$v) {_vm.$set(_vm.listenerForm, \"class\", $$v)},expression:\"listenerForm.class\"}})],1):_vm._e(),(_vm.listenerForm.listenerType === 'expressionListener')?_c('el-form-item',{key:\"listener-expression\",attrs:{\"label\":\"表达式\",\"prop\":\"expression\",\"rules\":{ required: true, trigger: ['blur', 'change'] }}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.listenerForm.expression),callback:function ($$v) {_vm.$set(_vm.listenerForm, \"expression\", $$v)},expression:\"listenerForm.expression\"}})],1):_vm._e(),(_vm.listenerForm.listenerType === 'delegateExpressionListener')?_c('el-form-item',{key:\"listener-delegate\",attrs:{\"label\":\"代理表达式\",\"prop\":\"delegateExpression\",\"rules\":{ required: true, trigger: ['blur', 'change'] }}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.listenerForm.delegateExpression),callback:function ($$v) {_vm.$set(_vm.listenerForm, \"delegateExpression\", $$v)},expression:\"listenerForm.delegateExpression\"}})],1):_vm._e(),(_vm.listenerForm.listenerType === 'scriptListener')?[_c('el-form-item',{key:\"listener-script-format\",attrs:{\"label\":\"脚本格式\",\"prop\":\"scriptFormat\",\"rules\":{ required: true, trigger: ['blur', 'change'], message: '请填写脚本格式' }}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.listenerForm.scriptFormat),callback:function ($$v) {_vm.$set(_vm.listenerForm, \"scriptFormat\", $$v)},expression:\"listenerForm.scriptFormat\"}})],1),_c('el-form-item',{key:\"listener-script-type\",attrs:{\"label\":\"脚本类型\",\"prop\":\"scriptType\",\"rules\":{ required: true, trigger: ['blur', 'change'], message: '请选择脚本类型' }}},[_c('el-select',{model:{value:(_vm.listenerForm.scriptType),callback:function ($$v) {_vm.$set(_vm.listenerForm, \"scriptType\", $$v)},expression:\"listenerForm.scriptType\"}},[_c('el-option',{attrs:{\"label\":\"内联脚本\",\"value\":\"inlineScript\"}}),_c('el-option',{attrs:{\"label\":\"外部脚本\",\"value\":\"externalScript\"}})],1)],1),(_vm.listenerForm.scriptType === 'inlineScript')?_c('el-form-item',{key:\"listener-script\",attrs:{\"label\":\"脚本内容\",\"prop\":\"value\",\"rules\":{ required: true, trigger: ['blur', 'change'], message: '请填写脚本内容' }}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.listenerForm.value),callback:function ($$v) {_vm.$set(_vm.listenerForm, \"value\", $$v)},expression:\"listenerForm.value\"}})],1):_vm._e(),(_vm.listenerForm.scriptType === 'externalScript')?_c('el-form-item',{key:\"listener-resource\",attrs:{\"label\":\"资源地址\",\"prop\":\"resource\",\"rules\":{ required: true, trigger: ['blur', 'change'], message: '请填写资源地址' }}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.listenerForm.resource),callback:function ($$v) {_vm.$set(_vm.listenerForm, \"resource\", $$v)},expression:\"listenerForm.resource\"}})],1):_vm._e()]:_vm._e()],2),_c('el-divider'),_c('p',{staticClass:\"listener-filed__title\"},[_c('span',[_c('i',{staticClass:\"el-icon-menu\"}),_vm._v(\"注入字段：\")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.openListenerFieldForm(null)}}},[_vm._v(\"添加字段\")])],1),_c('el-table',{staticStyle:{\"flex\":\"none\"},attrs:{\"data\":_vm.fieldsListOfListener,\"size\":\"mini\",\"max-height\":\"240\",\"border\":\"\",\"fit\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"序号\",\"width\":\"50px\",\"type\":\"index\"}}),_c('el-table-column',{attrs:{\"label\":\"字段名称\",\"min-width\":\"100px\",\"prop\":\"name\"}}),_c('el-table-column',{attrs:{\"label\":\"字段类型\",\"min-width\":\"80px\",\"show-overflow-tooltip\":\"\",\"formatter\":function (row) { return _vm.fieldTypeObject[row.fieldType]; }}}),_c('el-table-column',{attrs:{\"label\":\"字段值/表达式\",\"min-width\":\"100px\",\"show-overflow-tooltip\":\"\",\"formatter\":function (row) { return row.string || row.expression; }}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"100px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nvar $index = ref.$index;\nreturn [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"text\"},on:{\"click\":function($event){return _vm.openListenerFieldForm(row, $index)}}},[_vm._v(\"编辑\")]),_c('el-divider',{attrs:{\"direction\":\"vertical\"}}),_c('el-button',{staticStyle:{\"color\":\"#ff4d4f\"},attrs:{\"size\":\"mini\",\"type\":\"text\"},on:{\"click\":function($event){return _vm.removeListenerField(row, $index)}}},[_vm._v(\"移除\")])]}}])})],1),_c('div',{staticClass:\"element-drawer__button\"},[_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){_vm.listenerFormModelVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":_vm.saveListenerConfig}},[_vm._v(\"保 存\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"字段配置\",\"visible\":_vm.listenerFieldFormModelVisible,\"width\":\"600px\",\"append-to-body\":\"\",\"destroy-on-close\":\"\"},on:{\"update:visible\":function($event){_vm.listenerFieldFormModelVisible=$event}}},[_c('el-form',{ref:\"listenerFieldFormRef\",staticStyle:{\"height\":\"136px\"},attrs:{\"model\":_vm.listenerFieldForm,\"size\":\"mini\",\"label-width\":\"96px\"},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('el-form-item',{attrs:{\"label\":\"字段名称：\",\"prop\":\"name\",\"rules\":{ required: true, trigger: ['blur', 'change'] }}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.listenerFieldForm.name),callback:function ($$v) {_vm.$set(_vm.listenerFieldForm, \"name\", $$v)},expression:\"listenerFieldForm.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"字段类型：\",\"prop\":\"fieldType\",\"rules\":{ required: true, trigger: ['blur', 'change'] }}},[_c('el-select',{model:{value:(_vm.listenerFieldForm.fieldType),callback:function ($$v) {_vm.$set(_vm.listenerFieldForm, \"fieldType\", $$v)},expression:\"listenerFieldForm.fieldType\"}},_vm._l((Object.keys(_vm.fieldTypeObject)),function(i){return _c('el-option',{key:i,attrs:{\"label\":_vm.fieldTypeObject[i],\"value\":i}})}),1)],1),(_vm.listenerFieldForm.fieldType === 'string')?_c('el-form-item',{key:\"field-string\",attrs:{\"label\":\"字段值：\",\"prop\":\"string\",\"rules\":{ required: true, trigger: ['blur', 'change'] }}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.listenerFieldForm.string),callback:function ($$v) {_vm.$set(_vm.listenerFieldForm, \"string\", $$v)},expression:\"listenerFieldForm.string\"}})],1):_vm._e(),(_vm.listenerFieldForm.fieldType === 'expression')?_c('el-form-item',{key:\"field-expression\",attrs:{\"label\":\"表达式：\",\"prop\":\"expression\",\"rules\":{ required: true, trigger: ['blur', 'change'] }}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.listenerFieldForm.expression),callback:function ($$v) {_vm.$set(_vm.listenerFieldForm, \"expression\", $$v)},expression:\"listenerFieldForm.expression\"}})],1):_vm._e()],1),_c('template',{slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){_vm.listenerFieldFormModelVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":_vm.saveListenerFiled}},[_vm._v(\"确 定\")])],1)],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// 创建监听器实例\nexport function createListenerObject(options, isTask, prefix) {\n  const listenerObj = Object.create(null);\n  listenerObj.event = options.event;\n  isTask && (listenerObj.id = options.id); // 任务监听器特有的 id 字段\n  switch (options.listenerType) {\n    case \"scriptListener\":\n      listenerObj.script = createScriptObject(options, prefix);\n      break;\n    case \"expressionListener\":\n      listenerObj.expression = options.expression;\n      break;\n    case \"delegateExpressionListener\":\n      listenerObj.delegateExpression = options.delegateExpression;\n      break;\n    default:\n      listenerObj.class = options.class;\n  }\n  // 注入字段\n  if (options.fields) {\n    listenerObj.fields = options.fields.map(field => {\n      return createFieldObject(field, prefix);\n    });\n  }\n  // 任务监听器的 定时器 设置\n  if (isTask && options.event === \"timeout\" && !!options.eventDefinitionType) {\n    const timeDefinition = window.bpmnInstances.moddle.create(\"bpmn:FormalExpression\", { body: options.eventTimeDefinitions });\n    const TimerEventDefinition = window.bpmnInstances.moddle.create(\"bpmn:TimerEventDefinition\", {\n      id: `TimerEventDefinition_${uuid(8)}`,\n      [`time${options.eventDefinitionType.replace(/^\\S/, s => s.toUpperCase())}`]: timeDefinition\n    });\n    listenerObj.eventDefinitions = [TimerEventDefinition];\n  }\n  return window.bpmnInstances.moddle.create(`${prefix}:${isTask ? \"TaskListener\" : \"ExecutionListener\"}`, listenerObj);\n}\n\nexport function createEventListenerObject(options, prefix) {\n  const listenerObj = Object.create(null);\n  listenerObj.events = options.events;\n  listenerObj.entityType = options.entityType;\n  switch (options.listenerType) {\n    case \"delegateExpressionListener\":\n      listenerObj.delegateExpression = options.delegateExpression;\n      break;\n    default:\n      listenerObj.class = options.class;\n  }\n  return window.bpmnInstances.moddle.create(`${prefix}:EventListener`, listenerObj);\n}\n\n// 创建 监听器的注入字段 实例\nexport function createFieldObject(option, prefix) {\n  const { name, fieldType, string, expression } = option;\n  const fieldConfig = fieldType === \"string\" ? { name, string } : { name, expression };\n  return window.bpmnInstances.moddle.create(`${prefix}:Field`, fieldConfig);\n}\n\n// 创建脚本实例\nexport function createScriptObject(options, prefix) {\n  const { scriptType, scriptFormat, value, resource } = options;\n  const scriptConfig = scriptType === \"inlineScript\" ? { scriptFormat, value } : { scriptFormat, resource };\n  return window.bpmnInstances.moddle.create(`${prefix}:Script`, scriptConfig);\n}\n\n// 更新元素扩展属性\nexport function updateElementExtensions(element, extensionList) {\n  const extensions = window.bpmnInstances.moddle.create(\"bpmn:ExtensionElements\", {\n    values: extensionList\n  });\n  window.bpmnInstances.modeling.updateProperties(element, {\n    extensionElements: extensions\n  });\n}\n\n// 创建一个id\nexport function uuid(length = 8, chars) {\n  let result = \"\";\n  let charsString = chars || \"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ\";\n  for (let i = length; i > 0; --i) {\n    result += charsString[Math.floor(Math.random() * charsString.length)];\n  }\n  return result;\n}\n","// 初始化表单数据\nexport function initListenerForm(listener) {\n  let self = {\n    ...listener\n  };\n  if (listener.script) {\n    self = {\n      ...listener,\n      ...listener.script,\n      scriptType: listener.script.resource ? \"externalScript\" : \"inlineScript\"\n    };\n  }\n  if (listener.event === \"timeout\" && listener.eventDefinitions) {\n    if (listener.eventDefinitions.length) {\n      let k = \"\";\n      for (let key in listener.eventDefinitions[0]) {\n        console.log(listener.eventDefinitions, key);\n        if (key.indexOf(\"time\") !== -1) {\n          k = key;\n          self.eventDefinitionType = key.replace(\"time\", \"\").toLowerCase();\n        }\n      }\n      console.log(k);\n      self.eventTimeDefinitions = listener.eventDefinitions[0][k].body;\n    }\n  }\n  return self;\n}\n\nexport function initListenerType(listener) {\n  let listenerType;\n  if (listener.class) listenerType = \"classListener\";\n  if (listener.expression) listenerType = \"expressionListener\";\n  if (listener.delegateExpression) listenerType = \"delegateExpressionListener\";\n  if (listener.script) listenerType = \"scriptListener\";\n  return {\n    ...JSON.parse(JSON.stringify(listener)),\n    ...(listener.script ?? {}),\n    listenerType: listenerType\n  };\n}\n\nexport const listenerType = {\n  classListener: \"Java 类\",\n  expressionListener: \"表达式\",\n  delegateExpressionListener: \"代理表达式\",\n  scriptListener: \"脚本\"\n};\n\nexport const eventType = {\n  create: \"创建\",\n  assignment: \"指派\",\n  complete: \"完成\",\n  delete: \"删除\",\n  update: \"更新\",\n  timeout: \"超时\"\n};\n\nexport const flowablelistenerType = {\n  classListener: \"Java 类\",\n  delegateExpressionListener: \"代理表达式\"\n};\n\nexport const flowableEventType = {\n  ACTIVITY_CANCELLED: \"ACTIVITY_CANCELLED\",\n  ACTIVITY_COMPENSATE: \"ACTIVITY_COMPENSATE\",\n  ACTIVITY_COMPLETED: \"ACTIVITY_COMPLETED\",\n  ACTIVITY_ERROR_RECEIVED: \"ACTIVITY_ERROR_RECEIVED\",\n  ACTIVITY_MESSAGE_CANCELLED: \"ACTIVITY_MESSAGE_CANCELLED\",\n  ACTIVITY_MESSAGE_RECEIVED: \"ACTIVITY_MESSAGE_RECEIVED\",\n  ACTIVITY_MESSAGE_WAITING: \"ACTIVITY_MESSAGE_WAITING\",\n  ACTIVITY_SIGNALED: \"ACTIVITY_SIGNALED\",\n  ACTIVITY_SIGNAL_WAITING: \"ACTIVITY_SIGNAL_WAITING\",\n  ACTIVITY_STARTED: \"ACTIVITY_STARTED\",\n  CUSTOM: \"CUSTOM\",\n  ENGINE_CLOSED: \"ENGINE_CLOSED\",\n  ENGINE_CREATED: \"ENGINE_CREATED\",\n  ENTITY_ACTIVATED: \"ENTITY_ACTIVATED\",\n  ENTITY_CREATED: \"ENTITY_CREATED\",\n  ENTITY_DELETED: \"ENTITY_DELETED\",\n  ENTITY_INITIALIZED: \"ENTITY_INITIALIZED\",\n  ENTITY_SUSPENDED: \"ENTITY_SUSPENDED\",\n  ENTITY_UPDATED: \"ENTITY_UPDATED\",\n  HISTORIC_ACTIVITY_INSTANCE_CREATED: \"HISTORIC_ACTIVITY_INSTANCE_CREATED\",\n  HISTORIC_ACTIVITY_INSTANCE_ENDED: \"HISTORIC_ACTIVITY_INSTANCE_ENDED\",\n  HISTORIC_PROCESS_INSTANCE_CREATED: \"HISTORIC_PROCESS_INSTANCE_CREATED\",\n  HISTORIC_PROCESS_INSTANCE_ENDED: \"HISTORIC_PROCESS_INSTANCE_ENDED\",\n  JOB_CANCELED: \"JOB_CANCELED\",\n  JOB_EXECUTION_FAILURE: \"JOB_EXECUTION_FAILURE\",\n  JOB_EXECUTION_SUCCESS: \"JOB_EXECUTION_SUCCESS\",\n  JOB_RESCHEDULED: \"JOB_RESCHEDULED\",\n  JOB_RETRIES_DECREMENTED: \"JOB_RETRIES_DECREMENTED\",\n  MEMBERSHIP_CREATED: \"MEMBERSHIP_CREATED\",\n  MEMBERSHIP_DELETED: \"MEMBERSHIP_DELETED\",\n  MEMBERSHIPS_DELETED: \"MEMBERSHIPS_DELETED\",\n  MULTI_INSTANCE_ACTIVITY_CANCELLED: \"MULTI_INSTANCE_ACTIVITY_CANCELLED\",\n  MULTI_INSTANCE_ACTIVITY_COMPLETED: \"MULTI_INSTANCE_ACTIVITY_COMPLETED\",\n  MULTI_INSTANCE_ACTIVITY_COMPLETED_WITH_CONDITION: \"MULTI_INSTANCE_ACTIVITY_COMPLETED_WITH_CONDITION\",\n  MULTI_INSTANCE_ACTIVITY_STARTED: \"MULTI_INSTANCE_ACTIVITY_STARTED\",\n  PROCESS_CANCELLED: \"PROCESS_CANCELLED\",\n  PROCESS_COMPLETED: \"PROCESS_COMPLETED\",\n  PROCESS_COMPLETED_WITH_TERMINATE_END_EVENT: \"PROCESS_COMPLETED_WITH_TERMINATE_END_EVENT\",\n  PROCESS_COMPLETED_WITH_ERROR_END_EVENT: \"PROCESS_COMPLETED_WITH_ERROR_END_EVENT\",\n  PROCESS_CREATED: \"PROCESS_CREATED\",\n  PROCESS_STARTED: \"PROCESS_STARTED\",\n  SEQUENCEFLOW_TAKEN: \"SEQUENCEFLOW_TAKEN\",\n  TASK_ASSIGNED: \"TASK_ASSIGNED\",\n  TASK_COMPLETED: \"TASK_COMPLETED\",\n  TASK_CREATED: \"TASK_CREATED\",\n  TIMER_FIRED: \"TIMER_FIRED\",\n  TIMER_SCHEDULED: \"TIMER_SCHEDULED\",\n  UNCAUGHT_BPMN_ERROR: \"UNCAUGHT_BPMN_ERROR\",\n  VARIABLE_CREATED: \"VARIABLE_CREATED\",\n  VARIABLE_DELETED: \"VARIABLE_DELETED\",\n  VARIABLE_UPDATED: \"VARIABLE_UPDATED\"\n};\n\nexport const fieldType = {\n  string: \"字符串\",\n  expression: \"表达式\"\n};\n","<template>\n  <div class=\"panel-tab__content\">\n    <el-table :data=\"elementListenersList\" size=\"mini\" border>\n      <el-table-column label=\"序号\" width=\"50px\" type=\"index\" />\n      <el-table-column label=\"事件类型\" min-width=\"100px\" prop=\"event\" />\n      <el-table-column label=\"监听器类型\" min-width=\"100px\" show-overflow-tooltip :formatter=\"row => listenerTypeObject[row.listenerType]\" />\n      <el-table-column label=\"操作\" width=\"90px\">\n        <template slot-scope=\"{ row, $index }\">\n          <el-button size=\"mini\" type=\"text\" @click=\"openListenerForm(row, $index)\">编辑</el-button>\n          <el-divider direction=\"vertical\" />\n          <el-button size=\"mini\" type=\"text\" style=\"color: #ff4d4f\" @click=\"removeListener(row, $index)\">移除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <div class=\"element-drawer__button\">\n      <el-button size=\"mini\" type=\"primary\" icon=\"el-icon-plus\" @click=\"openListenerForm(null)\">添加监听器</el-button>\n    </div>\n\n    <!-- 监听器 编辑/创建 部分 -->\n    <el-drawer :visible.sync=\"listenerFormModelVisible\" title=\"执行监听器\" :size=\"`${width}px`\" append-to-body destroy-on-close>\n      <el-form size=\"mini\" :model=\"listenerForm\" label-width=\"96px\" ref=\"listenerFormRef\" @submit.native.prevent>\n        <el-form-item label=\"事件类型\" prop=\"event\" :rules=\"{ required: true, trigger: ['blur', 'change'] }\">\n          <el-select v-model=\"listenerForm.event\">\n            <el-option label=\"start\" value=\"start\" />\n            <el-option label=\"end\" value=\"end\" />\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"监听器类型\" prop=\"listenerType\" :rules=\"{ required: true, trigger: ['blur', 'change'] }\">\n          <el-select v-model=\"listenerForm.listenerType\">\n            <el-option v-for=\"i in Object.keys(listenerTypeObject)\" :key=\"i\" :label=\"listenerTypeObject[i]\" :value=\"i\" />\n          </el-select>\n        </el-form-item>\n        <el-form-item\n          v-if=\"listenerForm.listenerType === 'classListener'\"\n          label=\"Java类\"\n          prop=\"class\"\n          key=\"listener-class\"\n          :rules=\"{ required: true, trigger: ['blur', 'change'] }\"\n        >\n          <el-input v-model=\"listenerForm.class\" clearable />\n        </el-form-item>\n        <el-form-item\n          v-if=\"listenerForm.listenerType === 'expressionListener'\"\n          label=\"表达式\"\n          prop=\"expression\"\n          key=\"listener-expression\"\n          :rules=\"{ required: true, trigger: ['blur', 'change'] }\"\n        >\n          <el-input v-model=\"listenerForm.expression\" clearable />\n        </el-form-item>\n        <el-form-item\n          v-if=\"listenerForm.listenerType === 'delegateExpressionListener'\"\n          label=\"代理表达式\"\n          prop=\"delegateExpression\"\n          key=\"listener-delegate\"\n          :rules=\"{ required: true, trigger: ['blur', 'change'] }\"\n        >\n          <el-input v-model=\"listenerForm.delegateExpression\" clearable />\n        </el-form-item>\n        <template v-if=\"listenerForm.listenerType === 'scriptListener'\">\n          <el-form-item\n            label=\"脚本格式\"\n            prop=\"scriptFormat\"\n            key=\"listener-script-format\"\n            :rules=\"{ required: true, trigger: ['blur', 'change'], message: '请填写脚本格式' }\"\n          >\n            <el-input v-model=\"listenerForm.scriptFormat\" clearable />\n          </el-form-item>\n          <el-form-item\n            label=\"脚本类型\"\n            prop=\"scriptType\"\n            key=\"listener-script-type\"\n            :rules=\"{ required: true, trigger: ['blur', 'change'], message: '请选择脚本类型' }\"\n          >\n            <el-select v-model=\"listenerForm.scriptType\">\n              <el-option label=\"内联脚本\" value=\"inlineScript\" />\n              <el-option label=\"外部脚本\" value=\"externalScript\" />\n            </el-select>\n          </el-form-item>\n          <el-form-item\n            v-if=\"listenerForm.scriptType === 'inlineScript'\"\n            label=\"脚本内容\"\n            prop=\"value\"\n            key=\"listener-script\"\n            :rules=\"{ required: true, trigger: ['blur', 'change'], message: '请填写脚本内容' }\"\n          >\n            <el-input v-model=\"listenerForm.value\" clearable />\n          </el-form-item>\n          <el-form-item\n            v-if=\"listenerForm.scriptType === 'externalScript'\"\n            label=\"资源地址\"\n            prop=\"resource\"\n            key=\"listener-resource\"\n            :rules=\"{ required: true, trigger: ['blur', 'change'], message: '请填写资源地址' }\"\n          >\n            <el-input v-model=\"listenerForm.resource\" clearable />\n          </el-form-item>\n        </template>\n      </el-form>\n      <el-divider />\n      <p class=\"listener-filed__title\">\n        <span><i class=\"el-icon-menu\"></i>注入字段：</span>\n        <el-button size=\"mini\" type=\"primary\" @click=\"openListenerFieldForm(null)\">添加字段</el-button>\n      </p>\n      <el-table :data=\"fieldsListOfListener\" size=\"mini\" max-height=\"240\" border fit style=\"flex: none\">\n        <el-table-column label=\"序号\" width=\"50px\" type=\"index\" />\n        <el-table-column label=\"字段名称\" min-width=\"100px\" prop=\"name\" />\n        <el-table-column label=\"字段类型\" min-width=\"80px\" show-overflow-tooltip :formatter=\"row => fieldTypeObject[row.fieldType]\" />\n        <el-table-column label=\"字段值/表达式\" min-width=\"100px\" show-overflow-tooltip :formatter=\"row => row.string || row.expression\" />\n        <el-table-column label=\"操作\" width=\"100px\">\n          <template slot-scope=\"{ row, $index }\">\n            <el-button size=\"mini\" type=\"text\" @click=\"openListenerFieldForm(row, $index)\">编辑</el-button>\n            <el-divider direction=\"vertical\" />\n            <el-button size=\"mini\" type=\"text\" style=\"color: #ff4d4f\" @click=\"removeListenerField(row, $index)\">移除</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n\n      <div class=\"element-drawer__button\">\n        <el-button size=\"mini\" @click=\"listenerFormModelVisible = false\">取 消</el-button>\n        <el-button size=\"mini\" type=\"primary\" @click=\"saveListenerConfig\">保 存</el-button>\n      </div>\n    </el-drawer>\n\n    <!-- 注入西段 编辑/创建 部分 -->\n    <el-dialog title=\"字段配置\" :visible.sync=\"listenerFieldFormModelVisible\" width=\"600px\" append-to-body destroy-on-close>\n      <el-form :model=\"listenerFieldForm\" size=\"mini\" label-width=\"96px\" ref=\"listenerFieldFormRef\" style=\"height: 136px\" @submit.native.prevent>\n        <el-form-item label=\"字段名称：\" prop=\"name\" :rules=\"{ required: true, trigger: ['blur', 'change'] }\">\n          <el-input v-model=\"listenerFieldForm.name\" clearable />\n        </el-form-item>\n        <el-form-item label=\"字段类型：\" prop=\"fieldType\" :rules=\"{ required: true, trigger: ['blur', 'change'] }\">\n          <el-select v-model=\"listenerFieldForm.fieldType\">\n            <el-option v-for=\"i in Object.keys(fieldTypeObject)\" :key=\"i\" :label=\"fieldTypeObject[i]\" :value=\"i\" />\n          </el-select>\n        </el-form-item>\n        <el-form-item\n          v-if=\"listenerFieldForm.fieldType === 'string'\"\n          label=\"字段值：\"\n          prop=\"string\"\n          key=\"field-string\"\n          :rules=\"{ required: true, trigger: ['blur', 'change'] }\"\n        >\n          <el-input v-model=\"listenerFieldForm.string\" clearable />\n        </el-form-item>\n        <el-form-item\n          v-if=\"listenerFieldForm.fieldType === 'expression'\"\n          label=\"表达式：\"\n          prop=\"expression\"\n          key=\"field-expression\"\n          :rules=\"{ required: true, trigger: ['blur', 'change'] }\"\n        >\n          <el-input v-model=\"listenerFieldForm.expression\" clearable />\n        </el-form-item>\n      </el-form>\n      <template slot=\"footer\">\n        <el-button size=\"mini\" @click=\"listenerFieldFormModelVisible = false\">取 消</el-button>\n        <el-button size=\"mini\" type=\"primary\" @click=\"saveListenerFiled\">确 定</el-button>\n      </template>\n    </el-dialog>\n  </div>\n</template>\n<script>\nimport { createListenerObject, updateElementExtensions } from \"../../utils\";\nimport { initListenerType, initListenerForm, listenerType, fieldType } from \"./utilSelf\";\n\nexport default {\n  name: \"ElementListeners\",\n  props: {\n    id: String,\n    type: String\n  },\n  inject: {\n    prefix: \"prefix\",\n    width: \"width\"\n  },\n  data() {\n    return {\n      elementListenersList: [], // 监听器列表\n      listenerForm: {}, // 监听器详情表单\n      listenerFormModelVisible: false, // 监听器 编辑 侧边栏显示状态\n      fieldsListOfListener: [],\n      listenerFieldForm: {}, // 监听器 注入字段 详情表单\n      listenerFieldFormModelVisible: false, // 监听器 注入字段表单弹窗 显示状态\n      editingListenerIndex: -1, // 监听器所在下标，-1 为新增\n      editingListenerFieldIndex: -1, // 字段所在下标，-1 为新增\n      listenerTypeObject: listenerType,\n      fieldTypeObject: fieldType\n    };\n  },\n  watch: {\n    id: {\n      immediate: true,\n      handler(val) {\n        val && val.length && this.$nextTick(() => this.resetListenersList());\n      }\n    }\n  },\n  methods: {\n    resetListenersList() {\n      this.bpmnElement = window.bpmnInstances.bpmnElement;\n      this.otherExtensionList = [];\n      this.bpmnElementListeners =\n        this.bpmnElement.businessObject?.extensionElements?.values?.filter(ex => ex.$type === `${this.prefix}:ExecutionListener`) ?? [];\n      this.elementListenersList = this.bpmnElementListeners.map(listener => initListenerType(listener));\n    },\n    // 打开 监听器详情 侧边栏\n    openListenerForm(listener, index) {\n      if (listener) {\n        this.listenerForm = initListenerForm(listener);\n        this.editingListenerIndex = index;\n      } else {\n        this.listenerForm = {};\n        this.editingListenerIndex = -1; // 标记为新增\n      }\n      if (listener && listener.fields) {\n        this.fieldsListOfListener = listener.fields.map(field => ({ ...field, fieldType: field.string ? \"string\" : \"expression\" }));\n      } else {\n        this.fieldsListOfListener = [];\n        this.$set(this.listenerForm, \"fields\", []);\n      }\n      // 打开侧边栏并清楚验证状态\n      this.listenerFormModelVisible = true;\n      this.$nextTick(() => {\n        if (this.$refs[\"listenerFormRef\"]) this.$refs[\"listenerFormRef\"].clearValidate();\n      });\n    },\n    // 打开监听器字段编辑弹窗\n    openListenerFieldForm(field, index) {\n      this.listenerFieldForm = field ? JSON.parse(JSON.stringify(field)) : {};\n      this.editingListenerFieldIndex = field ? index : -1;\n      this.listenerFieldFormModelVisible = true;\n      this.$nextTick(() => {\n        if (this.$refs[\"listenerFieldFormRef\"]) this.$refs[\"listenerFieldFormRef\"].clearValidate();\n      });\n    },\n    // 保存监听器注入字段\n    async saveListenerFiled() {\n      let validateStatus = await this.$refs[\"listenerFieldFormRef\"].validate();\n      if (!validateStatus) return; // 验证不通过直接返回\n      //排他处理\n      Object.keys(this.fieldTypeObject).forEach(x => {\n        if (this.listenerFieldForm.fieldType !== x) {\n          this.listenerFieldForm[x] = undefined;\n        }\n      });\n      if (this.editingListenerFieldIndex === -1) {\n        this.fieldsListOfListener.push(this.listenerFieldForm);\n        this.listenerForm.fields.push(this.listenerFieldForm);\n      } else {\n        this.fieldsListOfListener.splice(this.editingListenerFieldIndex, 1, this.listenerFieldForm);\n        this.listenerForm.fields.splice(this.editingListenerFieldIndex, 1, this.listenerFieldForm);\n      }\n      this.listenerFieldFormModelVisible = false;\n      this.$nextTick(() => (this.listenerFieldForm = {}));\n    },\n    // 移除监听器字段\n    removeListenerField(field, index) {\n      this.$confirm(\"确认移除该字段吗？\", \"提示\", {\n        confirmButtonText: \"确 认\",\n        cancelButtonText: \"取 消\"\n      })\n        .then(() => {\n          this.fieldsListOfListener.splice(index, 1);\n          this.listenerForm.fields.splice(index, 1);\n        })\n        .catch(() => console.info(\"操作取消\"));\n    },\n    // 移除监听器\n    removeListener(listener, index) {\n      this.$confirm(\"确认移除该监听器吗？\", \"提示\", {\n        confirmButtonText: \"确 认\",\n        cancelButtonText: \"取 消\"\n      })\n        .then(() => {\n          this.bpmnElementListeners.splice(index, 1);\n          this.elementListenersList.splice(index, 1);\n          // 保存其他配置\n          this.otherExtensionList =\n            this.bpmnElement.businessObject?.extensionElements?.values?.filter(ex => ex.$type !== `${this.prefix}:ExecutionListener`) ?? [];\n          updateElementExtensions(this.bpmnElement, this.otherExtensionList.concat(this.bpmnElementListeners));\n        })\n        .catch(() => console.info(\"操作取消\"));\n    },\n    // 保存监听器配置\n    async saveListenerConfig() {\n      let validateStatus = await this.$refs[\"listenerFormRef\"].validate();\n      if (!validateStatus) return; // 验证不通过直接返回\n      const listenerObject = createListenerObject(this.listenerForm, false, this.prefix);\n      if (this.editingListenerIndex === -1) {\n        this.bpmnElementListeners.push(listenerObject);\n        this.elementListenersList.push(this.listenerForm);\n      } else {\n        this.bpmnElementListeners.splice(this.editingListenerIndex, 1, listenerObject);\n        this.elementListenersList.splice(this.editingListenerIndex, 1, this.listenerForm);\n      }\n      // 保存其他配置\n      this.otherExtensionList = this.bpmnElement.businessObject?.extensionElements?.values?.filter(ex => ex.$type !== `${this.prefix}:ExecutionListener`) ?? [];\n      updateElementExtensions(this.bpmnElement, this.otherExtensionList.concat(this.bpmnElementListeners));\n      // 4. 隐藏侧边栏\n      this.listenerFormModelVisible = false;\n      this.listenerForm = {};\n    }\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementListeners.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementListeners.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ElementListeners.vue?vue&type=template&id=3f5e4b23&\"\nimport script from \"./ElementListeners.vue?vue&type=script&lang=js&\"\nexport * from \"./ElementListeners.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"panel-tab__content\"},[_c('el-table',{attrs:{\"data\":_vm.elementPropertyList,\"size\":\"mini\",\"max-height\":\"240\",\"border\":\"\",\"fit\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"序号\",\"width\":\"50px\",\"type\":\"index\"}}),_c('el-table-column',{attrs:{\"label\":\"属性名\",\"prop\":\"name\",\"min-width\":\"100px\",\"show-overflow-tooltip\":\"\"}}),_c('el-table-column',{attrs:{\"label\":\"属性值\",\"prop\":\"value\",\"min-width\":\"100px\",\"show-overflow-tooltip\":\"\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"90px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nvar $index = ref.$index;\nreturn [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"text\"},on:{\"click\":function($event){return _vm.openAttributesForm(row, $index)}}},[_vm._v(\"编辑\")]),_c('el-divider',{attrs:{\"direction\":\"vertical\"}}),_c('el-button',{staticStyle:{\"color\":\"#ff4d4f\"},attrs:{\"size\":\"mini\",\"type\":\"text\"},on:{\"click\":function($event){return _vm.removeAttributes(row, $index)}}},[_vm._v(\"移除\")])]}}])})],1),_c('div',{staticClass:\"element-drawer__button\"},[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\",\"icon\":\"el-icon-plus\"},on:{\"click\":function($event){return _vm.openAttributesForm(null, -1)}}},[_vm._v(\"添加属性\")])],1),_c('el-dialog',{attrs:{\"visible\":_vm.propertyFormModelVisible,\"title\":\"属性配置\",\"width\":\"600px\",\"append-to-body\":\"\",\"destroy-on-close\":\"\"},on:{\"update:visible\":function($event){_vm.propertyFormModelVisible=$event}}},[_c('el-form',{ref:\"attributeFormRef\",attrs:{\"model\":_vm.propertyForm,\"label-width\":\"80px\",\"size\":\"mini\"},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('el-form-item',{attrs:{\"label\":\"属性名：\",\"prop\":\"name\"}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.propertyForm.name),callback:function ($$v) {_vm.$set(_vm.propertyForm, \"name\", $$v)},expression:\"propertyForm.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"属性值：\",\"prop\":\"value\"}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.propertyForm.value),callback:function ($$v) {_vm.$set(_vm.propertyForm, \"value\", $$v)},expression:\"propertyForm.value\"}})],1)],1),_c('template',{slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){_vm.propertyFormModelVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":_vm.saveAttribute}},[_vm._v(\"确 定\")])],1)],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"panel-tab__content\">\n    <el-table :data=\"elementPropertyList\" size=\"mini\" max-height=\"240\" border fit>\n      <el-table-column label=\"序号\" width=\"50px\" type=\"index\" />\n      <el-table-column label=\"属性名\" prop=\"name\" min-width=\"100px\" show-overflow-tooltip />\n      <el-table-column label=\"属性值\" prop=\"value\" min-width=\"100px\" show-overflow-tooltip />\n      <el-table-column label=\"操作\" width=\"90px\">\n        <template slot-scope=\"{ row, $index }\">\n          <el-button size=\"mini\" type=\"text\" @click=\"openAttributesForm(row, $index)\">编辑</el-button>\n          <el-divider direction=\"vertical\" />\n          <el-button size=\"mini\" type=\"text\" style=\"color: #ff4d4f\" @click=\"removeAttributes(row, $index)\">移除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <div class=\"element-drawer__button\">\n      <el-button size=\"mini\" type=\"primary\" icon=\"el-icon-plus\" @click=\"openAttributesForm(null, -1)\">添加属性</el-button>\n    </div>\n\n    <el-dialog :visible.sync=\"propertyFormModelVisible\" title=\"属性配置\" width=\"600px\" append-to-body destroy-on-close>\n      <el-form :model=\"propertyForm\" label-width=\"80px\" size=\"mini\" ref=\"attributeFormRef\" @submit.native.prevent>\n        <el-form-item label=\"属性名：\" prop=\"name\">\n          <el-input v-model=\"propertyForm.name\" clearable />\n        </el-form-item>\n        <el-form-item label=\"属性值：\" prop=\"value\">\n          <el-input v-model=\"propertyForm.value\" clearable />\n        </el-form-item>\n      </el-form>\n      <template slot=\"footer\">\n        <el-button size=\"mini\" @click=\"propertyFormModelVisible = false\">取 消</el-button>\n        <el-button size=\"mini\" type=\"primary\" @click=\"saveAttribute\">确 定</el-button>\n      </template>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"ElementProperties\",\n  props: {\n    id: String,\n    type: String\n  },\n  inject: {\n    prefix: \"prefix\",\n    width: \"width\"\n  },\n  data() {\n    return {\n      elementPropertyList: [],\n      propertyForm: {},\n      editingPropertyIndex: -1,\n      propertyFormModelVisible: false\n    };\n  },\n  watch: {\n    id: {\n      immediate: true,\n      handler(val) {\n        val && val.length && this.resetAttributesList();\n      }\n    }\n  },\n  methods: {\n    resetAttributesList() {\n      this.bpmnElement = window.bpmnInstances.bpmnElement;\n      this.otherExtensionList = []; // 其他扩展配置\n      this.bpmnElementProperties =\n        this.bpmnElement.businessObject?.extensionElements?.values?.filter(ex => {\n          if (ex.$type !== `${this.prefix}:Properties`) {\n            this.otherExtensionList.push(ex);\n          }\n          return ex.$type === `${this.prefix}:Properties`;\n        }) ?? [];\n\n      // 保存所有的 扩展属性字段\n      this.bpmnElementPropertyList = this.bpmnElementProperties.reduce((pre, current) => pre.concat(current.values), []);\n      // 复制 显示\n      this.elementPropertyList = JSON.parse(JSON.stringify(this.bpmnElementPropertyList ?? []));\n    },\n    openAttributesForm(attr, index) {\n      this.editingPropertyIndex = index;\n      this.propertyForm = index === -1 ? {} : JSON.parse(JSON.stringify(attr));\n      this.propertyFormModelVisible = true;\n      this.$nextTick(() => {\n        if (this.$refs[\"attributeFormRef\"]) this.$refs[\"attributeFormRef\"].clearValidate();\n      });\n    },\n    removeAttributes(attr, index) {\n      this.$confirm(\"确认移除该属性吗？\", \"提示\", {\n        confirmButtonText: \"确 认\",\n        cancelButtonText: \"取 消\"\n      })\n        .then(() => {\n          this.elementPropertyList.splice(index, 1);\n          this.bpmnElementPropertyList.splice(index, 1);\n          // 新建一个属性字段的保存列表\n          const propertiesObject = window.bpmnInstances.moddle.create(`${this.prefix}:Properties`, {\n            values: this.bpmnElementPropertyList\n          });\n          this.updateElementExtensions(propertiesObject);\n          this.resetAttributesList();\n        })\n        .catch(() => console.info(\"操作取消\"));\n    },\n    saveAttribute() {\n      // 新建属性字段\n      const newPropertyObject = window.bpmnInstances.moddle.create(`${this.prefix}:Property`, this.propertyForm);\n      // 新建一个属性字段的保存列表\n      const propertiesObject = window.bpmnInstances.moddle.create(`${this.prefix}:Properties`, {\n        values: this.bpmnElementPropertyList.concat([newPropertyObject])\n      });\n\n      this.updateElementExtensions(propertiesObject);\n      this.propertyFormModelVisible = false;\n      this.resetAttributesList();\n    },\n    updateElementExtensions(properties) {\n      const extensions = window.bpmnInstances.moddle.create(\"bpmn:ExtensionElements\", {\n        values: this.otherExtensionList.concat([properties])\n      });\n      window.bpmnInstances.modeling.updateProperties(this.bpmnElement, {\n        extensionElements: extensions\n      });\n    }\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementProperties.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementProperties.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ElementProperties.vue?vue&type=template&id=f40df4e6&\"\nimport script from \"./ElementProperties.vue?vue&type=script&lang=js&\"\nexport * from \"./ElementProperties.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"panel-tab__content\"},[_c('el-form',{attrs:{\"size\":\"mini\",\"label-width\":\"80px\"},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('el-form-item',{attrs:{\"label\":\"表单标识\"}},[_c('el-input',{attrs:{\"clearable\":\"\"},on:{\"change\":_vm.updateElementFormKey},model:{value:(_vm.formKey),callback:function ($$v) {_vm.formKey=$$v},expression:\"formKey\"}})],1),_c('el-form-item',{attrs:{\"label\":\"业务标识\"}},[_c('el-select',{on:{\"change\":_vm.updateElementBusinessKey},model:{value:(_vm.businessKey),callback:function ($$v) {_vm.businessKey=$$v},expression:\"businessKey\"}},[_vm._l((_vm.fieldList),function(i){return _c('el-option',{key:i.id,attrs:{\"value\":i.id,\"label\":i.label}})}),_c('el-option',{attrs:{\"label\":\"无\",\"value\":\"\"}})],2)],1)],1),_c('div',{staticClass:\"element-property list-property\"},[_c('el-divider',[_c('i',{staticClass:\"el-icon-coin\"}),_vm._v(\" 表单字段\")]),_c('el-table',{attrs:{\"data\":_vm.fieldList,\"size\":\"mini\",\"max-height\":\"240\",\"border\":\"\",\"fit\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"序号\",\"type\":\"index\",\"width\":\"50px\"}}),_c('el-table-column',{attrs:{\"label\":\"字段名称\",\"prop\":\"label\",\"min-width\":\"80px\",\"show-overflow-tooltip\":\"\"}}),_c('el-table-column',{attrs:{\"label\":\"字段类型\",\"prop\":\"type\",\"min-width\":\"80px\",\"formatter\":function (row) { return _vm.fieldType[row.type] || row.type; },\"show-overflow-tooltip\":\"\"}}),_c('el-table-column',{attrs:{\"label\":\"默认值\",\"prop\":\"defaultValue\",\"min-width\":\"80px\",\"show-overflow-tooltip\":\"\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"90px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nvar $index = ref.$index;\nreturn [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"text\"},on:{\"click\":function($event){return _vm.openFieldForm(row, $index)}}},[_vm._v(\"编辑\")]),_c('el-divider',{attrs:{\"direction\":\"vertical\"}}),_c('el-button',{staticStyle:{\"color\":\"#ff4d4f\"},attrs:{\"size\":\"mini\",\"type\":\"text\"},on:{\"click\":function($event){return _vm.removeField(row, $index)}}},[_vm._v(\"移除\")])]}}])})],1)],1),_c('div',{staticClass:\"element-drawer__button\"},[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\",\"icon\":\"el-icon-plus\"},on:{\"click\":function($event){return _vm.openFieldForm(null, -1)}}},[_vm._v(\"添加字段\")])],1),_c('el-drawer',{attrs:{\"visible\":_vm.fieldModelVisible,\"title\":\"字段配置\",\"size\":(_vm.width + \"px\"),\"append-to-body\":\"\",\"destroy-on-close\":\"\"},on:{\"update:visible\":function($event){_vm.fieldModelVisible=$event}}},[_c('el-form',{attrs:{\"model\":_vm.formFieldForm,\"label-width\":\"90px\",\"size\":\"mini\"},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('el-form-item',{attrs:{\"label\":\"字段ID\"}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.formFieldForm.id),callback:function ($$v) {_vm.$set(_vm.formFieldForm, \"id\", $$v)},expression:\"formFieldForm.id\"}})],1),_c('el-form-item',{attrs:{\"label\":\"类型\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择字段类型\",\"clearable\":\"\"},on:{\"change\":_vm.changeFieldTypeType},model:{value:(_vm.formFieldForm.typeType),callback:function ($$v) {_vm.$set(_vm.formFieldForm, \"typeType\", $$v)},expression:\"formFieldForm.typeType\"}},_vm._l((_vm.fieldType),function(value,key){return _c('el-option',{key:key,attrs:{\"label\":value,\"value\":key}})}),1)],1),(_vm.formFieldForm.typeType === 'custom')?_c('el-form-item',{attrs:{\"label\":\"类型名称\"}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.formFieldForm.type),callback:function ($$v) {_vm.$set(_vm.formFieldForm, \"type\", $$v)},expression:\"formFieldForm.type\"}})],1):_vm._e(),_c('el-form-item',{attrs:{\"label\":\"名称\"}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.formFieldForm.label),callback:function ($$v) {_vm.$set(_vm.formFieldForm, \"label\", $$v)},expression:\"formFieldForm.label\"}})],1),(_vm.formFieldForm.typeType === 'date')?_c('el-form-item',{attrs:{\"label\":\"时间格式\"}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.formFieldForm.datePattern),callback:function ($$v) {_vm.$set(_vm.formFieldForm, \"datePattern\", $$v)},expression:\"formFieldForm.datePattern\"}})],1):_vm._e(),_c('el-form-item',{attrs:{\"label\":\"默认值\"}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.formFieldForm.defaultValue),callback:function ($$v) {_vm.$set(_vm.formFieldForm, \"defaultValue\", $$v)},expression:\"formFieldForm.defaultValue\"}})],1)],1),(_vm.formFieldForm.type === 'enum')?[_c('el-divider',{key:\"enum-divider\"}),_c('p',{key:\"enum-title\",staticClass:\"listener-filed__title\"},[_c('span',[_c('i',{staticClass:\"el-icon-menu\"}),_vm._v(\"枚举值列表：\")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.openFieldOptionForm(null, -1, 'enum')}}},[_vm._v(\"添加枚举值\")])],1),_c('el-table',{key:\"enum-table\",attrs:{\"data\":_vm.fieldEnumList,\"size\":\"mini\",\"max-height\":\"240\",\"border\":\"\",\"fit\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"序号\",\"width\":\"50px\",\"type\":\"index\"}}),_c('el-table-column',{attrs:{\"label\":\"枚举值编号\",\"prop\":\"id\",\"min-width\":\"100px\",\"show-overflow-tooltip\":\"\"}}),_c('el-table-column',{attrs:{\"label\":\"枚举值名称\",\"prop\":\"name\",\"min-width\":\"100px\",\"show-overflow-tooltip\":\"\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"90px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nvar $index = ref.$index;\nreturn [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"text\"},on:{\"click\":function($event){return _vm.openFieldOptionForm(row, $index, 'enum')}}},[_vm._v(\"编辑\")]),_c('el-divider',{attrs:{\"direction\":\"vertical\"}}),_c('el-button',{staticStyle:{\"color\":\"#ff4d4f\"},attrs:{\"size\":\"mini\",\"type\":\"text\"},on:{\"click\":function($event){return _vm.removeFieldOptionItem(row, $index, 'enum')}}},[_vm._v(\"移除\")])]}}],null,false,1977609051)})],1)]:_vm._e(),_c('el-divider',{key:\"validation-divider\"}),_c('p',{key:\"validation-title\",staticClass:\"listener-filed__title\"},[_c('span',[_c('i',{staticClass:\"el-icon-menu\"}),_vm._v(\"约束条件列表：\")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.openFieldOptionForm(null, -1, 'constraint')}}},[_vm._v(\"添加约束\")])],1),_c('el-table',{key:\"validation-table\",attrs:{\"data\":_vm.fieldConstraintsList,\"size\":\"mini\",\"max-height\":\"240\",\"border\":\"\",\"fit\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"序号\",\"width\":\"50px\",\"type\":\"index\"}}),_c('el-table-column',{attrs:{\"label\":\"约束名称\",\"prop\":\"name\",\"min-width\":\"100px\",\"show-overflow-tooltip\":\"\"}}),_c('el-table-column',{attrs:{\"label\":\"约束配置\",\"prop\":\"config\",\"min-width\":\"100px\",\"show-overflow-tooltip\":\"\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"90px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nvar $index = ref.$index;\nreturn [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"text\"},on:{\"click\":function($event){return _vm.openFieldOptionForm(row, $index, 'constraint')}}},[_vm._v(\"编辑\")]),_c('el-divider',{attrs:{\"direction\":\"vertical\"}}),_c('el-button',{staticStyle:{\"color\":\"#ff4d4f\"},attrs:{\"size\":\"mini\",\"type\":\"text\"},on:{\"click\":function($event){return _vm.removeFieldOptionItem(row, $index, 'constraint')}}},[_vm._v(\"移除\")])]}}])})],1),_c('el-divider',{key:\"property-divider\"}),_c('p',{key:\"property-title\",staticClass:\"listener-filed__title\"},[_c('span',[_c('i',{staticClass:\"el-icon-menu\"}),_vm._v(\"字段属性列表：\")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.openFieldOptionForm(null, -1, 'property')}}},[_vm._v(\"添加属性\")])],1),_c('el-table',{key:\"property-table\",attrs:{\"data\":_vm.fieldPropertiesList,\"size\":\"mini\",\"max-height\":\"240\",\"border\":\"\",\"fit\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"序号\",\"width\":\"50px\",\"type\":\"index\"}}),_c('el-table-column',{attrs:{\"label\":\"属性编号\",\"prop\":\"id\",\"min-width\":\"100px\",\"show-overflow-tooltip\":\"\"}}),_c('el-table-column',{attrs:{\"label\":\"属性值\",\"prop\":\"value\",\"min-width\":\"100px\",\"show-overflow-tooltip\":\"\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"90px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nvar $index = ref.$index;\nreturn [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"text\"},on:{\"click\":function($event){return _vm.openFieldOptionForm(row, $index, 'property')}}},[_vm._v(\"编辑\")]),_c('el-divider',{attrs:{\"direction\":\"vertical\"}}),_c('el-button',{staticStyle:{\"color\":\"#ff4d4f\"},attrs:{\"size\":\"mini\",\"type\":\"text\"},on:{\"click\":function($event){return _vm.removeFieldOptionItem(row, $index, 'property')}}},[_vm._v(\"移除\")])]}}])})],1),_c('div',{staticClass:\"element-drawer__button\"},[_c('el-button',{attrs:{\"size\":\"mini\"}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":_vm.saveField}},[_vm._v(\"保 存\")])],1)],2),_c('el-dialog',{attrs:{\"visible\":_vm.fieldOptionModelVisible,\"title\":_vm.optionModelTitle,\"width\":\"600px\",\"append-to-body\":\"\",\"destroy-on-close\":\"\"},on:{\"update:visible\":function($event){_vm.fieldOptionModelVisible=$event}}},[_c('el-form',{attrs:{\"model\":_vm.fieldOptionForm,\"size\":\"mini\",\"label-width\":\"96px\"},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[(_vm.fieldOptionType !== 'constraint')?_c('el-form-item',{key:\"option-id\",attrs:{\"label\":\"编号/ID\"}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.fieldOptionForm.id),callback:function ($$v) {_vm.$set(_vm.fieldOptionForm, \"id\", $$v)},expression:\"fieldOptionForm.id\"}})],1):_vm._e(),(_vm.fieldOptionType !== 'property')?_c('el-form-item',{key:\"option-name\",attrs:{\"label\":\"名称\"}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.fieldOptionForm.name),callback:function ($$v) {_vm.$set(_vm.fieldOptionForm, \"name\", $$v)},expression:\"fieldOptionForm.name\"}})],1):_vm._e(),(_vm.fieldOptionType === 'constraint')?_c('el-form-item',{key:\"option-config\",attrs:{\"label\":\"配置\"}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.fieldOptionForm.config),callback:function ($$v) {_vm.$set(_vm.fieldOptionForm, \"config\", $$v)},expression:\"fieldOptionForm.config\"}})],1):_vm._e(),(_vm.fieldOptionType === 'property')?_c('el-form-item',{key:\"option-value\",attrs:{\"label\":\"值\"}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.fieldOptionForm.value),callback:function ($$v) {_vm.$set(_vm.fieldOptionForm, \"value\", $$v)},expression:\"fieldOptionForm.value\"}})],1):_vm._e()],1),_c('template',{slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){_vm.fieldOptionModelVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":_vm.saveFieldOption}},[_vm._v(\"确 定\")])],1)],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"panel-tab__content\">\n    <el-form size=\"mini\" label-width=\"80px\" @submit.native.prevent>\n      <el-form-item label=\"表单标识\">\n        <el-input v-model=\"formKey\" clearable @change=\"updateElementFormKey\" />\n      </el-form-item>\n      <el-form-item label=\"业务标识\">\n        <el-select v-model=\"businessKey\" @change=\"updateElementBusinessKey\">\n          <el-option v-for=\"i in fieldList\" :key=\"i.id\" :value=\"i.id\" :label=\"i.label\" />\n          <el-option label=\"无\" value=\"\" />\n        </el-select>\n      </el-form-item>\n    </el-form>\n\n    <!--字段列表-->\n    <div class=\"element-property list-property\">\n      <el-divider><i class=\"el-icon-coin\"></i> 表单字段</el-divider>\n      <el-table :data=\"fieldList\" size=\"mini\" max-height=\"240\" border fit>\n        <el-table-column label=\"序号\" type=\"index\" width=\"50px\" />\n        <el-table-column label=\"字段名称\" prop=\"label\" min-width=\"80px\" show-overflow-tooltip />\n        <el-table-column label=\"字段类型\" prop=\"type\" min-width=\"80px\" :formatter=\"row => fieldType[row.type] || row.type\" show-overflow-tooltip />\n        <el-table-column label=\"默认值\" prop=\"defaultValue\" min-width=\"80px\" show-overflow-tooltip />\n        <el-table-column label=\"操作\" width=\"90px\">\n          <template slot-scope=\"{ row, $index }\">\n            <el-button size=\"mini\" type=\"text\" @click=\"openFieldForm(row, $index)\">编辑</el-button>\n            <el-divider direction=\"vertical\" />\n            <el-button size=\"mini\" type=\"text\" style=\"color: #ff4d4f\" @click=\"removeField(row, $index)\">移除</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n    </div>\n    <div class=\"element-drawer__button\">\n      <el-button size=\"mini\" type=\"primary\" icon=\"el-icon-plus\" @click=\"openFieldForm(null, -1)\">添加字段</el-button>\n    </div>\n\n    <!--字段配置侧边栏-->\n    <el-drawer :visible.sync=\"fieldModelVisible\" title=\"字段配置\" :size=\"`${width}px`\" append-to-body destroy-on-close>\n      <el-form :model=\"formFieldForm\" label-width=\"90px\" size=\"mini\" @submit.native.prevent>\n        <el-form-item label=\"字段ID\">\n          <el-input v-model=\"formFieldForm.id\" clearable />\n        </el-form-item>\n        <el-form-item label=\"类型\">\n          <el-select v-model=\"formFieldForm.typeType\" placeholder=\"请选择字段类型\" clearable @change=\"changeFieldTypeType\">\n            <el-option v-for=\"(value, key) of fieldType\" :label=\"value\" :value=\"key\" :key=\"key\" />\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"类型名称\" v-if=\"formFieldForm.typeType === 'custom'\">\n          <el-input v-model=\"formFieldForm.type\" clearable />\n        </el-form-item>\n        <el-form-item label=\"名称\">\n          <el-input v-model=\"formFieldForm.label\" clearable />\n        </el-form-item>\n        <el-form-item label=\"时间格式\" v-if=\"formFieldForm.typeType === 'date'\">\n          <el-input v-model=\"formFieldForm.datePattern\" clearable />\n        </el-form-item>\n        <el-form-item label=\"默认值\">\n          <el-input v-model=\"formFieldForm.defaultValue\" clearable />\n        </el-form-item>\n      </el-form>\n\n      <!-- 枚举值设置 -->\n      <template v-if=\"formFieldForm.type === 'enum'\">\n        <el-divider key=\"enum-divider\" />\n        <p class=\"listener-filed__title\" key=\"enum-title\">\n          <span><i class=\"el-icon-menu\"></i>枚举值列表：</span>\n          <el-button size=\"mini\" type=\"primary\" @click=\"openFieldOptionForm(null, -1, 'enum')\">添加枚举值</el-button>\n        </p>\n        <el-table :data=\"fieldEnumList\" size=\"mini\" key=\"enum-table\" max-height=\"240\" border fit>\n          <el-table-column label=\"序号\" width=\"50px\" type=\"index\" />\n          <el-table-column label=\"枚举值编号\" prop=\"id\" min-width=\"100px\" show-overflow-tooltip />\n          <el-table-column label=\"枚举值名称\" prop=\"name\" min-width=\"100px\" show-overflow-tooltip />\n          <el-table-column label=\"操作\" width=\"90px\">\n            <template slot-scope=\"{ row, $index }\">\n              <el-button size=\"mini\" type=\"text\" @click=\"openFieldOptionForm(row, $index, 'enum')\">编辑</el-button>\n              <el-divider direction=\"vertical\" />\n              <el-button size=\"mini\" type=\"text\" style=\"color: #ff4d4f\" @click=\"removeFieldOptionItem(row, $index, 'enum')\">移除</el-button>\n            </template>\n          </el-table-column>\n        </el-table>\n      </template>\n\n      <!-- 校验规则 -->\n      <el-divider key=\"validation-divider\" />\n      <p class=\"listener-filed__title\" key=\"validation-title\">\n        <span><i class=\"el-icon-menu\"></i>约束条件列表：</span>\n        <el-button size=\"mini\" type=\"primary\" @click=\"openFieldOptionForm(null, -1, 'constraint')\">添加约束</el-button>\n      </p>\n      <el-table :data=\"fieldConstraintsList\" size=\"mini\" key=\"validation-table\" max-height=\"240\" border fit>\n        <el-table-column label=\"序号\" width=\"50px\" type=\"index\" />\n        <el-table-column label=\"约束名称\" prop=\"name\" min-width=\"100px\" show-overflow-tooltip />\n        <el-table-column label=\"约束配置\" prop=\"config\" min-width=\"100px\" show-overflow-tooltip />\n        <el-table-column label=\"操作\" width=\"90px\">\n          <template slot-scope=\"{ row, $index }\">\n            <el-button size=\"mini\" type=\"text\" @click=\"openFieldOptionForm(row, $index, 'constraint')\">编辑</el-button>\n            <el-divider direction=\"vertical\" />\n            <el-button size=\"mini\" type=\"text\" style=\"color: #ff4d4f\" @click=\"removeFieldOptionItem(row, $index, 'constraint')\">移除</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n\n      <!-- 表单属性 -->\n      <el-divider key=\"property-divider\" />\n      <p class=\"listener-filed__title\" key=\"property-title\">\n        <span><i class=\"el-icon-menu\"></i>字段属性列表：</span>\n        <el-button size=\"mini\" type=\"primary\" @click=\"openFieldOptionForm(null, -1, 'property')\">添加属性</el-button>\n      </p>\n      <el-table :data=\"fieldPropertiesList\" size=\"mini\" key=\"property-table\" max-height=\"240\" border fit>\n        <el-table-column label=\"序号\" width=\"50px\" type=\"index\" />\n        <el-table-column label=\"属性编号\" prop=\"id\" min-width=\"100px\" show-overflow-tooltip />\n        <el-table-column label=\"属性值\" prop=\"value\" min-width=\"100px\" show-overflow-tooltip />\n        <el-table-column label=\"操作\" width=\"90px\">\n          <template slot-scope=\"{ row, $index }\">\n            <el-button size=\"mini\" type=\"text\" @click=\"openFieldOptionForm(row, $index, 'property')\">编辑</el-button>\n            <el-divider direction=\"vertical\" />\n            <el-button size=\"mini\" type=\"text\" style=\"color: #ff4d4f\" @click=\"removeFieldOptionItem(row, $index, 'property')\">移除</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n\n      <!-- 底部按钮 -->\n      <div class=\"element-drawer__button\">\n        <el-button size=\"mini\">取 消</el-button>\n        <el-button size=\"mini\" type=\"primary\" @click=\"saveField\">保 存</el-button>\n      </div>\n    </el-drawer>\n\n    <el-dialog :visible.sync=\"fieldOptionModelVisible\" :title=\"optionModelTitle\" width=\"600px\" append-to-body destroy-on-close>\n      <el-form :model=\"fieldOptionForm\" size=\"mini\" label-width=\"96px\" @submit.native.prevent>\n        <el-form-item label=\"编号/ID\" v-if=\"fieldOptionType !== 'constraint'\" key=\"option-id\">\n          <el-input v-model=\"fieldOptionForm.id\" clearable />\n        </el-form-item>\n        <el-form-item label=\"名称\" v-if=\"fieldOptionType !== 'property'\" key=\"option-name\">\n          <el-input v-model=\"fieldOptionForm.name\" clearable />\n        </el-form-item>\n        <el-form-item label=\"配置\" v-if=\"fieldOptionType === 'constraint'\" key=\"option-config\">\n          <el-input v-model=\"fieldOptionForm.config\" clearable />\n        </el-form-item>\n        <el-form-item label=\"值\" v-if=\"fieldOptionType === 'property'\" key=\"option-value\">\n          <el-input v-model=\"fieldOptionForm.value\" clearable />\n        </el-form-item>\n      </el-form>\n      <template slot=\"footer\">\n        <el-button size=\"mini\" @click=\"fieldOptionModelVisible = false\">取 消</el-button>\n        <el-button size=\"mini\" type=\"primary\" @click=\"saveFieldOption\">确 定</el-button>\n      </template>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"ElementForm\",\n  props: {\n    id: String,\n    type: String\n  },\n  inject: {\n    prefix: \"prefix\",\n    width: \"width\"\n  },\n  data() {\n    return {\n      formKey: \"\",\n      businessKey: \"\",\n      optionModelTitle: \"\",\n      fieldList: [],\n      formFieldForm: {},\n      fieldType: {\n        long: \"长整型\",\n        string: \"字符串\",\n        boolean: \"布尔类\",\n        date: \"日期类\",\n        enum: \"枚举类\",\n        custom: \"自定义类型\"\n      },\n      formFieldIndex: -1, // 编辑中的字段， -1 为新增\n      formFieldOptionIndex: -1, // 编辑中的字段配置项， -1 为新增\n      fieldModelVisible: false,\n      fieldOptionModelVisible: false,\n      fieldOptionForm: {}, // 当前激活的字段配置项数据\n      fieldOptionType: \"\", // 当前激活的字段配置项弹窗 类型\n      fieldEnumList: [], // 枚举值列表\n      fieldConstraintsList: [], // 约束条件列表\n      fieldPropertiesList: [] // 绑定属性列表\n    };\n  },\n  watch: {\n    id: {\n      immediate: true,\n      handler(val) {\n        val && val.length && this.$nextTick(() => this.resetFormList());\n      }\n    }\n  },\n  methods: {\n    resetFormList() {\n      this.bpmnELement = window.bpmnInstances.bpmnElement;\n      this.formKey = this.bpmnELement.businessObject.formKey;\n      // 获取元素扩展属性 或者 创建扩展属性\n      this.elExtensionElements =\n        this.bpmnELement.businessObject.get(\"extensionElements\") || window.bpmnInstances.moddle.create(\"bpmn:ExtensionElements\", { values: [] });\n      // 获取元素表单配置 或者 创建新的表单配置\n      this.formData =\n        this.elExtensionElements.values.filter(ex => ex.$type === `${this.prefix}:FormData`)?.[0] ||\n        window.bpmnInstances.moddle.create(`${this.prefix}:FormData`, { fields: [] });\n\n      // 业务标识 businessKey， 绑定在 formData 中\n      this.businessKey = this.formData.businessKey;\n\n      // 保留剩余扩展元素，便于后面更新该元素对应属性\n      this.otherExtensions = this.elExtensionElements.values.filter(ex => ex.$type !== `${this.prefix}:FormData`);\n\n      // 复制原始值，填充表格\n      this.fieldList = JSON.parse(JSON.stringify(this.formData.fields || []));\n\n      // 更新元素扩展属性，避免后续报错\n      // this.updateElementExtensions();\n    },\n    updateElementFormKey() {\n      window.bpmnInstances.modeling.updateProperties(this.bpmnELement, { formKey: this.formKey });\n    },\n    updateElementBusinessKey() {\n      window.bpmnInstances.modeling.updateModdleProperties(this.bpmnELement, this.formData, { businessKey: this.businessKey });\n    },\n    // 根据类型调整字段type\n    changeFieldTypeType(type) {\n      this.$set(this.formFieldForm, \"type\", type === \"custom\" ? \"\" : type);\n    },\n\n    // 打开字段详情侧边栏\n    openFieldForm(field, index) {\n      this.formFieldIndex = index;\n      if (index !== -1) {\n        const FieldObject = this.formData.fields[index];\n        this.formFieldForm = JSON.parse(JSON.stringify(field));\n        // 设置自定义类型\n        this.$set(this.formFieldForm, \"typeType\", !this.fieldType[field.type] ? \"custom\" : field.type);\n        // 初始化枚举值列表\n        field.type === \"enum\" && (this.fieldEnumList = JSON.parse(JSON.stringify(FieldObject?.values || [])));\n        // 初始化约束条件列表\n        this.fieldConstraintsList = JSON.parse(JSON.stringify(FieldObject?.validation?.constraints || []));\n        // 初始化自定义属性列表\n        this.fieldPropertiesList = JSON.parse(JSON.stringify(FieldObject?.properties?.values || []));\n      } else {\n        this.formFieldForm = {};\n        // 初始化枚举值列表\n        this.fieldEnumList = [];\n        // 初始化约束条件列表\n        this.fieldConstraintsList = [];\n        // 初始化自定义属性列表\n        this.fieldPropertiesList = [];\n      }\n      this.fieldModelVisible = true;\n    },\n    // 打开字段 某个 配置项 弹窗\n    openFieldOptionForm(option, index, type) {\n      this.fieldOptionModelVisible = true;\n      this.fieldOptionType = type;\n      this.formFieldOptionIndex = index;\n      if (type === \"property\") {\n        this.fieldOptionForm = option ? JSON.parse(JSON.stringify(option)) : {};\n        return (this.optionModelTitle = \"属性配置\");\n      }\n      if (type === \"enum\") {\n        this.fieldOptionForm = option ? JSON.parse(JSON.stringify(option)) : {};\n        return (this.optionModelTitle = \"枚举值配置\");\n      }\n      this.fieldOptionForm = option ? JSON.parse(JSON.stringify(option)) : {};\n      return (this.optionModelTitle = \"约束条件配置\");\n    },\n\n    // 保存字段 某个 配置项\n    saveFieldOption() {\n      if (this.formFieldOptionIndex === -1) {\n        if (this.fieldOptionType === \"property\") {\n          this.fieldPropertiesList.push(this.fieldOptionForm);\n        }\n        if (this.fieldOptionType === \"constraint\") {\n          this.fieldConstraintsList.push(this.fieldOptionForm);\n        }\n        if (this.fieldOptionType === \"enum\") {\n          this.fieldEnumList.push(this.fieldOptionForm);\n        }\n      } else {\n        this.fieldOptionType === \"property\" && this.fieldPropertiesList.splice(this.formFieldOptionIndex, 1, this.fieldOptionForm);\n        this.fieldOptionType === \"constraint\" && this.fieldConstraintsList.splice(this.formFieldOptionIndex, 1, this.fieldOptionForm);\n        this.fieldOptionType === \"enum\" && this.fieldEnumList.splice(this.formFieldOptionIndex, 1, this.fieldOptionForm);\n      }\n      this.fieldOptionModelVisible = false;\n      this.fieldOptionForm = {};\n    },\n    // 保存字段配置\n    saveField() {\n      const { id, type, label, defaultValue, datePattern } = this.formFieldForm;\n      const Field = window.bpmnInstances.moddle.create(`${this.prefix}:FormField`, { id, type, label });\n      defaultValue && (Field.defaultValue = defaultValue);\n      datePattern && (Field.datePattern = datePattern);\n      // 构建属性\n      if (this.fieldPropertiesList && this.fieldPropertiesList.length) {\n        const fieldPropertyList = this.fieldPropertiesList.map(fp => {\n          return window.bpmnInstances.moddle.create(`${this.prefix}:Property`, { id: fp.id, value: fp.value });\n        });\n        Field.properties = window.bpmnInstances.moddle.create(`${this.prefix}:Properties`, { values: fieldPropertyList });\n      }\n      // 构建校验规则\n      if (this.fieldConstraintsList && this.fieldConstraintsList.length) {\n        const fieldConstraintList = this.fieldConstraintsList.map(fc => {\n          return window.bpmnInstances.moddle.create(`${this.prefix}:Constraint`, { name: fc.name, config: fc.config });\n        });\n        Field.validation = window.bpmnInstances.moddle.create(`${this.prefix}:Validation`, { constraints: fieldConstraintList });\n      }\n      // 构建枚举值\n      if (this.fieldEnumList && this.fieldEnumList.length) {\n        Field.values = this.fieldEnumList.map(fe => {\n          return window.bpmnInstances.moddle.create(`${this.prefix}:Value`, { name: fe.name, id: fe.id });\n        });\n      }\n      // 更新数组 与 表单配置实例\n      if (this.formFieldIndex === -1) {\n        this.fieldList.push(this.formFieldForm);\n        this.formData.fields.push(Field);\n      } else {\n        this.fieldList.splice(this.formFieldIndex, 1, this.formFieldForm);\n        this.formData.fields.splice(this.formFieldIndex, 1, Field);\n      }\n      this.updateElementExtensions();\n      this.fieldModelVisible = false;\n    },\n\n    // 移除某个 字段的 配置项\n    removeFieldOptionItem(option, index, type) {\n      if (type === \"property\") {\n        this.fieldPropertiesList.splice(index, 1);\n        return;\n      }\n      if (type === \"enum\") {\n        this.fieldEnumList.splice(index, 1);\n        return;\n      }\n      this.fieldConstraintsList.splice(index, 1);\n    },\n    // 移除 字段\n    removeField(field, index) {\n      this.fieldList.splice(index, 1);\n      this.formData.fields.splice(index, 1);\n      this.updateElementExtensions();\n    },\n\n    updateElementExtensions() {\n      // 更新回扩展元素\n      const newElExtensionElements = window.bpmnInstances.moddle.create(`bpmn:ExtensionElements`, {\n        values: this.otherExtensions.concat(this.formData)\n      });\n      // 更新到元素上\n      window.bpmnInstances.modeling.updateProperties(this.bpmnELement, {\n        extensionElements: newElExtensionElements\n      });\n    }\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ElementForm.vue?vue&type=template&id=10d9bebc&\"\nimport script from \"./ElementForm.vue?vue&type=script&lang=js&\"\nexport * from \"./ElementForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"panel-tab__content\"},[_c('el-table',{attrs:{\"data\":_vm.elementListenersList,\"size\":\"mini\",\"border\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"序号\",\"width\":\"50px\",\"type\":\"index\"}}),_c('el-table-column',{attrs:{\"label\":\"事件类型\",\"min-width\":\"80px\",\"show-overflow-tooltip\":\"\",\"formatter\":function (row) { return _vm.listenerEventTypeObject[row.event]; }}}),(this.prefix == 'camunda')?_c('el-table-column',{attrs:{\"label\":\"事件id\",\"min-width\":\"80px\",\"prop\":\"id\",\"show-overflow-tooltip\":\"\"}}):_vm._e(),_c('el-table-column',{attrs:{\"label\":\"监听器类型\",\"min-width\":\"80px\",\"show-overflow-tooltip\":\"\",\"formatter\":function (row) { return _vm.listenerTypeObject[row.listenerType]; }}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"90px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nvar $index = ref.$index;\nreturn [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"text\"},on:{\"click\":function($event){return _vm.openListenerForm(row, $index)}}},[_vm._v(\"编辑\")]),_c('el-divider',{attrs:{\"direction\":\"vertical\"}}),_c('el-button',{staticStyle:{\"color\":\"#ff4d4f\"},attrs:{\"size\":\"mini\",\"type\":\"text\"},on:{\"click\":function($event){return _vm.removeListener(row, $index)}}},[_vm._v(\"移除\")])]}}])})],1),_c('div',{staticClass:\"element-drawer__button\"},[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\",\"icon\":\"el-icon-plus\"},on:{\"click\":function($event){return _vm.openListenerForm(null)}}},[_vm._v(\"添加监听器\")])],1),_c('el-drawer',{attrs:{\"visible\":_vm.listenerFormModelVisible,\"title\":\"任务监听器\",\"size\":(_vm.width + \"px\"),\"append-to-body\":\"\",\"destroy-on-close\":\"\"},on:{\"update:visible\":function($event){_vm.listenerFormModelVisible=$event}}},[_c('el-form',{ref:\"listenerFormRef\",attrs:{\"size\":\"mini\",\"model\":_vm.listenerForm,\"label-width\":\"96px\"},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('el-form-item',{attrs:{\"label\":\"事件类型\",\"prop\":\"event\",\"rules\":{ required: true, trigger: ['blur', 'change'] }}},[_c('el-select',{model:{value:(_vm.listenerForm.event),callback:function ($$v) {_vm.$set(_vm.listenerForm, \"event\", $$v)},expression:\"listenerForm.event\"}},_vm._l((Object.keys(_vm.listenerEventTypeObject)),function(i){return _c('el-option',{key:i,attrs:{\"label\":_vm.listenerEventTypeObject[i],\"value\":i}})}),1)],1),(this.prefix == 'camunda')?_c('el-form-item',{attrs:{\"label\":\"监听器ID\",\"prop\":\"id\",\"rules\":{ required: true, trigger: ['blur', 'change'] }}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.listenerForm.id),callback:function ($$v) {_vm.$set(_vm.listenerForm, \"id\", $$v)},expression:\"listenerForm.id\"}})],1):_vm._e(),_c('el-form-item',{attrs:{\"label\":\"监听器类型\",\"prop\":\"listenerType\",\"rules\":{ required: true, trigger: ['blur', 'change'] }}},[_c('el-select',{model:{value:(_vm.listenerForm.listenerType),callback:function ($$v) {_vm.$set(_vm.listenerForm, \"listenerType\", $$v)},expression:\"listenerForm.listenerType\"}},_vm._l((Object.keys(_vm.listenerTypeObject)),function(i){return _c('el-option',{key:i,attrs:{\"label\":_vm.listenerTypeObject[i],\"value\":i}})}),1)],1),(_vm.listenerForm.listenerType === 'classListener')?_c('el-form-item',{key:\"listener-class\",attrs:{\"label\":\"Java类\",\"prop\":\"class\",\"rules\":{ required: true, trigger: ['blur', 'change'] }}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.listenerForm.class),callback:function ($$v) {_vm.$set(_vm.listenerForm, \"class\", $$v)},expression:\"listenerForm.class\"}})],1):_vm._e(),(_vm.listenerForm.listenerType === 'expressionListener')?_c('el-form-item',{key:\"listener-expression\",attrs:{\"label\":\"表达式\",\"prop\":\"expression\",\"rules\":{ required: true, trigger: ['blur', 'change'] }}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.listenerForm.expression),callback:function ($$v) {_vm.$set(_vm.listenerForm, \"expression\", $$v)},expression:\"listenerForm.expression\"}})],1):_vm._e(),(_vm.listenerForm.listenerType === 'delegateExpressionListener')?_c('el-form-item',{key:\"listener-delegate\",attrs:{\"label\":\"代理表达式\",\"prop\":\"delegateExpression\",\"rules\":{ required: true, trigger: ['blur', 'change'] }}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.listenerForm.delegateExpression),callback:function ($$v) {_vm.$set(_vm.listenerForm, \"delegateExpression\", $$v)},expression:\"listenerForm.delegateExpression\"}})],1):_vm._e(),(_vm.listenerForm.listenerType === 'scriptListener')?[_c('el-form-item',{key:\"listener-script-format\",attrs:{\"label\":\"脚本格式\",\"prop\":\"scriptFormat\",\"rules\":{ required: true, trigger: ['blur', 'change'], message: '请填写脚本格式' }}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.listenerForm.scriptFormat),callback:function ($$v) {_vm.$set(_vm.listenerForm, \"scriptFormat\", $$v)},expression:\"listenerForm.scriptFormat\"}})],1),_c('el-form-item',{key:\"listener-script-type\",attrs:{\"label\":\"脚本类型\",\"prop\":\"scriptType\",\"rules\":{ required: true, trigger: ['blur', 'change'], message: '请选择脚本类型' }}},[_c('el-select',{model:{value:(_vm.listenerForm.scriptType),callback:function ($$v) {_vm.$set(_vm.listenerForm, \"scriptType\", $$v)},expression:\"listenerForm.scriptType\"}},[_c('el-option',{attrs:{\"label\":\"内联脚本\",\"value\":\"inlineScript\"}}),_c('el-option',{attrs:{\"label\":\"外部脚本\",\"value\":\"externalScript\"}})],1)],1),(_vm.listenerForm.scriptType === 'inlineScript')?_c('el-form-item',{key:\"listener-script\",attrs:{\"label\":\"脚本内容\",\"prop\":\"value\",\"rules\":{ required: true, trigger: ['blur', 'change'], message: '请填写脚本内容' }}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.listenerForm.value),callback:function ($$v) {_vm.$set(_vm.listenerForm, \"value\", $$v)},expression:\"listenerForm.value\"}})],1):_vm._e(),(_vm.listenerForm.scriptType === 'externalScript')?_c('el-form-item',{key:\"listener-resource\",attrs:{\"label\":\"资源地址\",\"prop\":\"resource\",\"rules\":{ required: true, trigger: ['blur', 'change'], message: '请填写资源地址' }}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.listenerForm.resource),callback:function ($$v) {_vm.$set(_vm.listenerForm, \"resource\", $$v)},expression:\"listenerForm.resource\"}})],1):_vm._e()]:_vm._e(),(_vm.listenerForm.event === 'timeout')?[_c('el-form-item',{key:\"eventDefinitionType\",attrs:{\"label\":\"定时器类型\",\"prop\":\"eventDefinitionType\"}},[_c('el-select',{model:{value:(_vm.listenerForm.eventDefinitionType),callback:function ($$v) {_vm.$set(_vm.listenerForm, \"eventDefinitionType\", $$v)},expression:\"listenerForm.eventDefinitionType\"}},[_c('el-option',{attrs:{\"label\":\"日期\",\"value\":\"date\"}}),_c('el-option',{attrs:{\"label\":\"持续时长\",\"value\":\"duration\"}}),_c('el-option',{attrs:{\"label\":\"循环\",\"value\":\"cycle\"}}),_c('el-option',{attrs:{\"label\":\"无\",\"value\":\"null\"}})],1)],1),(!!_vm.listenerForm.eventDefinitionType && _vm.listenerForm.eventDefinitionType !== 'null')?_c('el-form-item',{key:\"eventTimeDefinitions\",attrs:{\"label\":\"定时器\",\"prop\":\"eventTimeDefinitions\",\"rules\":{ required: true, trigger: ['blur', 'change'], message: '请填写定时器配置' }}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.listenerForm.eventTimeDefinitions),callback:function ($$v) {_vm.$set(_vm.listenerForm, \"eventTimeDefinitions\", $$v)},expression:\"listenerForm.eventTimeDefinitions\"}})],1):_vm._e()]:_vm._e()],2),_c('el-divider'),_c('p',{staticClass:\"listener-filed__title\"},[_c('span',[_c('i',{staticClass:\"el-icon-menu\"}),_vm._v(\"注入字段：\")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.openListenerFieldForm(null)}}},[_vm._v(\"添加字段\")])],1),_c('el-table',{staticStyle:{\"flex\":\"none\"},attrs:{\"data\":_vm.fieldsListOfListener,\"size\":\"mini\",\"max-height\":\"240\",\"border\":\"\",\"fit\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"序号\",\"width\":\"50px\",\"type\":\"index\"}}),_c('el-table-column',{attrs:{\"label\":\"字段名称\",\"min-width\":\"100px\",\"prop\":\"name\"}}),_c('el-table-column',{attrs:{\"label\":\"字段类型\",\"min-width\":\"80px\",\"show-overflow-tooltip\":\"\",\"formatter\":function (row) { return _vm.fieldTypeObject[row.fieldType]; }}}),_c('el-table-column',{attrs:{\"label\":\"字段值/表达式\",\"min-width\":\"100px\",\"show-overflow-tooltip\":\"\",\"formatter\":function (row) { return row.string || row.expression; }}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"100px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nvar $index = ref.$index;\nreturn [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"text\"},on:{\"click\":function($event){return _vm.openListenerFieldForm(row, $index)}}},[_vm._v(\"编辑\")]),_c('el-divider',{attrs:{\"direction\":\"vertical\"}}),_c('el-button',{staticStyle:{\"color\":\"#ff4d4f\"},attrs:{\"size\":\"mini\",\"type\":\"text\"},on:{\"click\":function($event){return _vm.removeListenerField(row, $index)}}},[_vm._v(\"移除\")])]}}])})],1),_c('div',{staticClass:\"element-drawer__button\"},[_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){_vm.listenerFormModelVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":_vm.saveListenerConfig}},[_vm._v(\"保 存\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"字段配置\",\"visible\":_vm.listenerFieldFormModelVisible,\"width\":\"600px\",\"append-to-body\":\"\",\"destroy-on-close\":\"\"},on:{\"update:visible\":function($event){_vm.listenerFieldFormModelVisible=$event}}},[_c('el-form',{ref:\"listenerFieldFormRef\",staticStyle:{\"height\":\"136px\"},attrs:{\"model\":_vm.listenerFieldForm,\"size\":\"mini\",\"label-width\":\"96px\"},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('el-form-item',{attrs:{\"label\":\"字段名称：\",\"prop\":\"name\",\"rules\":{ required: true, trigger: ['blur', 'change'] }}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.listenerFieldForm.name),callback:function ($$v) {_vm.$set(_vm.listenerFieldForm, \"name\", $$v)},expression:\"listenerFieldForm.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"字段类型：\",\"prop\":\"fieldType\",\"rules\":{ required: true, trigger: ['blur', 'change'] }}},[_c('el-select',{model:{value:(_vm.listenerFieldForm.fieldType),callback:function ($$v) {_vm.$set(_vm.listenerFieldForm, \"fieldType\", $$v)},expression:\"listenerFieldForm.fieldType\"}},_vm._l((Object.keys(_vm.fieldTypeObject)),function(i){return _c('el-option',{key:i,attrs:{\"label\":_vm.fieldTypeObject[i],\"value\":i}})}),1)],1),(_vm.listenerFieldForm.fieldType === 'string')?_c('el-form-item',{key:\"field-string\",attrs:{\"label\":\"字段值：\",\"prop\":\"string\",\"rules\":{ required: true, trigger: ['blur', 'change'] }}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.listenerFieldForm.string),callback:function ($$v) {_vm.$set(_vm.listenerFieldForm, \"string\", $$v)},expression:\"listenerFieldForm.string\"}})],1):_vm._e(),(_vm.listenerFieldForm.fieldType === 'expression')?_c('el-form-item',{key:\"field-expression\",attrs:{\"label\":\"表达式：\",\"prop\":\"expression\",\"rules\":{ required: true, trigger: ['blur', 'change'] }}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.listenerFieldForm.expression),callback:function ($$v) {_vm.$set(_vm.listenerFieldForm, \"expression\", $$v)},expression:\"listenerFieldForm.expression\"}})],1):_vm._e()],1),_c('template',{slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){_vm.listenerFieldFormModelVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":_vm.saveListenerFiled}},[_vm._v(\"确 定\")])],1)],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"panel-tab__content\">\n    <el-table :data=\"elementListenersList\" size=\"mini\" border>\n      <el-table-column label=\"序号\" width=\"50px\" type=\"index\" />\n      <el-table-column label=\"事件类型\" min-width=\"80px\" show-overflow-tooltip :formatter=\"row => listenerEventTypeObject[row.event]\" />\n      <el-table-column label=\"事件id\" v-if=\"this.prefix == 'camunda'\" min-width=\"80px\" prop=\"id\" show-overflow-tooltip />\n      <el-table-column label=\"监听器类型\" min-width=\"80px\" show-overflow-tooltip :formatter=\"row => listenerTypeObject[row.listenerType]\" />\n      <el-table-column label=\"操作\" width=\"90px\">\n        <template slot-scope=\"{ row, $index }\">\n          <el-button size=\"mini\" type=\"text\" @click=\"openListenerForm(row, $index)\">编辑</el-button>\n          <el-divider direction=\"vertical\" />\n          <el-button size=\"mini\" type=\"text\" style=\"color: #ff4d4f\" @click=\"removeListener(row, $index)\">移除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <div class=\"element-drawer__button\">\n      <el-button size=\"mini\" type=\"primary\" icon=\"el-icon-plus\" @click=\"openListenerForm(null)\">添加监听器</el-button>\n    </div>\n\n    <!-- 监听器 编辑/创建 部分 -->\n    <el-drawer :visible.sync=\"listenerFormModelVisible\" title=\"任务监听器\" :size=\"`${width}px`\" append-to-body destroy-on-close>\n      <el-form size=\"mini\" :model=\"listenerForm\" label-width=\"96px\" ref=\"listenerFormRef\" @submit.native.prevent>\n        <el-form-item label=\"事件类型\" prop=\"event\" :rules=\"{ required: true, trigger: ['blur', 'change'] }\">\n          <el-select v-model=\"listenerForm.event\">\n            <el-option v-for=\"i in Object.keys(listenerEventTypeObject)\" :key=\"i\" :label=\"listenerEventTypeObject[i]\" :value=\"i\" />\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"监听器ID\" v-if=\"this.prefix == 'camunda'\" prop=\"id\" :rules=\"{ required: true, trigger: ['blur', 'change'] }\">\n          <el-input v-model=\"listenerForm.id\" clearable />\n        </el-form-item>\n        <el-form-item label=\"监听器类型\" prop=\"listenerType\" :rules=\"{ required: true, trigger: ['blur', 'change'] }\">\n          <el-select v-model=\"listenerForm.listenerType\">\n            <el-option v-for=\"i in Object.keys(listenerTypeObject)\" :key=\"i\" :label=\"listenerTypeObject[i]\" :value=\"i\" />\n          </el-select>\n        </el-form-item>\n        <el-form-item\n          v-if=\"listenerForm.listenerType === 'classListener'\"\n          label=\"Java类\"\n          prop=\"class\"\n          key=\"listener-class\"\n          :rules=\"{ required: true, trigger: ['blur', 'change'] }\"\n        >\n          <el-input v-model=\"listenerForm.class\" clearable />\n        </el-form-item>\n        <el-form-item\n          v-if=\"listenerForm.listenerType === 'expressionListener'\"\n          label=\"表达式\"\n          prop=\"expression\"\n          key=\"listener-expression\"\n          :rules=\"{ required: true, trigger: ['blur', 'change'] }\"\n        >\n          <el-input v-model=\"listenerForm.expression\" clearable />\n        </el-form-item>\n        <el-form-item\n          v-if=\"listenerForm.listenerType === 'delegateExpressionListener'\"\n          label=\"代理表达式\"\n          prop=\"delegateExpression\"\n          key=\"listener-delegate\"\n          :rules=\"{ required: true, trigger: ['blur', 'change'] }\"\n        >\n          <el-input v-model=\"listenerForm.delegateExpression\" clearable />\n        </el-form-item>\n        <template v-if=\"listenerForm.listenerType === 'scriptListener'\">\n          <el-form-item\n            label=\"脚本格式\"\n            prop=\"scriptFormat\"\n            key=\"listener-script-format\"\n            :rules=\"{ required: true, trigger: ['blur', 'change'], message: '请填写脚本格式' }\"\n          >\n            <el-input v-model=\"listenerForm.scriptFormat\" clearable />\n          </el-form-item>\n          <el-form-item\n            label=\"脚本类型\"\n            prop=\"scriptType\"\n            key=\"listener-script-type\"\n            :rules=\"{ required: true, trigger: ['blur', 'change'], message: '请选择脚本类型' }\"\n          >\n            <el-select v-model=\"listenerForm.scriptType\">\n              <el-option label=\"内联脚本\" value=\"inlineScript\" />\n              <el-option label=\"外部脚本\" value=\"externalScript\" />\n            </el-select>\n          </el-form-item>\n          <el-form-item\n            v-if=\"listenerForm.scriptType === 'inlineScript'\"\n            label=\"脚本内容\"\n            prop=\"value\"\n            key=\"listener-script\"\n            :rules=\"{ required: true, trigger: ['blur', 'change'], message: '请填写脚本内容' }\"\n          >\n            <el-input v-model=\"listenerForm.value\" clearable />\n          </el-form-item>\n          <el-form-item\n            v-if=\"listenerForm.scriptType === 'externalScript'\"\n            label=\"资源地址\"\n            prop=\"resource\"\n            key=\"listener-resource\"\n            :rules=\"{ required: true, trigger: ['blur', 'change'], message: '请填写资源地址' }\"\n          >\n            <el-input v-model=\"listenerForm.resource\" clearable />\n          </el-form-item>\n        </template>\n\n        <template v-if=\"listenerForm.event === 'timeout'\">\n          <el-form-item label=\"定时器类型\" prop=\"eventDefinitionType\" key=\"eventDefinitionType\">\n            <el-select v-model=\"listenerForm.eventDefinitionType\">\n              <el-option label=\"日期\" value=\"date\" />\n              <el-option label=\"持续时长\" value=\"duration\" />\n              <el-option label=\"循环\" value=\"cycle\" />\n              <el-option label=\"无\" value=\"null\" />\n            </el-select>\n          </el-form-item>\n          <el-form-item\n            v-if=\"!!listenerForm.eventDefinitionType && listenerForm.eventDefinitionType !== 'null'\"\n            label=\"定时器\"\n            prop=\"eventTimeDefinitions\"\n            key=\"eventTimeDefinitions\"\n            :rules=\"{ required: true, trigger: ['blur', 'change'], message: '请填写定时器配置' }\"\n          >\n            <el-input v-model=\"listenerForm.eventTimeDefinitions\" clearable />\n          </el-form-item>\n        </template>\n      </el-form>\n\n      <el-divider />\n      <p class=\"listener-filed__title\">\n        <span><i class=\"el-icon-menu\"></i>注入字段：</span>\n        <el-button size=\"mini\" type=\"primary\" @click=\"openListenerFieldForm(null)\">添加字段</el-button>\n      </p>\n      <el-table :data=\"fieldsListOfListener\" size=\"mini\" max-height=\"240\" border fit style=\"flex: none\">\n        <el-table-column label=\"序号\" width=\"50px\" type=\"index\" />\n        <el-table-column label=\"字段名称\" min-width=\"100px\" prop=\"name\" />\n        <el-table-column label=\"字段类型\" min-width=\"80px\" show-overflow-tooltip :formatter=\"row => fieldTypeObject[row.fieldType]\" />\n        <el-table-column label=\"字段值/表达式\" min-width=\"100px\" show-overflow-tooltip :formatter=\"row => row.string || row.expression\" />\n        <el-table-column label=\"操作\" width=\"100px\">\n          <template slot-scope=\"{ row, $index }\">\n            <el-button size=\"mini\" type=\"text\" @click=\"openListenerFieldForm(row, $index)\">编辑</el-button>\n            <el-divider direction=\"vertical\" />\n            <el-button size=\"mini\" type=\"text\" style=\"color: #ff4d4f\" @click=\"removeListenerField(row, $index)\">移除</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n\n      <div class=\"element-drawer__button\">\n        <el-button size=\"mini\" @click=\"listenerFormModelVisible = false\">取 消</el-button>\n        <el-button size=\"mini\" type=\"primary\" @click=\"saveListenerConfig\">保 存</el-button>\n      </div>\n    </el-drawer>\n\n    <!-- 注入西段 编辑/创建 部分 -->\n    <el-dialog title=\"字段配置\" :visible.sync=\"listenerFieldFormModelVisible\" width=\"600px\" append-to-body destroy-on-close>\n      <el-form :model=\"listenerFieldForm\" size=\"mini\" label-width=\"96px\" ref=\"listenerFieldFormRef\" style=\"height: 136px\" @submit.native.prevent>\n        <el-form-item label=\"字段名称：\" prop=\"name\" :rules=\"{ required: true, trigger: ['blur', 'change'] }\">\n          <el-input v-model=\"listenerFieldForm.name\" clearable />\n        </el-form-item>\n        <el-form-item label=\"字段类型：\" prop=\"fieldType\" :rules=\"{ required: true, trigger: ['blur', 'change'] }\">\n          <el-select v-model=\"listenerFieldForm.fieldType\">\n            <el-option v-for=\"i in Object.keys(fieldTypeObject)\" :key=\"i\" :label=\"fieldTypeObject[i]\" :value=\"i\" />\n          </el-select>\n        </el-form-item>\n        <el-form-item\n          v-if=\"listenerFieldForm.fieldType === 'string'\"\n          label=\"字段值：\"\n          prop=\"string\"\n          key=\"field-string\"\n          :rules=\"{ required: true, trigger: ['blur', 'change'] }\"\n        >\n          <el-input v-model=\"listenerFieldForm.string\" clearable />\n        </el-form-item>\n        <el-form-item\n          v-if=\"listenerFieldForm.fieldType === 'expression'\"\n          label=\"表达式：\"\n          prop=\"expression\"\n          key=\"field-expression\"\n          :rules=\"{ required: true, trigger: ['blur', 'change'] }\"\n        >\n          <el-input v-model=\"listenerFieldForm.expression\" clearable />\n        </el-form-item>\n      </el-form>\n      <template slot=\"footer\">\n        <el-button size=\"mini\" @click=\"listenerFieldFormModelVisible = false\">取 消</el-button>\n        <el-button size=\"mini\" type=\"primary\" @click=\"saveListenerFiled\">确 定</el-button>\n      </template>\n    </el-dialog>\n  </div>\n</template>\n<script>\nimport { createListenerObject, updateElementExtensions } from \"../../utils\";\nimport { initListenerForm, initListenerType, eventType, listenerType, fieldType } from \"./utilSelf\";\n\nexport default {\n  name: \"UserTaskListeners\",\n  props: {\n    id: String,\n    type: String\n  },\n  inject: {\n    prefix: \"prefix\",\n    width: \"width\"\n  },\n  data() {\n    return {\n      elementListenersList: [],\n      listenerEventTypeObject: eventType,\n      listenerTypeObject: listenerType,\n      listenerFormModelVisible: false,\n      listenerForm: {},\n      fieldTypeObject: fieldType,\n      fieldsListOfListener: [],\n      listenerFieldFormModelVisible: false, // 监听器 注入字段表单弹窗 显示状态\n      editingListenerIndex: -1, // 监听器所在下标，-1 为新增\n      editingListenerFieldIndex: -1, // 字段所在下标，-1 为新增\n      listenerFieldForm: {} // 监听器 注入字段 详情表单\n    };\n  },\n  created() {\n    var type = eventType;\n    if (this.prefix != \"camunda\") {\n      delete type.update;\n      delete type.timeout;\n    }\n    this.listenerEventTypeObject = type;\n  },\n  watch: {\n    id: {\n      immediate: true,\n      handler(val) {\n        val && val.length && this.$nextTick(() => this.resetListenersList());\n      }\n    }\n  },\n  methods: {\n    resetListenersList() {\n      this.bpmnElement = window.bpmnInstances.bpmnElement;\n      this.otherExtensionList = [];\n      this.bpmnElementListeners = this.bpmnElement.businessObject?.extensionElements?.values?.filter(ex => ex.$type === `${this.prefix}:TaskListener`) ?? [];\n      this.elementListenersList = this.bpmnElementListeners.map(listener => initListenerType(listener));\n    },\n    openListenerForm(listener, index) {\n      if (listener) {\n        this.listenerForm = initListenerForm(listener);\n        this.editingListenerIndex = index;\n      } else {\n        this.listenerForm = {};\n        this.editingListenerIndex = -1; // 标记为新增\n      }\n      if (listener && listener.fields) {\n        this.fieldsListOfListener = listener.fields.map(field => ({ ...field, fieldType: field.string ? \"string\" : \"expression\" }));\n      } else {\n        this.fieldsListOfListener = [];\n        this.$set(this.listenerForm, \"fields\", []);\n      }\n      // 打开侧边栏并清楚验证状态\n      this.listenerFormModelVisible = true;\n      this.$nextTick(() => {\n        if (this.$refs[\"listenerFormRef\"]) this.$refs[\"listenerFormRef\"].clearValidate();\n      });\n    },\n    // 移除监听器\n    removeListener(listener, index) {\n      this.$confirm(\"确认移除该监听器吗？\", \"提示\", {\n        confirmButtonText: \"确 认\",\n        cancelButtonText: \"取 消\"\n      })\n        .then(() => {\n          this.bpmnElementListeners.splice(index, 1);\n          this.elementListenersList.splice(index, 1);\n          // 保存其他配置\n          this.otherExtensionList = this.bpmnElement.businessObject?.extensionElements?.values?.filter(ex => ex.$type !== `${this.prefix}:TaskListener`) ?? [];\n          updateElementExtensions(this.bpmnElement, this.otherExtensionList.concat(this.bpmnElementListeners));\n        })\n        .catch(() => console.info(\"操作取消\"));\n    },\n    // 保存监听器\n    async saveListenerConfig() {\n      let validateStatus = await this.$refs[\"listenerFormRef\"].validate();\n      if (!validateStatus) return; // 验证不通过直接返回\n      const listenerObject = createListenerObject(this.listenerForm, true, this.prefix);\n      if (this.editingListenerIndex === -1) {\n        this.bpmnElementListeners.push(listenerObject);\n        this.elementListenersList.push(this.listenerForm);\n      } else {\n        this.bpmnElementListeners.splice(this.editingListenerIndex, 1, listenerObject);\n        this.elementListenersList.splice(this.editingListenerIndex, 1, this.listenerForm);\n      }\n      // 保存其他配置\n      this.otherExtensionList = this.bpmnElement.businessObject?.extensionElements?.values?.filter(ex => ex.$type !== `${this.prefix}:TaskListener`) ?? [];\n      updateElementExtensions(this.bpmnElement, this.otherExtensionList.concat(this.bpmnElementListeners));\n      // 4. 隐藏侧边栏\n      this.listenerFormModelVisible = false;\n      this.listenerForm = {};\n    },\n    // 打开监听器字段编辑弹窗\n    openListenerFieldForm(field, index) {\n      this.listenerFieldForm = field ? JSON.parse(JSON.stringify(field)) : {};\n      this.editingListenerFieldIndex = field ? index : -1;\n      this.listenerFieldFormModelVisible = true;\n      this.$nextTick(() => {\n        if (this.$refs[\"listenerFieldFormRef\"]) this.$refs[\"listenerFieldFormRef\"].clearValidate();\n      });\n    },\n    // 保存监听器注入字段\n    async saveListenerFiled() {\n      let validateStatus = await this.$refs[\"listenerFieldFormRef\"].validate();\n      if (!validateStatus) return; // 验证不通过直接返回\n      //排他处理\n      Object.keys(this.fieldTypeObject).forEach(x => {\n        if (this.listenerFieldForm.fieldType !== x) {\n          this.listenerFieldForm[x] = undefined;\n        }\n      });\n      if (this.editingListenerFieldIndex === -1) {\n        this.fieldsListOfListener.push(this.listenerFieldForm);\n        this.listenerForm.fields.push(this.listenerFieldForm);\n      } else {\n        this.fieldsListOfListener.splice(this.editingListenerFieldIndex, 1, this.listenerFieldForm);\n        this.listenerForm.fields.splice(this.editingListenerFieldIndex, 1, this.listenerFieldForm);\n      }\n      this.listenerFieldFormModelVisible = false;\n      this.$nextTick(() => (this.listenerFieldForm = {}));\n    },\n    // 移除监听器字段\n    removeListenerField(field, index) {\n      this.$confirm(\"确认移除该字段吗？\", \"提示\", {\n        confirmButtonText: \"确 认\",\n        cancelButtonText: \"取 消\"\n      })\n        .then(() => {\n          this.fieldsListOfListener.splice(index, 1);\n          this.listenerForm.fields.splice(index, 1);\n        })\n        .catch(() => console.info(\"操作取消\"));\n    }\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserTaskListeners.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserTaskListeners.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserTaskListeners.vue?vue&type=template&id=871875ac&\"\nimport script from \"./UserTaskListeners.vue?vue&type=script&lang=js&\"\nexport * from \"./UserTaskListeners.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"panel-tab__content\"},[_c('el-table',{attrs:{\"data\":_vm.elementListenersList,\"size\":\"mini\",\"border\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"序号\",\"width\":\"50px\",\"type\":\"index\"}}),_c('el-table-column',{attrs:{\"label\":\"事件类型\",\"min-width\":\"80px\",\"show-overflow-tooltip\":\"\",\"formatter\":function (row) { return _vm.listenerEventTypeObject[row.events]; }}}),_c('el-table-column',{attrs:{\"label\":\"监听器类型\",\"min-width\":\"80px\",\"show-overflow-tooltip\":\"\",\"formatter\":function (row) { return _vm.listenerTypeObject[row.listenerType]; }}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"90px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nvar $index = ref.$index;\nreturn [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"text\"},on:{\"click\":function($event){return _vm.openListenerForm(row, $index)}}},[_vm._v(\"编辑\")]),_c('el-divider',{attrs:{\"direction\":\"vertical\"}}),_c('el-button',{staticStyle:{\"color\":\"#ff4d4f\"},attrs:{\"size\":\"mini\",\"type\":\"text\"},on:{\"click\":function($event){return _vm.removeListener(row, $index)}}},[_vm._v(\"移除\")])]}}])})],1),_c('div',{staticClass:\"element-drawer__button\"},[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\",\"icon\":\"el-icon-plus\"},on:{\"click\":function($event){return _vm.openListenerForm(null)}}},[_vm._v(\"添加监听器\")])],1),_c('el-drawer',{attrs:{\"visible\":_vm.listenerFormModelVisible,\"title\":\"任务监听器\",\"size\":(_vm.width + \"px\"),\"append-to-body\":\"\",\"destroy-on-close\":\"\"},on:{\"update:visible\":function($event){_vm.listenerFormModelVisible=$event}}},[_c('el-form',{ref:\"listenerFormRef\",attrs:{\"size\":\"mini\",\"model\":_vm.listenerForm,\"label-width\":\"96px\"},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('el-form-item',{attrs:{\"label\":\"事件类型\",\"prop\":\"events\",\"rules\":{ required: true, trigger: ['blur', 'change'] }}},[_c('el-select',{model:{value:(_vm.listenerForm.events),callback:function ($$v) {_vm.$set(_vm.listenerForm, \"events\", $$v)},expression:\"listenerForm.events\"}},_vm._l((Object.keys(_vm.listenerEventTypeObject)),function(i){return _c('el-option',{key:i,attrs:{\"label\":_vm.listenerEventTypeObject[i],\"value\":i}})}),1)],1),(this.prefix == 'camunda')?_c('el-form-item',{attrs:{\"label\":\"监听器ID\",\"prop\":\"id\",\"rules\":{ required: true, trigger: ['blur', 'change'] }}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.listenerForm.id),callback:function ($$v) {_vm.$set(_vm.listenerForm, \"id\", $$v)},expression:\"listenerForm.id\"}})],1):_vm._e(),_c('el-form-item',{attrs:{\"label\":\"监听器类型\",\"prop\":\"listenerType\",\"rules\":{ required: true, trigger: ['blur', 'change'] }}},[_c('el-select',{model:{value:(_vm.listenerForm.listenerType),callback:function ($$v) {_vm.$set(_vm.listenerForm, \"listenerType\", $$v)},expression:\"listenerForm.listenerType\"}},_vm._l((Object.keys(_vm.listenerTypeObject)),function(i){return _c('el-option',{key:i,attrs:{\"label\":_vm.listenerTypeObject[i],\"value\":i}})}),1)],1),(_vm.listenerForm.listenerType === 'classListener')?_c('el-form-item',{key:\"listener-class\",attrs:{\"label\":\"Java类\",\"prop\":\"class\",\"rules\":{ required: true, trigger: ['blur', 'change'] }}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.listenerForm.class),callback:function ($$v) {_vm.$set(_vm.listenerForm, \"class\", $$v)},expression:\"listenerForm.class\"}})],1):_vm._e(),(_vm.listenerForm.listenerType === 'delegateExpressionListener')?_c('el-form-item',{key:\"listener-delegate\",attrs:{\"label\":\"代理表达式\",\"prop\":\"delegateExpression\",\"rules\":{ required: true, trigger: ['blur', 'change'] }}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.listenerForm.delegateExpression),callback:function ($$v) {_vm.$set(_vm.listenerForm, \"delegateExpression\", $$v)},expression:\"listenerForm.delegateExpression\"}})],1):_vm._e(),_c('el-form-item',{key:\"listener-entityType\",attrs:{\"label\":\"实体类型\",\"prop\":\"entityTypeListener\"}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.listenerForm.entityType),callback:function ($$v) {_vm.$set(_vm.listenerForm, \"entityType\", $$v)},expression:\"listenerForm.entityType\"}})],1)],1),_c('div',{staticClass:\"element-drawer__button\"},[_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){_vm.listenerFormModelVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":_vm.saveListenerConfig}},[_vm._v(\"保 存\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"panel-tab__content\">\n    <el-table :data=\"elementListenersList\" size=\"mini\" border>\n      <el-table-column label=\"序号\" width=\"50px\" type=\"index\" />\n      <el-table-column label=\"事件类型\" min-width=\"80px\" show-overflow-tooltip :formatter=\"row => listenerEventTypeObject[row.events]\" />\n      <el-table-column label=\"监听器类型\" min-width=\"80px\" show-overflow-tooltip :formatter=\"row => listenerTypeObject[row.listenerType]\" />\n      <el-table-column label=\"操作\" width=\"90px\">\n        <template slot-scope=\"{ row, $index }\">\n          <el-button size=\"mini\" type=\"text\" @click=\"openListenerForm(row, $index)\">编辑</el-button>\n          <el-divider direction=\"vertical\" />\n          <el-button size=\"mini\" type=\"text\" style=\"color: #ff4d4f\" @click=\"removeListener(row, $index)\">移除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <div class=\"element-drawer__button\">\n      <el-button size=\"mini\" type=\"primary\" icon=\"el-icon-plus\" @click=\"openListenerForm(null)\">添加监听器</el-button>\n    </div>\n\n    <!-- 监听器 编辑/创建 部分 -->\n    <el-drawer :visible.sync=\"listenerFormModelVisible\" title=\"任务监听器\" :size=\"`${width}px`\" append-to-body destroy-on-close>\n      <el-form size=\"mini\" :model=\"listenerForm\" label-width=\"96px\" ref=\"listenerFormRef\" @submit.native.prevent>\n        <el-form-item label=\"事件类型\" prop=\"events\" :rules=\"{ required: true, trigger: ['blur', 'change'] }\">\n          <el-select v-model=\"listenerForm.events\">\n            <el-option v-for=\"i in Object.keys(listenerEventTypeObject)\" :key=\"i\" :label=\"listenerEventTypeObject[i]\" :value=\"i\" />\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"监听器ID\" v-if=\"this.prefix == 'camunda'\" prop=\"id\" :rules=\"{ required: true, trigger: ['blur', 'change'] }\">\n          <el-input v-model=\"listenerForm.id\" clearable />\n        </el-form-item>\n        <el-form-item label=\"监听器类型\" prop=\"listenerType\" :rules=\"{ required: true, trigger: ['blur', 'change'] }\">\n          <el-select v-model=\"listenerForm.listenerType\">\n            <el-option v-for=\"i in Object.keys(listenerTypeObject)\" :key=\"i\" :label=\"listenerTypeObject[i]\" :value=\"i\" />\n          </el-select>\n        </el-form-item>\n        <el-form-item\n          v-if=\"listenerForm.listenerType === 'classListener'\"\n          label=\"Java类\"\n          prop=\"class\"\n          key=\"listener-class\"\n          :rules=\"{ required: true, trigger: ['blur', 'change'] }\"\n        >\n          <el-input v-model=\"listenerForm.class\" clearable />\n        </el-form-item>\n        <el-form-item\n          v-if=\"listenerForm.listenerType === 'delegateExpressionListener'\"\n          label=\"代理表达式\"\n          prop=\"delegateExpression\"\n          key=\"listener-delegate\"\n          :rules=\"{ required: true, trigger: ['blur', 'change'] }\"\n        >\n          <el-input v-model=\"listenerForm.delegateExpression\" clearable />\n        </el-form-item>\n        <el-form-item label=\"实体类型\" prop=\"entityTypeListener\" key=\"listener-entityType\">\n          <el-input v-model=\"listenerForm.entityType\" clearable />\n        </el-form-item>\n      </el-form>\n\n      <div class=\"element-drawer__button\">\n        <el-button size=\"mini\" @click=\"listenerFormModelVisible = false\">取 消</el-button>\n        <el-button size=\"mini\" type=\"primary\" @click=\"saveListenerConfig\">保 存</el-button>\n      </div>\n    </el-drawer>\n  </div>\n</template>\n<script>\nimport { createEventListenerObject, updateElementExtensions } from \"../../utils\";\nimport { initListenerForm, initListenerType, flowableEventType, flowablelistenerType } from \"./utilSelf\";\n\nexport default {\n  name: \"UserTaskListeners\",\n  props: {\n    id: String,\n    type: String\n  },\n  inject: {\n    prefix: \"prefix\",\n    width: \"width\"\n  },\n  data() {\n    return {\n      elementListenersList: [],\n      listenerEventTypeObject: flowableEventType,\n      listenerTypeObject: flowablelistenerType,\n      listenerFormModelVisible: false,\n      listenerForm: {},\n      editingListenerIndex: -1, // 监听器所在下标，-1 为新增\n      editingListenerFieldIndex: -1 // 字段所在下标，-1 为新增\n    };\n  },\n  watch: {\n    id: {\n      immediate: true,\n      handler(val) {\n        val && val.length && this.$nextTick(() => this.resetListenersList());\n      }\n    }\n  },\n  methods: {\n    resetListenersList() {\n      this.bpmnElement = window.bpmnInstances.bpmnElement;\n      this.otherExtensionList = [];\n      this.bpmnElementListeners = this.bpmnElement.businessObject?.extensionElements?.values?.filter(ex => ex.$type === `${this.prefix}:EventListener`) ?? [];\n      this.elementListenersList = this.bpmnElementListeners.map(listener => initListenerType(listener));\n    },\n    openListenerForm(listener, index) {\n      if (listener) {\n        this.listenerForm = initListenerForm(listener);\n        this.editingListenerIndex = index;\n      } else {\n        this.listenerForm = {};\n        this.editingListenerIndex = -1; // 标记为新增\n      }\n      // 打开侧边栏并清楚验证状态\n      this.listenerFormModelVisible = true;\n      this.$nextTick(() => {\n        if (this.$refs[\"listenerFormRef\"]) this.$refs[\"listenerFormRef\"].clearValidate();\n      });\n    },\n    // 移除监听器\n    removeListener(listener, index) {\n      this.$confirm(\"确认移除该监听器吗？\", \"提示\", {\n        confirmButtonText: \"确 认\",\n        cancelButtonText: \"取 消\"\n      })\n        .then(() => {\n          this.bpmnElementListeners.splice(index, 1);\n          this.elementListenersList.splice(index, 1);\n          // 保存其他配置\n          this.otherExtensionList = this.bpmnElement.businessObject?.extensionElements?.values?.filter(ex => ex.$type !== `${this.prefix}:EventListener`) ?? [];\n          updateElementExtensions(this.bpmnElement, this.otherExtensionList.concat(this.bpmnElementListeners));\n        })\n        .catch(() => console.info(\"操作取消\"));\n    },\n    // 保存监听器\n    async saveListenerConfig() {\n      let validateStatus = await this.$refs[\"listenerFormRef\"].validate();\n      if (!validateStatus) return; // 验证不通过直接返回\n      const listenerObject = createEventListenerObject(this.listenerForm, this.prefix);\n      if (this.editingListenerIndex === -1) {\n        this.bpmnElementListeners.push(listenerObject);\n        this.elementListenersList.push(this.listenerForm);\n      } else {\n        this.bpmnElementListeners.splice(this.editingListenerIndex, 1, listenerObject);\n        this.elementListenersList.splice(this.editingListenerIndex, 1, this.listenerForm);\n      }\n      // 保存其他配置\n      this.otherExtensionList = this.bpmnElement.businessObject?.extensionElements?.values?.filter(ex => ex.$type !== `${this.prefix}:EventListener`) ?? [];\n      updateElementExtensions(this.bpmnElement, this.otherExtensionList.concat(this.bpmnElementListeners));\n      // 4. 隐藏侧边栏\n      this.listenerFormModelVisible = false;\n      this.listenerForm = {};\n    }\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventListeners.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventListeners.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EventListeners.vue?vue&type=template&id=689ce340&\"\nimport script from \"./EventListeners.vue?vue&type=script&lang=js&\"\nexport * from \"./EventListeners.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"process-panel__container\" :style=\"{ width: `${this.width}px` }\">\n    <el-collapse v-model=\"activeTab\">\n      <el-collapse-item name=\"base\">\n        <div slot=\"title\" class=\"panel-tab__title\"><i class=\"el-icon-info\"></i>常规</div>\n        <element-base-info :id-edit-disabled=\"idEditDisabled\" :business-object=\"elementBusinessObject\" :type=\"elementType\" />\n      </el-collapse-item>\n      <el-collapse-item name=\"serviceTask\" v-if=\"elementType === 'ServiceTask'\" key=\"serviceTask\">\n        <div slot=\"title\" class=\"panel-tab__title\"><i class=\"el-icon-s-claim\"></i>服务任务</div>\n        <service-task :id=\"elementId\" :type=\"elementType\" />\n      </el-collapse-item>\n      <el-collapse-item name=\"condition\" v-if=\"elementType === 'Process'\" key=\"message\">\n        <div slot=\"title\" class=\"panel-tab__title\"><i class=\"el-icon-s-comment\"></i>消息与信号</div>\n        <signal-and-massage :force=\"force\" />\n      </el-collapse-item>\n      <el-collapse-item name=\"condition\" v-if=\"conditionFormVisible\" key=\"condition\">\n        <div slot=\"title\" class=\"panel-tab__title\"><i class=\"el-icon-s-promotion\"></i>流转条件</div>\n        <flow-condition :business-object=\"elementBusinessObject\" :type=\"elementType\" />\n      </el-collapse-item>\n      <el-collapse-item name=\"condition\" v-if=\"formVisible\" key=\"form\">\n        <div slot=\"title\" class=\"panel-tab__title\"><i class=\"el-icon-s-order\"></i>表单</div>\n        <element-form :id=\"elementId\" :type=\"elementType\" />\n      </el-collapse-item>\n      <el-collapse-item name=\"task\" v-if=\"elementType.indexOf('UserTask') !== -1\" key=\"task\">\n        <div slot=\"title\" class=\"panel-tab__title\"><i class=\"el-icon-s-claim\"></i>任务</div>\n        <element-task :id=\"elementId\" :type=\"elementType\" />\n      </el-collapse-item>\n      <el-collapse-item name=\"multiInstance\" v-if=\"elementType.indexOf('Task') !== -1\" key=\"multiInstance\">\n        <div slot=\"title\" class=\"panel-tab__title\"><i class=\"el-icon-s-help\"></i>多实例</div>\n        <element-multi-instance :business-object=\"elementBusinessObject\" :type=\"elementType\" />\n      </el-collapse-item>\n      <el-collapse-item name=\"eventlisteners\" v-if=\"elementType === 'Process' && prefix === 'flowable'\" key=\"eventlisteners\">\n        <div slot=\"title\" class=\"panel-tab__title\"><i class=\"el-icon-message-solid\"></i>事件监听器</div>\n        <event-listeners :id=\"elementId\" :type=\"elementType\" />\n      </el-collapse-item>\n      <el-collapse-item name=\"listeners\" key=\"listeners\">\n        <div slot=\"title\" class=\"panel-tab__title\"><i class=\"el-icon-message-solid\"></i>执行监听器</div>\n        <element-listeners :id=\"elementId\" :type=\"elementType\" />\n      </el-collapse-item>\n      <el-collapse-item name=\"taskListeners\" v-if=\"elementType === 'UserTask'\" key=\"taskListeners\">\n        <div slot=\"title\" class=\"panel-tab__title\"><i class=\"el-icon-message-solid\"></i>任务监听器</div>\n        <user-task-listeners :id=\"elementId\" :type=\"elementType\" />\n      </el-collapse-item>\n      <el-collapse-item name=\"extensions\" key=\"extensions\">\n        <div slot=\"title\" class=\"panel-tab__title\"><i class=\"el-icon-circle-plus\"></i>扩展属性</div>\n        <element-properties :id=\"elementId\" :type=\"elementType\" />\n      </el-collapse-item>\n      <el-collapse-item name=\"other\" key=\"other\">\n        <div slot=\"title\" class=\"panel-tab__title\"><i class=\"el-icon-s-promotion\"></i>其他</div>\n        <element-other-config :id=\"elementId\" />\n      </el-collapse-item>\n    </el-collapse>\n  </div>\n</template>\n<script>\nimport ElementBaseInfo from \"./base/ElementBaseInfo\";\nimport ElementOtherConfig from \"./other/ElementOtherConfig\";\nimport ElementTask from \"./task/ElementTask\";\nimport ServiceTask from \"./task/ServiceTask\";\nimport ElementMultiInstance from \"./multi-instance/ElementMultiInstance\";\nimport FlowCondition from \"./flow-condition/FlowCondition\";\nimport SignalAndMassage from \"./signal-message/SignalAndMessage\";\nimport ElementListeners from \"./listeners/ElementListeners\";\nimport ElementProperties from \"./properties/ElementProperties\";\nimport ElementForm from \"./form/ElementForm\";\nimport UserTaskListeners from \"./listeners/UserTaskListeners\";\nimport EventListeners from \"./listeners/EventListeners\";\n/**\n * 侧边栏\n * @Author MiyueFE\n * @Home https://github.com/miyuesc\n * @Date 2021年3月31日18:57:51\n */\nexport default {\n  name: \"MyPropertiesPanel\",\n  components: {\n    UserTaskListeners,\n    EventListeners,\n    ElementForm,\n    ElementProperties,\n    ElementListeners,\n    SignalAndMassage,\n    FlowCondition,\n    ElementMultiInstance,\n    ElementTask,\n    ServiceTask,\n    ElementOtherConfig,\n    ElementBaseInfo\n  },\n  componentName: \"MyPropertiesPanel\",\n  props: {\n    bpmnModeler: Object,\n    prefix: {\n      type: String,\n      default: \"camunda\"\n    },\n    width: {\n      type: Number,\n      default: 480\n    },\n    idEditDisabled: {\n      type: Boolean,\n      default: false\n    }\n  },\n  provide() {\n    return {\n      prefix: this.prefix,\n      width: this.width\n    };\n  },\n  data() {\n    return {\n      activeTab: \"base\",\n      elementId: \"\",\n      elementType: \"\",\n      elementBusinessObject: {}, // 元素 businessObject 镜像，提供给需要做判断的组件使用\n      conditionFormVisible: false, // 流转条件设置\n      formVisible: false, // 表单配置\n      force: 1 //导入文件时 signal-and-massage的初始化开关\n    };\n  },\n  watch: {\n    elementId: {\n      handler() {\n        this.activeTab = \"base\";\n      }\n    }\n  },\n  created() {\n    this.initModels();\n  },\n  methods: {\n    initModels() {\n      // 初始化 modeler 以及其他 moddle\n      if (!this.bpmnModeler) {\n        // 避免加载时 流程图 并未加载完成\n        this.timer = setTimeout(() => this.initModels(), 10);\n        return;\n      }\n      if (this.timer) clearTimeout(this.timer);\n      window.bpmnInstances = {\n        modeler: this.bpmnModeler,\n        modeling: this.bpmnModeler.get(\"modeling\"),\n        moddle: this.bpmnModeler.get(\"moddle\"),\n        eventBus: this.bpmnModeler.get(\"eventBus\"),\n        bpmnFactory: this.bpmnModeler.get(\"bpmnFactory\"),\n        elementFactory: this.bpmnModeler.get(\"elementFactory\"),\n        elementRegistry: this.bpmnModeler.get(\"elementRegistry\"),\n        replace: this.bpmnModeler.get(\"replace\"),\n        selection: this.bpmnModeler.get(\"selection\")\n      };\n      this.getActiveElement();\n    },\n    getActiveElement() {\n      // 初始第一个选中元素 bpmn:Process\n      this.initFormOnChanged(null);\n      this.bpmnModeler.on(\"import.done\", e => {\n        this.initFormOnChanged(null);\n      });\n      // 监听选择事件，修改当前激活的元素以及表单\n      this.bpmnModeler.on(\"selection.changed\", ({ newSelection }) => {\n        this.initFormOnChanged(newSelection[0] || null);\n      });\n      this.bpmnModeler.on(\"element.changed\", ({ element }) => {\n        // 保证 修改 \"默认流转路径\" 类似需要修改多个元素的事件发生的时候，更新表单的元素与原选中元素不一致。\n        if (element && element.id === this.elementId) {\n          this.initFormOnChanged(element);\n        }\n      });\n    },\n    // 初始化数据\n    initFormOnChanged(element) {\n      let activatedElement = element;\n      if (!activatedElement) {\n        activatedElement =\n          window.bpmnInstances.elementRegistry.find(el => el.type === \"bpmn:Process\") ??\n          window.bpmnInstances.elementRegistry.find(el => el.type === \"bpmn:Collaboration\");\n      }\n      if (!activatedElement) return;\n      console.log(\"activatedElement: \", activatedElement);\n      console.log(`\n              ----------\n      select element changed:\n                id:  ${activatedElement.id}\n              type:  ${activatedElement.businessObject.$type}\n              ----------\n              `);\n      console.log(\"businessObject: \", activatedElement.businessObject);\n      window.bpmnInstances.bpmnElement = activatedElement;\n      this.bpmnElement = activatedElement;\n      this.elementId = activatedElement.id;\n      this.elementType = activatedElement.type.split(\":\")[1] || \"\";\n      this.elementBusinessObject = JSON.parse(JSON.stringify(activatedElement.businessObject));\n      this.conditionFormVisible = !!(\n        this.elementType === \"SequenceFlow\" &&\n        activatedElement.source &&\n        activatedElement.source.type.indexOf(\"StartEvent\") === -1\n      );\n      this.formVisible = this.elementType === \"UserTask\" || this.elementType === \"StartEvent\";\n\n      this.force = this.force + 1;\n    },\n    beforeDestroy() {\n      window.bpmnInstances = null;\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PropertiesPanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PropertiesPanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PropertiesPanel.vue?vue&type=template&id=783a9561&\"\nimport script from \"./PropertiesPanel.vue?vue&type=script&lang=js&\"\nexport * from \"./PropertiesPanel.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import MyPropertiesPanel from \"./PropertiesPanel.vue\";\n\nMyPropertiesPanel.install = function(Vue) {\n  Vue.component(MyPropertiesPanel.name, MyPropertiesPanel);\n};\n\nexport default MyPropertiesPanel;\n","import MyProcessDesigner from \"./designer\";\nimport MyProcessPenal from \"./penal\";\n\nconst components = [MyProcessDesigner, MyProcessPenal];\n\nconst install = function(Vue) {\n  components.forEach(component => {\n    Vue.component(component.name, component);\n  });\n};\n\nif (typeof window !== \"undefined\" && window.Vue) {\n  install(window.Vue);\n}\n\nexport default {\n  version: \"0.0.1\",\n  install,\n  ...components\n};\n","import Vue from \"vue\";\nimport App from \"./App.vue\";\n\nimport axios from \"axios\";\nVue.prototype.$axios = axios;\n\n// 加载基础ElementUI\nimport ElementUI from \"element-ui\";\nVue.use(ElementUI);\nimport \"../package/theme/element-variables.scss\";\n\nimport { vuePlugin } from \"@/highlight\";\nimport \"highlight.js/styles/atom-one-dark-reasonable.css\";\nVue.use(vuePlugin);\n\nimport MyPD from \"../package/index.js\";\nVue.use(MyPD);\nimport \"../package/theme/index.scss\";\n\nimport \"bpmn-js/dist/assets/diagram-js.css\";\nimport \"bpmn-js/dist/assets/bpmn-font/css/bpmn.css\";\nimport \"bpmn-js/dist/assets/bpmn-font/css/bpmn-codes.css\";\n\n// import \"bpmn-js-properties-panel/dist/assets/bpmn-js-properties-panel.css\"; // 右边工具栏样式\n\nnew Vue({\n  render: h => h(App)\n}).$mount(\"#app\");\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","\"use strict\";\n\nvar isFunction = require(\"min-dash\").isFunction,\n  isObject = require(\"min-dash\").isObject,\n  some = require(\"min-dash\").some;\n\nvar WILDCARD = \"*\";\n\nfunction CamundaModdleExtension(eventBus) {\n  var self = this;\n\n  eventBus.on(\"moddleCopy.canCopyProperty\", function(context) {\n    var property = context.property,\n      parent = context.parent;\n\n    return self.canCopyProperty(property, parent);\n  });\n}\n\nCamundaModdleExtension.$inject = [\"eventBus\"];\n\n/**\n * Check wether to disallow copying property.\n */\nCamundaModdleExtension.prototype.canCopyProperty = function(property, parent) {\n  // (1) check wether property is allowed in parent\n  if (isObject(property) && !isAllowedInParent(property, parent)) {\n    return false;\n  }\n\n  // (2) check more complex scenarios\n\n  if (is(property, \"camunda:InputOutput\") && !this.canHostInputOutput(parent)) {\n    return false;\n  }\n\n  if (isAny(property, [\"camunda:Connector\", \"camunda:Field\"]) && !this.canHostConnector(parent)) {\n    return false;\n  }\n\n  if (is(property, \"camunda:In\") && !this.canHostIn(parent)) {\n    return false;\n  }\n};\n\nCamundaModdleExtension.prototype.canHostInputOutput = function(parent) {\n  // allowed in camunda:Connector\n  var connector = getParent(parent, \"camunda:Connector\");\n\n  if (connector) {\n    return true;\n  }\n\n  // special rules inside bpmn:FlowNode\n  var flowNode = getParent(parent, \"bpmn:FlowNode\");\n\n  if (!flowNode) {\n    return false;\n  }\n\n  if (isAny(flowNode, [\"bpmn:StartEvent\", \"bpmn:Gateway\", \"bpmn:BoundaryEvent\"])) {\n    return false;\n  }\n\n  if (is(flowNode, \"bpmn:SubProcess\") && flowNode.get(\"triggeredByEvent\")) {\n    return false;\n  }\n\n  return true;\n};\n\nCamundaModdleExtension.prototype.canHostConnector = function(parent) {\n  var serviceTaskLike = getParent(parent, \"camunda:ServiceTaskLike\");\n\n  if (is(serviceTaskLike, \"bpmn:MessageEventDefinition\")) {\n    // only allow on throw and end events\n    return getParent(parent, \"bpmn:IntermediateThrowEvent\") || getParent(parent, \"bpmn:EndEvent\");\n  }\n\n  return true;\n};\n\nCamundaModdleExtension.prototype.canHostIn = function(parent) {\n  var callActivity = getParent(parent, \"bpmn:CallActivity\");\n\n  if (callActivity) {\n    return true;\n  }\n\n  var signalEventDefinition = getParent(parent, \"bpmn:SignalEventDefinition\");\n\n  if (signalEventDefinition) {\n    // only allow on throw and end events\n    return getParent(parent, \"bpmn:IntermediateThrowEvent\") || getParent(parent, \"bpmn:EndEvent\");\n  }\n\n  return true;\n};\n\nmodule.exports = CamundaModdleExtension;\n\n// helpers //////////\n\nfunction is(element, type) {\n  return element && isFunction(element.$instanceOf) && element.$instanceOf(type);\n}\n\nfunction isAny(element, types) {\n  return some(types, function(t) {\n    return is(element, t);\n  });\n}\n\nfunction getParent(element, type) {\n  if (!type) {\n    return element.$parent;\n  }\n\n  if (is(element, type)) {\n    return element;\n  }\n\n  if (!element.$parent) {\n    return;\n  }\n\n  return getParent(element.$parent, type);\n}\n\nfunction isAllowedInParent(property, parent) {\n  // (1) find property descriptor\n  var descriptor = property.$type && property.$model.getTypeDescriptor(property.$type);\n\n  var allowedIn = descriptor && descriptor.meta && descriptor.meta.allowedIn;\n\n  if (!allowedIn || isWildcard(allowedIn)) {\n    return true;\n  }\n\n  // (2) check wether property has parent of allowed type\n  return some(allowedIn, function(type) {\n    return getParent(parent, type);\n  });\n}\n\nfunction isWildcard(allowedIn) {\n  return allowedIn.indexOf(WILDCARD) !== -1;\n}\n","\"use strict\";\n\nvar some = require(\"min-dash\").some;\n\nvar ALLOWED_TYPES = {\n  FailedJobRetryTimeCycle: [\"bpmn:StartEvent\", \"bpmn:BoundaryEvent\", \"bpmn:IntermediateCatchEvent\", \"bpmn:Activity\"],\n  Connector: [\"bpmn:EndEvent\", \"bpmn:IntermediateThrowEvent\"],\n  Field: [\"bpmn:EndEvent\", \"bpmn:IntermediateThrowEvent\"]\n};\n\nfunction is(element, type) {\n  return element && typeof element.$instanceOf === \"function\" && element.$instanceOf(type);\n}\n\nfunction exists(element) {\n  return element && element.length;\n}\n\nfunction includesType(collection, type) {\n  return (\n    exists(collection) &&\n    some(collection, function(element) {\n      return is(element, type);\n    })\n  );\n}\n\nfunction anyType(element, types) {\n  return some(types, function(type) {\n    return is(element, type);\n  });\n}\n\nfunction isAllowed(propName, propDescriptor, newElement) {\n  var name = propDescriptor.name,\n    types = ALLOWED_TYPES[name.replace(/activiti:/, \"\")];\n\n  return name === propName && anyType(newElement, types);\n}\n\nfunction ActivitiModdleExtension(eventBus) {\n  eventBus.on(\n    \"property.clone\",\n    function(context) {\n      var newElement = context.newElement,\n        propDescriptor = context.propertyDescriptor;\n\n      this.canCloneProperty(newElement, propDescriptor);\n    },\n    this\n  );\n}\n\nActivitiModdleExtension.$inject = [\"eventBus\"];\n\nActivitiModdleExtension.prototype.canCloneProperty = function(newElement, propDescriptor) {\n  if (isAllowed(\"activiti:FailedJobRetryTimeCycle\", propDescriptor, newElement)) {\n    return (\n      includesType(newElement.eventDefinitions, \"bpmn:TimerEventDefinition\") ||\n      includesType(newElement.eventDefinitions, \"bpmn:SignalEventDefinition\") ||\n      is(newElement.loopCharacteristics, \"bpmn:MultiInstanceLoopCharacteristics\")\n    );\n  }\n\n  if (isAllowed(\"activiti:Connector\", propDescriptor, newElement)) {\n    return includesType(newElement.eventDefinitions, \"bpmn:MessageEventDefinition\");\n  }\n\n  if (isAllowed(\"activiti:Field\", propDescriptor, newElement)) {\n    return includesType(newElement.eventDefinitions, \"bpmn:MessageEventDefinition\");\n  }\n};\n\nmodule.exports = ActivitiModdleExtension;\n","/*\n * @author igdianov\n * address https://github.com/igdianov/activiti-bpmn-moddle\n * */\n\nmodule.exports = {\n  __init__: [\"FlowableModdleExtension\"],\n  FlowableModdleExtension: [\"type\", require(\"./flowableExtension\")]\n};\n"],"sourceRoot":""}